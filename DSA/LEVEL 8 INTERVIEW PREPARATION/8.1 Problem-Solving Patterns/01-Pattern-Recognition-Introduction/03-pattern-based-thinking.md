# Chapter 3: Pattern-Based Thinking

## ğŸ“‹ Chapter Overview
Develop the **mental framework** for approaching any problem using patterns. Learn to think in templates, recognize structural similarities between problems, and build a systematic solving methodology.

---

## ğŸ§  The Pattern-Based Mindset

```
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚             NOVICE vs EXPERT THINKING                   â”‚
  â”‚                                                         â”‚
  â”‚   NOVICE:                                               â”‚
  â”‚   "What's the trick for this specific problem?"         â”‚
  â”‚        â”‚                                                â”‚
  â”‚        â–¼                                                â”‚
  â”‚   Tries random approaches â†’ Wastes 30+ minutes          â”‚
  â”‚                                                         â”‚
  â”‚   EXPERT:                                               â”‚
  â”‚   "What pattern does this problem belong to?"           â”‚
  â”‚        â”‚                                                â”‚
  â”‚        â–¼                                                â”‚
  â”‚   Applies template â†’ Solves in 10-15 minutes            â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ The 5-Step Pattern Matching Process

```
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                      â”‚
  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                       â”‚
  â”‚   â”‚ 1. READ  â”‚  Understand what is asked             â”‚
  â”‚   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                                       â”‚
  â”‚        â”‚                                             â”‚
  â”‚        â–¼                                             â”‚
  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                       â”‚
  â”‚   â”‚2. EXTRACTâ”‚  Pull out keywords + constraints      â”‚
  â”‚   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                                       â”‚
  â”‚        â”‚                                             â”‚
  â”‚        â–¼                                             â”‚
  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                       â”‚
  â”‚   â”‚ 3. MATCH â”‚  Map to known pattern(s)              â”‚
  â”‚   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                                       â”‚
  â”‚        â”‚                                             â”‚
  â”‚        â–¼                                             â”‚
  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                       â”‚
  â”‚   â”‚ 4. APPLY â”‚  Use pattern template                 â”‚
  â”‚   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                                       â”‚
  â”‚        â”‚                                             â”‚
  â”‚        â–¼                                             â”‚
  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                       â”‚
  â”‚   â”‚5. VERIFY â”‚  Test with examples + edge cases      â”‚
  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                       â”‚
  â”‚                                                      â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Detailed Breakdown:

| Step | Action | What You Do |
|------|--------|-------------|
| **1. Read** | Parse the problem | Identify input, output, constraints |
| **2. Extract** | Find signal words | "sorted", "contiguous", "shortest", "all" |
| **3. Match** | Compare with patterns | Check against your pattern library |
| **4. Apply** | Code the template | Write the skeleton, then fill details |
| **5. Verify** | Test & debug | Run through examples, check edge cases |

---

## ğŸ§© Structural Similarity Between Problems

Problems that *look* different often share the *same* structure:

```
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚          SAME PATTERN, DIFFERENT SKIN               â”‚
  â”‚                                                     â”‚
  â”‚  Problem A: "Maximum sum subarray of size K"        â”‚
  â”‚  Problem B: "Maximum average subarray of size K"    â”‚
  â”‚  Problem C: "Count subarrays with exactly K ones"   â”‚
  â”‚                                                     â”‚
  â”‚  All three â†’ SLIDING WINDOW (Fixed Size)            â”‚
  â”‚                                                     â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
  â”‚  â”‚    [  a  b  c  d  e  f  g  h  i  j  ]      â”‚    â”‚
  â”‚  â”‚    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                              â”‚    â”‚
  â”‚  â”‚    Window of K     â”€â”€â–º slide right           â”‚    â”‚
  â”‚  â”‚       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                           â”‚    â”‚
  â”‚  â”‚          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                        â”‚    â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
  â”‚                                                     â”‚
  â”‚  The STRUCTURE is identical.                        â”‚
  â”‚  Only the OPERATION inside the window changes.      â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Another Example:

```
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  Problem A: "Two sum in sorted array"               â”‚
  â”‚  Problem B: "Container with most water"             â”‚
  â”‚  Problem C: "Valid palindrome"                      â”‚
  â”‚                                                     â”‚
  â”‚  All three â†’ TWO POINTERS (Opposite Direction)      â”‚
  â”‚                                                     â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
  â”‚  â”‚    [  a  b  c  d  e  f  g  h  i  j  ]    â”‚      â”‚
  â”‚  â”‚    Lâ”€â”€â–º                          â—„â”€â”€R     â”‚      â”‚
  â”‚  â”‚       Lâ”€â”€â–º                    â—„â”€â”€R        â”‚      â”‚
  â”‚  â”‚          Lâ”€â”€â–º              â—„â”€â”€R           â”‚      â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
  â”‚                                                     â”‚
  â”‚  Different problems, same pointer movement!         â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ The Template-First Approach

Instead of coding from scratch, start with a template:

```
  TEMPLATE-FIRST METHODOLOGY

  Step 1: Write the pattern skeleton
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  function solve(input):            â”‚
  â”‚      // pattern-specific setup     â”‚
  â”‚      // main loop (pattern core)   â”‚
  â”‚      // return result              â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  Step 2: Fill in problem-specific logic
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  function solve(input):            â”‚
  â”‚      window_sum = 0                â”‚ â† specific to this problem
  â”‚      for i in range(len(input)):   â”‚ â† from template
  â”‚          window_sum += input[i]    â”‚ â† specific
  â”‚          if i >= k:                â”‚ â† from template
  â”‚              window_sum -= input[  â”‚ â† specific
  â”‚                  i - k]            â”‚
  â”‚              max_sum = max(...)     â”‚ â† specific
  â”‚      return max_sum                â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Example: Sliding Window Template

```
PSEUDOCODE â€” Generic Sliding Window Template:

function slidingWindow(arr, condition):
    left = 0
    result = initial_value
    state = {}  // tracks window state

    for right = 0 to len(arr) - 1:
        // EXPAND: add arr[right] to window state
        updateState(state, arr[right])

        // SHRINK: if window violates condition
        while not valid(state, condition):
            removeFromState(state, arr[left])
            left += 1

        // UPDATE: record best answer
        result = best(result, right - left + 1)

    return result
```

---

## ğŸ”— Pattern Connection Map

Patterns are not isolated â€” they connect and combine:

```
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  Hash    â”‚â”€â”€â”€â”€â–ºâ”‚ Sliding  â”‚â”€â”€â”€â”€â–ºâ”‚ Two      â”‚
  â”‚  Map     â”‚     â”‚ Window   â”‚     â”‚ Pointers â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                â”‚                â”‚
       â”‚                â”‚                â”‚
       â–¼                â–¼                â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ Prefix   â”‚     â”‚ Monotonicâ”‚     â”‚ Binary   â”‚
  â”‚ Sum      â”‚     â”‚ Stack    â”‚     â”‚ Search   â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚  Greedy  â”‚â”€â”€â”€â”€â–ºâ”‚    DP    â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                         â”‚
                                         â–¼
                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â”‚ State    â”‚
                                    â”‚ Machine  â”‚ 
                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Common Combinations:

| Combination | Example Problem |
|-------------|----------------|
| Binary Search + Sliding Window | "Minimum window with sum â‰¥ target" |
| Hash Map + Sliding Window | "Longest substring with K distinct chars" |
| BFS + Hash Map | "Word ladder" |
| DP + Binary Search | "Longest increasing subsequence O(n log n)" |
| Greedy + Heap | "Meeting rooms â€” minimum conference rooms" |
| Two Pointers + Sorting | "Three Sum" |

---

## ğŸ§ª Thinking Trace: Solving a Problem Step-by-Step

**Problem:** "Given a string, find the length of the longest substring without repeating characters."

### Mental Process:

```
  1. READ:
     Input: string
     Output: integer (length)
     Goal: longest substring, no repeats

  2. EXTRACT SIGNALS:
     âœ“ "substring" â†’ contiguous â†’ WINDOW
     âœ“ "longest" â†’ maximize â†’ VARIABLE WINDOW
     âœ“ "without repeating" â†’ condition to maintain

  3. MATCH PATTERN:
     Contiguous + maximize + condition = SLIDING WINDOW (variable)

  4. APPLY TEMPLATE:
     left = 0, right = 0
     Use a set/hashmap to track characters in window
     Expand right
     If duplicate found â†’ shrink from left
     Track max(right - left + 1)

  5. VERIFY:
     Input: "abcabcbb"
     
     right=0: 'a' â†’ set={a}, len=1, max=1
     right=1: 'b' â†’ set={a,b}, len=2, max=2
     right=2: 'c' â†’ set={a,b,c}, len=3, max=3
     right=3: 'a' â†’ DUPLICATE! shrink left
              left=1 â†’ remove 'a', set={b,c,a}, len=3, max=3
     right=4: 'b' â†’ DUPLICATE! shrink left
              left=2 â†’ remove 'b', set={c,a,b}, len=3, max=3
     right=5: 'c' â†’ DUPLICATE! shrink left
              left=3 â†’ remove 'c', set={a,b,c}, len=3, max=3
     right=6: 'b' â†’ DUPLICATE! shrink left
              left=4 â†’ remove 'a', still dup
              left=5 â†’ remove 'b', set={c,b}, len=2
     right=7: 'b' â†’ DUPLICATE! shrink...

     Answer: 3 âœ“
```

---

## ğŸ“ Building Your Pattern Library

```
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚          YOUR PATTERN LIBRARY                   â”‚
  â”‚                                                 â”‚
  â”‚  For each pattern, store:                       â”‚
  â”‚                                                 â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
  â”‚  â”‚ NAME: Sliding Window               â”‚        â”‚
  â”‚  â”‚ TRIGGER: subarray, substring, contigâ”‚        â”‚
  â”‚  â”‚ TEMPLATE: left/right pointer loop   â”‚        â”‚
  â”‚  â”‚ VARIANTS: fixed, variable, with map â”‚        â”‚
  â”‚  â”‚ COMPLEXITY: O(n) time, O(k) space   â”‚        â”‚
  â”‚  â”‚ EXAMPLES: Max sum K, longest substr â”‚        â”‚
  â”‚  â”‚ GOTCHAS: off-by-one, empty input    â”‚        â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
  â”‚                                                 â”‚
  â”‚  Repeat for all 12 patterns!                    â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“‹ Summary Table

| Concept | Key Takeaway |
|---------|-------------|
| 5-Step Process | Read â†’ Extract â†’ Match â†’ Apply â†’ Verify |
| Structural Similarity | Different problems can share the same pattern |
| Template-First | Always start with the pattern skeleton |
| Pattern Combinations | Patterns often combine (e.g., BinSearch + DP) |
| Signal Extraction | Keywords in the problem statement map to patterns |
| Pattern Library | Build a mental catalog of triggers, templates, and variants |

---

## â“ Quick Revision Questions

1. **What are the 5 steps of pattern matching?**
   > Read â†’ Extract keywords â†’ Match pattern â†’ Apply template â†’ Verify with examples.

2. **Why do "container with most water" and "two sum (sorted)" use the same pattern?**
   > Both use Two Pointers (opposite direction) â€” they share the same structure of moving pointers inward based on a comparison.

3. **What does "Template-First" mean?**
   > Start with the pattern skeleton code and fill in problem-specific logic, rather than coding from scratch.

4. **Name two common pattern combinations.**
   > Binary Search + Sliding Window, Hash Map + Sliding Window, DP + Binary Search, etc.

5. **How should you build your pattern library?**
   > For each pattern, record: Name, Trigger keywords, Template code, Variants, Complexity, Example problems, and Common gotchas.

6. **When you see "longest substring" in a problem, what pattern should you think of first?**
   > Sliding Window (variable size).

---

[â† Previous: Identifying Problem Types](02-identifying-problem-types.md) | [Next: Building Intuition â†’](04-building-intuition.md)

[â† Back to README](../README.md)
