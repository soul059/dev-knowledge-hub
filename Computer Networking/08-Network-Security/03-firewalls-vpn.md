# Chapter 8.3: Firewalls and VPNs

[â† Back to Table of Contents](../README.md)

---

## ğŸ“š Chapter Overview

Firewalls and VPNs are essential network security technologies. Firewalls control traffic flow between networks based on security rules, while VPNs create secure encrypted tunnels over public networks for private communication.

---

## ğŸ¯ Learning Objectives

- Understand firewall types and filtering techniques
- Learn firewall rule configuration concepts
- Master VPN types and tunneling protocols
- Compare IPSec and SSL VPNs

---

## 1. Firewall Fundamentals

### What is a Firewall?

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    FIREWALL OVERVIEW                                â”‚
â”‚                                                                     â”‚
â”‚    A firewall monitors and controls network traffic based on      â”‚
â”‚    predefined security rules                                       â”‚
â”‚                                                                     â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚    â”‚                                                              â”‚ â”‚
â”‚    â”‚                                                              â”‚ â”‚
â”‚    â”‚    TRUSTED NETWORK          â•‘          UNTRUSTED NETWORK    â”‚ â”‚
â”‚    â”‚    (Internal/LAN)           â•‘          (Internet)           â”‚ â”‚
â”‚    â”‚                             â•‘                                â”‚ â”‚
â”‚    â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â•‘            [Attacker]         â”‚ â”‚
â”‚    â”‚    â”‚ Server  â”‚              â•‘                 â”‚              â”‚ â”‚
â”‚    â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â•”â•â•â•â•â•â•â•©â•â•â•â•â•â•â•—         â”‚              â”‚ â”‚
â”‚    â”‚         â”‚            â•‘             â•‘         â”‚              â”‚ â”‚
â”‚    â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â•‘  FIREWALL   â•‘         â”‚              â”‚ â”‚
â”‚    â”‚    â”‚ Workstation     â•‘             â•‘â—„â”€â”€â”€â”€â”€â”€â”€â”€â”¤              â”‚ â”‚
â”‚    â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â•‘  âœ“ Allow    â•‘    BLOCKED!           â”‚ â”‚
â”‚    â”‚         â”‚            â•‘  âœ— Deny     â•‘                        â”‚ â”‚
â”‚    â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â•šâ•â•â•â•â•â•â•¦â•â•â•â•â•â•â•                        â”‚ â”‚
â”‚    â”‚    â”‚ Databaseâ”‚              â•‘            [Legitimate]       â”‚ â”‚
â”‚    â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â•‘            [  User   ]        â”‚ â”‚
â”‚    â”‚                             â•‘                 â”‚              â”‚ â”‚
â”‚    â”‚                             â•‘â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚ â”‚
â”‚    â”‚                             â•‘           ALLOWED             â”‚ â”‚
â”‚    â”‚                                                              â”‚ â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                     â”‚
â”‚    FIREWALL FUNCTIONS:                                              â”‚
â”‚    â€¢ Control access to/from network                                â”‚
â”‚    â€¢ Block malicious traffic                                       â”‚
â”‚    â€¢ Allow legitimate traffic                                      â”‚
â”‚    â€¢ Log network activity                                          â”‚
â”‚    â€¢ Create security zones                                         â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. Types of Firewalls

### Packet Filter Firewall

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    PACKET FILTER FIREWALL                           â”‚
â”‚                                                                     â”‚
â”‚    Operates at Network Layer (Layer 3) and Transport Layer (4)    â”‚
â”‚    Examines packet headers only, not content                       â”‚
â”‚                                                                     â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚    â”‚                                                              â”‚ â”‚
â”‚    â”‚  PACKET HEADER EXAMINATION:                                  â”‚ â”‚
â”‚    â”‚                                                              â”‚ â”‚
â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”‚
â”‚    â”‚  â”‚               INCOMING PACKET                            â”‚â”‚ â”‚
â”‚    â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚â”‚ â”‚
â”‚    â”‚  â”‚  â”‚ Source IP  â”‚ Dest IP    â”‚ Protocol  â”‚ Src/Dst Port â”‚ â”‚â”‚ â”‚
â”‚    â”‚  â”‚  â”‚ 1.2.3.4    â”‚ 10.0.0.5   â”‚ TCP       â”‚ 12345 â†’ 80   â”‚ â”‚â”‚ â”‚
â”‚    â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚â”‚ â”‚
â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”‚
â”‚    â”‚                         â”‚                                    â”‚ â”‚
â”‚    â”‚                         â–¼                                    â”‚ â”‚
â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”‚
â”‚    â”‚  â”‚                 FILTERING RULES                         â”‚â”‚ â”‚
â”‚    â”‚  â”‚                                                          â”‚â”‚ â”‚
â”‚    â”‚  â”‚  Rule 1: ALLOW TCP any â†’ 10.0.0.5:80 (web server)       â”‚â”‚ â”‚
â”‚    â”‚  â”‚  Rule 2: ALLOW TCP 10.0.0.0/24 â†’ any:443 (HTTPS out)    â”‚â”‚ â”‚
â”‚    â”‚  â”‚  Rule 3: DENY  any â†’ 10.0.0.5:22 (block SSH from ext)   â”‚â”‚ â”‚
â”‚    â”‚  â”‚  Rule 4: DENY  all (default deny)                       â”‚â”‚ â”‚
â”‚    â”‚  â”‚                                                          â”‚â”‚ â”‚
â”‚    â”‚  â”‚  Rules checked TOP to BOTTOM, first match wins          â”‚â”‚ â”‚
â”‚    â”‚  â”‚                                                          â”‚â”‚ â”‚
â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”‚
â”‚    â”‚                         â”‚                                    â”‚ â”‚
â”‚    â”‚                         â–¼                                    â”‚ â”‚
â”‚    â”‚                  âœ“ ALLOW or âœ— DENY                          â”‚ â”‚
â”‚    â”‚                                                              â”‚ â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                     â”‚
â”‚    ADVANTAGES:                    DISADVANTAGES:                   â”‚
â”‚    â€¢ Fast (header only)           â€¢ Can't inspect content         â”‚
â”‚    â€¢ Simple to configure          â€¢ No application awareness      â”‚
â”‚    â€¢ Low overhead                 â€¢ Stateless (each packet alone) â”‚
â”‚    â€¢ Transparent                  â€¢ IP spoofing possible          â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Stateful Inspection Firewall

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    STATEFUL INSPECTION FIREWALL                     â”‚
â”‚                                                                     â”‚
â”‚    Tracks connection state - knows if packet is part of           â”‚
â”‚    established session                                             â”‚
â”‚                                                                     â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚    â”‚                                                              â”‚ â”‚
â”‚    â”‚  CONNECTION STATE TABLE:                                     â”‚ â”‚
â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”‚
â”‚    â”‚  â”‚ Source IP    â”‚ Dest IP    â”‚ Src Portâ”‚Dst Portâ”‚ State    â”‚â”‚ â”‚
â”‚    â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚ â”‚
â”‚    â”‚  â”‚ 10.0.0.5     â”‚ 8.8.8.8    â”‚ 52341   â”‚ 443    â”‚ ESTABLISHEDâ”‚ â”‚
â”‚    â”‚  â”‚ 10.0.0.10    â”‚ 1.2.3.4    â”‚ 49200   â”‚ 80     â”‚ ESTABLISHEDâ”‚ â”‚
â”‚    â”‚  â”‚ 10.0.0.15    â”‚ 5.5.5.5    â”‚ 50100   â”‚ 22     â”‚ SYN_SENT  â”‚â”‚ â”‚
â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”‚
â”‚    â”‚                                                              â”‚ â”‚
â”‚    â”‚  HOW IT WORKS:                                               â”‚ â”‚
â”‚    â”‚                                                              â”‚ â”‚
â”‚    â”‚  1. Outgoing packet creates state entry                     â”‚ â”‚
â”‚    â”‚     [Internal] â”€â”€â”€ SYN â”€â”€â”€â–º [External]                      â”‚ â”‚
â”‚    â”‚                 (State: SYN_SENT)                           â”‚ â”‚
â”‚    â”‚                                                              â”‚ â”‚
â”‚    â”‚  2. Response packets checked against state                  â”‚ â”‚
â”‚    â”‚     [Internal] â—„â”€â”€ SYN-ACK â”€â”€â”€ [External]                   â”‚ â”‚
â”‚    â”‚                 (Matches state: ALLOW)                      â”‚ â”‚
â”‚    â”‚                 (State: ESTABLISHED)                        â”‚ â”‚
â”‚    â”‚                                                              â”‚ â”‚
â”‚    â”‚  3. Unsolicited incoming blocked                            â”‚ â”‚
â”‚    â”‚     [Internal] â—„â”€â”€ ??? â”€â”€â”€ [Attacker]                       â”‚ â”‚
â”‚    â”‚                 (No matching state: DENY)                   â”‚ â”‚
â”‚    â”‚                                                              â”‚ â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                     â”‚
â”‚    ADVANTAGES over packet filter:                                  â”‚
â”‚    â€¢ Understands connection context                                â”‚
â”‚    â€¢ Blocks unsolicited incoming traffic                          â”‚
â”‚    â€¢ Better security for dynamic protocols                        â”‚
â”‚    â€¢ Most common firewall type today                              â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Application Layer Firewall (Proxy)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    APPLICATION LAYER FIREWALL                       â”‚
â”‚                                                                     â”‚
â”‚    Operates at Layer 7, understands application protocols         â”‚
â”‚    Also called Proxy Firewall or Application Gateway              â”‚
â”‚                                                                     â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚    â”‚                                                              â”‚ â”‚
â”‚    â”‚  [Client] â•â•â•â–º [Proxy Firewall] â•â•â•â–º [Server]               â”‚ â”‚
â”‚    â”‚                      â”‚                                       â”‚ â”‚
â”‚    â”‚                      â”‚ Breaks connection                    â”‚ â”‚
â”‚    â”‚                      â”‚ at proxy                             â”‚ â”‚
â”‚    â”‚                      â”‚                                       â”‚ â”‚
â”‚    â”‚                      â–¼                                       â”‚ â”‚
â”‚    â”‚          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚ â”‚
â”‚    â”‚          â”‚ DEEP PACKET INSPECTION  â”‚                        â”‚ â”‚
â”‚    â”‚          â”‚                         â”‚                        â”‚ â”‚
â”‚    â”‚          â”‚ â€¢ Analyze HTTP headers  â”‚                        â”‚ â”‚
â”‚    â”‚          â”‚ â€¢ Check URLs            â”‚                        â”‚ â”‚
â”‚    â”‚          â”‚ â€¢ Scan for malware      â”‚                        â”‚ â”‚
â”‚    â”‚          â”‚ â€¢ Filter content        â”‚                        â”‚ â”‚
â”‚    â”‚          â”‚ â€¢ Validate protocols    â”‚                        â”‚ â”‚
â”‚    â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚ â”‚
â”‚    â”‚                                                              â”‚ â”‚
â”‚    â”‚  EXAMPLE - HTTP PROXY:                                       â”‚ â”‚
â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”‚
â”‚    â”‚  â”‚                                                          â”‚â”‚ â”‚
â”‚    â”‚  â”‚  Request: GET /downloads/malware.exe HTTP/1.1            â”‚â”‚ â”‚
â”‚    â”‚  â”‚                      â”‚                                    â”‚â”‚ â”‚
â”‚    â”‚  â”‚                      â–¼                                    â”‚â”‚ â”‚
â”‚    â”‚  â”‚          [Proxy examines request]                        â”‚â”‚ â”‚
â”‚    â”‚  â”‚          - URL contains ".exe"                           â”‚â”‚ â”‚
â”‚    â”‚  â”‚          - Category: Downloads                           â”‚â”‚ â”‚
â”‚    â”‚  â”‚          - Policy: BLOCK                                 â”‚â”‚ â”‚
â”‚    â”‚  â”‚                      â”‚                                    â”‚â”‚ â”‚
â”‚    â”‚  â”‚                      â–¼                                    â”‚â”‚ â”‚
â”‚    â”‚  â”‚          âœ— BLOCKED (403 Forbidden)                       â”‚â”‚ â”‚
â”‚    â”‚  â”‚                                                          â”‚â”‚ â”‚
â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”‚
â”‚    â”‚                                                              â”‚ â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                     â”‚
â”‚    ADVANTAGES:                    DISADVANTAGES:                   â”‚
â”‚    â€¢ Deep content inspection      â€¢ Slower (full inspection)      â”‚
â”‚    â€¢ Application-aware            â€¢ More complex                  â”‚
â”‚    â€¢ Logging and auditing         â€¢ May break some applications  â”‚
â”‚    â€¢ Can filter content           â€¢ Requires per-protocol supportâ”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. VPN (Virtual Private Network)

### VPN Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    VPN FUNDAMENTALS                                 â”‚
â”‚                                                                     â”‚
â”‚    Creates encrypted tunnel over public network                    â”‚
â”‚    Makes public network act like private network                   â”‚
â”‚                                                                     â”‚
â”‚    WITHOUT VPN:                                                     â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚    â”‚                                                              â”‚ â”‚
â”‚    â”‚  [Remote User] â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º [Office Network]  â”‚ â”‚
â”‚    â”‚                        â”‚                                     â”‚ â”‚
â”‚    â”‚                 PUBLIC INTERNET                              â”‚ â”‚
â”‚    â”‚                 (data exposed!)                              â”‚ â”‚
â”‚    â”‚                        â”‚                                     â”‚ â”‚
â”‚    â”‚                   [Eavesdropper]                             â”‚ â”‚
â”‚    â”‚                   "I can see everything!"                    â”‚ â”‚
â”‚    â”‚                                                              â”‚ â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                     â”‚
â”‚    WITH VPN:                                                        â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚    â”‚                                                              â”‚ â”‚
â”‚    â”‚  [Remote User]                          [Office Network]    â”‚ â”‚
â”‚    â”‚       â”‚                                        â”‚             â”‚ â”‚
â”‚    â”‚  [VPN Client]                            [VPN Gateway]      â”‚ â”‚
â”‚    â”‚       â”‚                                        â”‚             â”‚ â”‚
â”‚    â”‚       â””â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”˜             â”‚ â”‚
â”‚    â”‚              ENCRYPTED TUNNEL (VPN)                          â”‚ â”‚
â”‚    â”‚              â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“                          â”‚ â”‚
â”‚    â”‚                        â”‚                                     â”‚ â”‚
â”‚    â”‚                 PUBLIC INTERNET                              â”‚ â”‚
â”‚    â”‚                        â”‚                                     â”‚ â”‚
â”‚    â”‚                   [Eavesdropper]                             â”‚ â”‚
â”‚    â”‚                   "I see encrypted garbage!"                 â”‚ â”‚
â”‚    â”‚                                                              â”‚ â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                     â”‚
â”‚    VPN PROVIDES:                                                    â”‚
â”‚    â€¢ Confidentiality (encryption)                                  â”‚
â”‚    â€¢ Integrity (tamper detection)                                  â”‚
â”‚    â€¢ Authentication (verify endpoints)                             â”‚
â”‚    â€¢ Privacy (hide real IP)                                        â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### VPN Types

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    VPN TYPES                                        â”‚
â”‚                                                                     â”‚
â”‚    REMOTE ACCESS VPN:                                               â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚    â”‚                                                              â”‚ â”‚
â”‚    â”‚  Individual user connects to organization's network         â”‚ â”‚
â”‚    â”‚                                                              â”‚ â”‚
â”‚    â”‚  [Home User]                                                â”‚ â”‚
â”‚    â”‚       â”‚                                                      â”‚ â”‚
â”‚    â”‚  [VPN Client]â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—                          â”‚ â”‚
â”‚    â”‚       â”‚                          â•‘                          â”‚ â”‚
â”‚    â”‚       â””â”€â”€â”€â”€(Internet)â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•«â”€â”€â”€â–º[VPN Gateway]         â”‚ â”‚
â”‚    â”‚                                  â•‘           â”‚               â”‚ â”‚
â”‚    â”‚                            TUNNELâ•‘      [Corporate]         â”‚ â”‚
â”‚    â”‚                                  â•‘      [Network  ]         â”‚ â”‚
â”‚    â”‚                                  â•šâ•â•â•â•â•â•â•â•â•â•â•â•               â”‚ â”‚
â”‚    â”‚                                                              â”‚ â”‚
â”‚    â”‚  Use case: Remote workers, traveling employees              â”‚ â”‚
â”‚    â”‚                                                              â”‚ â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                     â”‚
â”‚    SITE-TO-SITE VPN:                                                â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚    â”‚                                                              â”‚ â”‚
â”‚    â”‚  Connects two entire networks                               â”‚ â”‚
â”‚    â”‚                                                              â”‚ â”‚
â”‚    â”‚  [Office A Network]              [Office B Network]         â”‚ â”‚
â”‚    â”‚         â”‚                               â”‚                    â”‚ â”‚
â”‚    â”‚    [VPN Gateway]â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[VPN Gateway]               â”‚ â”‚
â”‚    â”‚         â”‚              â•‘                â”‚                    â”‚ â”‚
â”‚    â”‚         â””â”€â”€(Internet)â”€â”€â•«â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚ â”‚
â”‚    â”‚                        â•‘                                     â”‚ â”‚
â”‚    â”‚                  PERMANENT TUNNEL                            â”‚ â”‚
â”‚    â”‚                                                              â”‚ â”‚
â”‚    â”‚  Use case: Branch offices, partner networks                 â”‚ â”‚
â”‚    â”‚                                                              â”‚ â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### VPN Protocols

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    VPN PROTOCOLS                                    â”‚
â”‚                                                                     â”‚
â”‚    IPSec (Internet Protocol Security):                              â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚    â”‚                                                              â”‚ â”‚
â”‚    â”‚  â€¢ Operates at Network Layer (Layer 3)                      â”‚ â”‚
â”‚    â”‚  â€¢ Suite of protocols:                                      â”‚ â”‚
â”‚    â”‚    - AH (Authentication Header): Integrity only            â”‚ â”‚
â”‚    â”‚    - ESP (Encapsulating Security Payload): Encrypt + Auth  â”‚ â”‚
â”‚    â”‚    - IKE (Internet Key Exchange): Key management           â”‚ â”‚
â”‚    â”‚                                                              â”‚ â”‚
â”‚    â”‚  MODES:                                                      â”‚ â”‚
â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚ â”‚
â”‚    â”‚  â”‚ TRANSPORT MODE:                                      â”‚    â”‚ â”‚
â”‚    â”‚  â”‚ [IP Header][ESP/AH Header][Original Payload]         â”‚    â”‚ â”‚
â”‚    â”‚  â”‚ â€¢ Only payload encrypted                             â”‚    â”‚ â”‚
â”‚    â”‚  â”‚ â€¢ Original IP header visible                         â”‚    â”‚ â”‚
â”‚    â”‚  â”‚ â€¢ Host-to-host                                       â”‚    â”‚ â”‚
â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚ â”‚
â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚ â”‚
â”‚    â”‚  â”‚ TUNNEL MODE:                                         â”‚    â”‚ â”‚
â”‚    â”‚  â”‚ [New IP][ESP/AH][Original IP Header][Payload]        â”‚    â”‚ â”‚
â”‚    â”‚  â”‚ â€¢ Entire original packet encrypted                   â”‚    â”‚ â”‚
â”‚    â”‚  â”‚ â€¢ New IP header added                                â”‚    â”‚ â”‚
â”‚    â”‚  â”‚ â€¢ Gateway-to-gateway (site-to-site)                  â”‚    â”‚ â”‚
â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚ â”‚
â”‚    â”‚                                                              â”‚ â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                     â”‚
â”‚    SSL/TLS VPN:                                                     â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚    â”‚                                                              â”‚ â”‚
â”‚    â”‚  â€¢ Operates at Transport/Application Layer                  â”‚ â”‚
â”‚    â”‚  â€¢ Uses standard TLS (same as HTTPS)                        â”‚ â”‚
â”‚    â”‚  â€¢ Works through NAT and firewalls (port 443)               â”‚ â”‚
â”‚    â”‚  â€¢ No special client software (browser-based possible)      â”‚ â”‚
â”‚    â”‚                                                              â”‚ â”‚
â”‚    â”‚  Types:                                                      â”‚ â”‚
â”‚    â”‚  â€¢ SSL Portal: Web-based access to applications            â”‚ â”‚
â”‚    â”‚  â€¢ SSL Tunnel: Full network access via client              â”‚ â”‚
â”‚    â”‚                                                              â”‚ â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                     â”‚
â”‚    COMPARISON:                                                      â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚    â”‚ Feature      â”‚ IPSec           â”‚ SSL VPN         â”‚            â”‚
â”‚    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤            â”‚
â”‚    â”‚ Layer        â”‚ Network (3)     â”‚ Transport (4)   â”‚            â”‚
â”‚    â”‚ Client       â”‚ Required        â”‚ Optional        â”‚            â”‚
â”‚    â”‚ NAT          â”‚ Problematic     â”‚ Works well      â”‚            â”‚
â”‚    â”‚ Firewall     â”‚ Often blocked   â”‚ Uses port 443   â”‚            â”‚
â”‚    â”‚ Use case     â”‚ Site-to-site    â”‚ Remote access   â”‚            â”‚
â”‚    â”‚ Performance  â”‚ Better          â”‚ Good            â”‚            â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                                                                     â”‚
â”‚    OTHER VPN PROTOCOLS:                                             â”‚
â”‚    â€¢ WireGuard: Modern, fast, simple                               â”‚
â”‚    â€¢ OpenVPN: Open-source, flexible                                â”‚
â”‚    â€¢ L2TP/IPSec: Layer 2 tunneling with IPSec                      â”‚
â”‚    â€¢ PPTP: Legacy, NOT secure (don't use)                          â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Summary Table

| Firewall Type | Layer | Inspects | Speed | Security |
|---------------|-------|----------|-------|----------|
| **Packet Filter** | 3-4 | Headers only | Fast | Basic |
| **Stateful** | 3-4 | Headers + state | Fast | Good |
| **Application** | 7 | Full content | Slow | Best |

| VPN Type | Use Case | Example |
|----------|----------|---------|
| **Remote Access** | Individual user to network | Employee from home |
| **Site-to-Site** | Network to network | Branch offices |

| VPN Protocol | Layer | Key Feature | Best For |
|--------------|-------|-------------|----------|
| **IPSec** | 3 | Full encryption | Site-to-site |
| **SSL/TLS** | 4-7 | Firewall-friendly | Remote access |
| **WireGuard** | 3 | Modern, fast | Both |

---

## â“ Quick Revision Questions

1. **Q:** What is the difference between packet filter and stateful firewall?
   <details>
   <summary>Answer</summary>
   **Packet Filter**:
   - Examines each packet independently
   - Checks header: IP, port, protocol
   - No connection tracking
   - Fast but limited
   
   **Stateful Firewall**:
   - Tracks connection state
   - Maintains state table
   - Knows if packet belongs to established connection
   - Blocks unsolicited incoming traffic
   
   Example: Outgoing connection creates state; responses allowed because they match state.
   </details>

2. **Q:** How does an application layer firewall work?
   <details>
   <summary>Answer</summary>
   **Application Firewall** (Proxy):
   - Operates at Layer 7
   - Understands application protocols (HTTP, FTP, etc.)
   - Terminates connections at proxy
   - Deep packet inspection
   
   **Capabilities**:
   - Examine URLs, content
   - Block malware
   - Filter by content type
   - Validate protocol correctness
   
   Trade-off: More security but slower performance.
   </details>

3. **Q:** What is a VPN and what does it provide?
   <details>
   <summary>Answer</summary>
   **VPN** = Virtual Private Network
   
   Creates encrypted tunnel over public network.
   
   **Provides**:
   - **Confidentiality**: Data encrypted
   - **Integrity**: Tampering detected
   - **Authentication**: Verify endpoints
   - **Privacy**: Hide real IP address
   
   **Types**:
   - Remote Access: User to network
   - Site-to-Site: Network to network
   </details>

4. **Q:** Compare IPSec tunnel mode vs transport mode.
   <details>
   <summary>Answer</summary>
   **Transport Mode**:
   - Only payload encrypted
   - Original IP header preserved
   - Used: Host-to-host
   - Less overhead
   
   **Tunnel Mode**:
   - Entire packet encrypted
   - New IP header added
   - Used: Gateway-to-gateway
   - Hides original IPs
   
   Site-to-site VPNs typically use tunnel mode.
   </details>

5. **Q:** Why is SSL VPN often preferred for remote access?
   <details>
   <summary>Answer</summary>
   **SSL VPN advantages**:
   1. **Firewall-friendly**: Uses port 443 (HTTPS)
   2. **NAT-compatible**: Works through NAT
   3. **No special client**: Browser-based option
   4. **Easy deployment**: No complex configuration
   5. **Application-specific access**: Can limit to specific apps
   
   **IPSec challenges**:
   - Often blocked by firewalls
   - NAT traversal issues
   - Requires client software
   - More complex setup
   </details>

6. **Q:** What are the key components of IPSec?
   <details>
   <summary>Answer</summary>
   **IPSec Protocol Suite**:
   
   1. **AH** (Authentication Header):
      - Integrity and authentication
      - No encryption
      - Rarely used alone
   
   2. **ESP** (Encapsulating Security Payload):
      - Encryption + authentication
      - Most commonly used
      - Confidentiality + integrity
   
   3. **IKE** (Internet Key Exchange):
      - Negotiates security association
      - Exchanges keys
      - Two phases for setup
   
   ESP in tunnel mode is most common for VPNs.
   </details>

---

## ğŸ”— Navigation

| Previous | Up | Next |
|----------|-----|------|
| [â† Cryptography](02-cryptography.md) | [Table of Contents](../README.md) | [SSL/TLS â†’](04-ssl-tls.md) |

---

*Â© 2025 Computer Networking Study Notes. For educational purposes.*
