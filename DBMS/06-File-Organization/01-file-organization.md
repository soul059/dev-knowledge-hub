# Chapter 6.1: File Organization

[â† Back to Table of Contents](../README.md)

---

## ğŸ“š Chapter Overview

**File organization** determines how records are physically stored on disk. The choice of organization affects storage efficiency, insertion/deletion speed, and query performance.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     CHAPTER LEARNING GOALS                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ Understand storage hierarchy and disk structure              â”‚
â”‚  â€¢ Learn different file organization methods                    â”‚
â”‚  â€¢ Compare heap, sorted, and hash file organizations            â”‚
â”‚  â€¢ Understand record structures and blocking                    â”‚
â”‚  â€¢ Analyze performance trade-offs                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 1. Storage Hierarchy

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      STORAGE HIERARCHY                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    Data moves between different storage levels:
    
    
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚   CPU        â”‚ â† Fastest, smallest
              â”‚  Registers   â”‚
              â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”
              â”‚    Cache     â”‚ â† Very fast
              â”‚   (L1, L2)   â”‚
              â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”
              â”‚    Main      â”‚ â† Fast, volatile
              â”‚   Memory     â”‚   (RAM)
              â”‚   (RAM)      â”‚
              â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â† Volatility boundary
              â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”
              â”‚    SSD /     â”‚ â† Persistent, slower
              â”‚    Flash     â”‚
              â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”
              â”‚    Hard      â”‚ â† Persistent, slowest
              â”‚    Disk      â”‚   (mechanical)
              â”‚    (HDD)     â”‚
              â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”
              â”‚   Magnetic   â”‚ â† Archival
              â”‚  Tape/Cloud  â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    
    
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚    Level       â”‚   Speed    â”‚    Size    â”‚   Cost per GB     â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ Registers      â”‚   < 1 ns   â”‚   < 1 KB   â”‚   Very High       â”‚
    â”‚ Cache          â”‚   1-10 ns  â”‚  KB-MB     â”‚   Very High       â”‚
    â”‚ RAM            â”‚  10-100 ns â”‚   GB       â”‚   ~$5             â”‚
    â”‚ SSD            â”‚  0.1 ms    â”‚   TB       â”‚   ~$0.10          â”‚
    â”‚ HDD            â”‚  5-10 ms   â”‚   TB       â”‚   ~$0.02          â”‚
    â”‚ Tape           â”‚  seconds   â”‚   PB       â”‚   ~$0.01          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    
    
    DBMS primarily works with:
    â€¢ Main Memory (buffer pool)
    â€¢ Disk (persistent storage)
```

---

## 2. Disk Structure

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    HARD DISK STRUCTURE                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    Physical structure of a hard disk:
    
    
    PLATTER (Side View):
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    
              Arm
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚         Head â”€â”€â”€â”€â†’  â†“   â”‚
    â”‚                   â”Œâ”€â”€â”€â” â”‚
    â”‚ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”‚â•â•â•â”‚â•â•â•â•â•â•â•â•â•â•â• Platter
    â”‚                   â””â”€â”€â”€â”˜ â”‚
    â”‚         Head â”€â”€â”€â”€â†’  â†‘   â”‚
    â”‚                         â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â•‘
             Spindle (rotates)
    
    
    PLATTER (Top View):
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
             â•± â•²   Track 0 (outer)         â•± â•²
            â”‚   â•²â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•±   â”‚
            â”‚    â•²   Track 1             â•±    â”‚
            â”‚     â•²â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•±     â”‚
            â”‚      â•²   Track 2         â•±      â”‚
            â”‚       â•²â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•±       â”‚
            â”‚        â•²   ...         â•±        â”‚
            â”‚         â•²â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•±         â”‚
            â”‚          â•²  Track N  â•±          â”‚
            â”‚           â•²â”€â”€â”€â”€â”€â”€â”€â”€â”€â•±           â”‚
            â”‚            â•²       â•±            â”‚
             â•²            â•²     â•±            â•±
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•²â”€â”€â”€â•±â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â— Spindle
    
    Each track divided into SECTORS
    
    
    TERMINOLOGY:
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚      Term       â”‚              Description                    â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ Platter         â”‚ Circular disk surface (usually multiple)   â”‚
    â”‚ Track           â”‚ Concentric circle on platter surface       â”‚
    â”‚ Sector          â”‚ Arc of track; smallest addressable unit    â”‚
    â”‚                 â”‚ (typically 512 bytes or 4KB)               â”‚
    â”‚ Block/Page      â”‚ Multiple sectors; DBMS's I/O unit          â”‚
    â”‚ Cylinder        â”‚ All tracks at same position across plattersâ”‚
    â”‚ Head            â”‚ Read/write component per platter surface   â”‚
    â”‚ Arm             â”‚ Moves heads to different tracks            â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


    DISK ACCESS TIME:
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    
    Time = Seek Time + Rotational Latency + Transfer Time
    
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                                                                  â”‚
    â”‚  1. SEEK TIME (2-10 ms)                                         â”‚
    â”‚     Move arm to correct track                                   â”‚
    â”‚     â”€â”€â”€â”€â”€â†’ (arm movement)                                       â”‚
    â”‚                                                                  â”‚
    â”‚  2. ROTATIONAL LATENCY (2-8 ms)                                 â”‚
    â”‚     Wait for sector to rotate under head                        â”‚
    â”‚     â—‹ â†’ â—‹ â†’ â—‹ â†’ target                                         â”‚
    â”‚     Average = 1/2 rotation time                                 â”‚
    â”‚                                                                  â”‚
    â”‚  3. TRANSFER TIME (very small)                                  â”‚
    â”‚     Actually read/write the data                                â”‚
    â”‚     [===data===]                                                â”‚
    â”‚                                                                  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    
    Key insight: Disk access is SLOW!
    DBMS must minimize disk I/O operations.
```

---

## 3. Records and Blocks

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    RECORDS AND BLOCKS                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    DATABASE â†’ FILES â†’ BLOCKS â†’ RECORDS â†’ FIELDS
    

    RECORD STRUCTURE:
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    
    Fixed-Length Records:
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Field 1  â”‚ Field 2  â”‚ Field 3  â”‚ Field 4  â”‚
    â”‚ (10 B)   â”‚ (20 B)   â”‚ (4 B)    â”‚ (50 B)   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    Total: 84 bytes per record (always same)
    
    
    Variable-Length Records:
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Header â”‚              Variable Data                 â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    
    Header contains:
    â€¢ Field count
    â€¢ Field offsets
    â€¢ Null bitmap
    
    â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”
    â”‚ #F â”‚ O1 â”‚ O2 â”‚ O3 â”‚  F1     â”‚      F2       â”‚  F3  â”‚
    â”‚ 3  â”‚ 12 â”‚ 17 â”‚ 40 â”‚ "Alice" â”‚ "Long text..."â”‚ 100  â”‚
    â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜
    

    BLOCKING:
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    
    Records are stored in BLOCKS (pages).
    Block size typically 4KB - 16KB.
    
    
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                         BLOCK (4KB)                              â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚                                                                  â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
    â”‚  â”‚  Record 1  â”‚ â”‚  Record 2  â”‚ â”‚  Record 3  â”‚ â”‚  Record 4  â”‚    â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
    â”‚                                                                  â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                  â”‚
    â”‚  â”‚  Record 5  â”‚ â”‚  Record 6  â”‚     [Free Space]                 â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                  â”‚
    â”‚                                                                  â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚  Block Header: record count, free space pointer, etc.           â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    
    
    BLOCKING FACTOR:
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    
    bfr = âŒŠ Block Size / Record Size âŒ‹
    
    Example:
    Block = 4096 bytes
    Record = 100 bytes
    bfr = âŒŠ4096/100âŒ‹ = 40 records per block
    
    Wasted space per block = 4096 - (40 Ã— 100) = 96 bytes


    SPANNED vs UNSPANNED:
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    
    UNSPANNED: Record cannot cross block boundary
    
    Block 1               Block 2
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ R1 â”‚ R2 â”‚ R3 â”‚  â”‚   â”‚ R4 â”‚ R5 â”‚ R6 â”‚  â”‚
    â”‚    â”‚    â”‚    â”‚â–‘â–‘â”‚   â”‚    â”‚    â”‚    â”‚â–‘â–‘â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†‘ wasted              â†‘ wasted
    
    
    SPANNED: Record can cross block boundary
    
    Block 1               Block 2
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ R1 â”‚ R2 â”‚ R3(a) â”‚   â”‚R3(b)â”‚ R4 â”‚ R5  â”‚
    â”‚    â”‚    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ â”‚    â”‚      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    
    R3 spans two blocks (more complex management)
```

---

## 4. Heap File Organization

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    HEAP FILE ORGANIZATION                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    HEAP: Records stored in NO PARTICULAR ORDER
    
    Also called "unordered" or "pile" file.
    

    STRUCTURE:
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                       HEAP FILE                                  â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚                                                                  â”‚
    â”‚  Block 0    Block 1    Block 2    Block 3    Block 4            â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”           â”‚
    â”‚  â”‚R1 R2 â”‚   â”‚R5 R6 â”‚   â”‚R9 R10â”‚   â”‚R13 R14   â”‚R16    â”‚           â”‚
    â”‚  â”‚R3 R4 â”‚   â”‚R7 R8 â”‚   â”‚R11R12â”‚   â”‚R15   â”‚   â”‚       â”‚           â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”˜           â”‚
    â”‚                                                                  â”‚
    â”‚  Records added wherever there's space                           â”‚
    â”‚  No ordering, no structure                                       â”‚
    â”‚                                                                  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


    OPERATIONS:
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    
    INSERT:
    â”€â”€â”€â”€â”€â”€â”€â”€
    â€¢ Find block with free space
    â€¢ Add record at end
    â€¢ VERY FAST: O(1) - just append
    
    
    SEARCH:
    â”€â”€â”€â”€â”€â”€â”€â”€
    â€¢ Must scan ALL records (linear search)
    â€¢ SLOW: O(N) - N = number of blocks
    â€¢ Average: scan N/2 blocks
    
    
    DELETE:
    â”€â”€â”€â”€â”€â”€â”€â”€
    â€¢ Find record (O(N))
    â€¢ Mark as deleted or remove
    â€¢ Leave empty space OR reorganize
    
    
    UPDATE:
    â”€â”€â”€â”€â”€â”€â”€â”€
    â€¢ Find record (O(N))
    â€¢ Modify in place
    â€¢ If size changes (variable length), may need to move


    DELETION HANDLING:
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    
    Option 1: Deletion Markers
    
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ R1 â”‚ âœ—  â”‚ R3 â”‚ âœ—  â”‚ R5  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†‘        â†‘
        Deleted  Deleted
    
    Problem: Space wasted, need periodic reorganization
    
    
    Option 2: Free Space List
    
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ R1 â”‚    â”‚ R3 â”‚    â”‚ R5  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“        â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Free List    â”‚
        â”‚ [1,3]        â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    
    New inserts can reuse free slots


    PERFORMANCE SUMMARY:
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   Operation    â”‚              Performance                     â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ Insert         â”‚ O(1) - fast, just append                    â”‚
    â”‚ Search (key)   â”‚ O(N) - linear scan all blocks               â”‚
    â”‚ Search (range) â”‚ O(N) - must check all records               â”‚
    â”‚ Delete         â”‚ O(N) - find + mark/reorganize               â”‚
    â”‚ Update         â”‚ O(N) - find + modify                        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    
    Best for: Small files, frequent inserts, infrequent searches
```

---

## 5. Sorted (Sequential) File Organization

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  SORTED FILE ORGANIZATION                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    SORTED: Records stored in order by ORDERING KEY
    

    STRUCTURE:
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                     SORTED FILE (by ID)                          â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚                                                                  â”‚
    â”‚  Block 0    Block 1    Block 2    Block 3                       â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”                      â”‚
    â”‚  â”‚ID:1  â”‚   â”‚ID:5  â”‚   â”‚ID:9  â”‚   â”‚ID:13 â”‚                      â”‚
    â”‚  â”‚ID:2  â”‚   â”‚ID:6  â”‚   â”‚ID:10 â”‚   â”‚ID:14 â”‚                      â”‚
    â”‚  â”‚ID:3  â”‚   â”‚ID:7  â”‚   â”‚ID:11 â”‚   â”‚ID:15 â”‚                      â”‚
    â”‚  â”‚ID:4  â”‚   â”‚ID:8  â”‚   â”‚ID:12 â”‚   â”‚ID:16 â”‚                      â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”˜                      â”‚
    â”‚                                                                  â”‚
    â”‚  Records ordered by ID field                                    â”‚
    â”‚                                                                  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


    OPERATIONS:
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    
    SEARCH (by ordering key):
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â€¢ Binary search on blocks!
    â€¢ FAST: O(log N)
    
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   Looking for ID = 10                                â”‚
    â”‚                                                       â”‚
    â”‚   Step 1: Check middle block (Block 1: 5-8)          â”‚
    â”‚           10 > 8, go right                           â”‚
    â”‚                                                       â”‚
    â”‚   Step 2: Check Block 2 (9-12)                       â”‚
    â”‚           10 is here! Found in 2 I/Os                â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    
    
    RANGE SEARCH:
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â€¢ Binary search to find start
    â€¢ Sequential read for range
    â€¢ VERY EFFICIENT for ranges
    
    Example: Find all IDs between 7 and 12
    1. Binary search for 7 â†’ Block 1
    2. Read sequentially: 7, 8, 9, 10, 11, 12
    
    
    INSERT:
    â”€â”€â”€â”€â”€â”€â”€â”€
    â€¢ Find correct position (binary search)
    â€¢ SHIFT all following records!
    â€¢ EXPENSIVE: O(N)
    
    â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”     Insert ID=5     â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”
    â”‚ 1-4  â”‚ 6-8  â”‚ 9-12 â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’   â”‚ 1-4  â”‚ 5-7  â”‚ 8-12 â”‚
    â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜                     â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜
                                Many records shifted!


    OVERFLOW HANDLING:
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    
    To avoid expensive inserts, use OVERFLOW BLOCKS:
    
    Main File:
    â”Œâ”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”
    â”‚ 1-4  â”‚ â†’ â”‚ 6-8  â”‚   â”‚ 9-12 â”‚
    â””â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”˜
         â†“
    Overflow:
    â”Œâ”€â”€â”€â”€â”€â”€â”
    â”‚  5   â”‚  â† New record goes here
    â””â”€â”€â”€â”€â”€â”€â”˜
    
    Periodic reorganization merges overflow back.


    PERFORMANCE SUMMARY:
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚      Operation         â”‚           Performance                   â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ Search (ordering key)  â”‚ O(log N) - binary search               â”‚
    â”‚ Search (other key)     â”‚ O(N) - still linear scan               â”‚
    â”‚ Range search (ord key) â”‚ O(log N + result) - very efficient     â”‚
    â”‚ Insert                 â”‚ O(N) - must shift records              â”‚
    â”‚ Delete                 â”‚ O(N) - must shift records              â”‚
    â”‚ Update (ordering key)  â”‚ O(N) - may need to move record         â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    
    Best for: Range queries, read-heavy workloads, static data
```

---

## 6. Hash File Organization

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   HASH FILE ORGANIZATION                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    HASH: Records distributed across buckets using hash function
    
    hash(key) â†’ bucket_number
    

    STRUCTURE:
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                      HASH FILE                                   â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚                                                                  â”‚
    â”‚   Hash function: h(ID) = ID mod 4                               â”‚
    â”‚                                                                  â”‚
    â”‚   Bucket 0    Bucket 1    Bucket 2    Bucket 3                  â”‚
    â”‚   h(k)=0      h(k)=1      h(k)=2      h(k)=3                    â”‚
    â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”                  â”‚
    â”‚   â”‚ID:4  â”‚    â”‚ID:1  â”‚    â”‚ID:2  â”‚    â”‚ID:3  â”‚                  â”‚
    â”‚   â”‚ID:8  â”‚    â”‚ID:5  â”‚    â”‚ID:6  â”‚    â”‚ID:7  â”‚                  â”‚
    â”‚   â”‚ID:12 â”‚    â”‚ID:9  â”‚    â”‚ID:10 â”‚    â”‚ID:11 â”‚                  â”‚
    â”‚   â””â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”˜                  â”‚
    â”‚                                                                  â”‚
    â”‚   4 mod 4 = 0, so ID:4 goes to bucket 0                         â”‚
    â”‚                                                                  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


    OPERATIONS:
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    
    SEARCH:
    â”€â”€â”€â”€â”€â”€â”€â”€
    1. Compute h(search_key)
    2. Go directly to that bucket
    3. Search within bucket
    
    VERY FAST: O(1) average (if buckets aren't overflowing)
    
    
    INSERT:
    â”€â”€â”€â”€â”€â”€â”€â”€
    1. Compute h(key)
    2. Insert into bucket
    
    FAST: O(1) average
    
    
    DELETE:
    â”€â”€â”€â”€â”€â”€â”€â”€
    1. Compute h(key)
    2. Find and remove from bucket
    
    FAST: O(1) average


    COLLISION AND OVERFLOW:
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    
    Multiple keys hash to same bucket â†’ COLLISION
    
    Handling: Overflow chains
    
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                                                               â”‚
    â”‚   Bucket 0        Overflow block                             â”‚
    â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”                   â”‚
    â”‚   â”‚ID:4  â”‚â”€â”€â”€â”€â”€â”€â”€â†’â”‚ID:16 â”‚â”€â”€â”€â”€â”€â”€â”€â†’â”‚ID:28 â”‚                   â”‚
    â”‚   â”‚ID:8  â”‚        â”‚ID:20 â”‚        â”‚      â”‚                   â”‚
    â”‚   â”‚ID:12 â”‚        â”‚ID:24 â”‚        â”‚      â”‚                   â”‚
    â”‚   â””â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”˜                   â”‚
    â”‚                                                               â”‚
    â”‚   Bucket overflowed â†’ chained overflow blocks                â”‚
    â”‚                                                               â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    
    Problem: Long chains = slow access!


    STATIC vs DYNAMIC HASHING:
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    
    STATIC HASHING:
    â€¢ Fixed number of buckets
    â€¢ Problem: What if data grows?
      - Too few buckets â†’ long chains
      - Too many buckets â†’ wasted space
    
    
    DYNAMIC HASHING (Extendible, Linear):
    â€¢ Buckets can grow/shrink as needed
    â€¢ Adjusts to data size
    â€¢ More complex but scalable


    LIMITATIONS:
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    
    âœ— Range queries are TERRIBLE!
      "Find all IDs between 5 and 10"
      â†’ Must check ALL buckets (hash destroys order)
    
    âœ“ Equality queries are EXCELLENT!
      "Find ID = 7"
      â†’ O(1) direct access


    PERFORMANCE SUMMARY:
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚      Operation         â”‚           Performance                   â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ Search (equality)      â”‚ O(1) average - direct bucket access    â”‚
    â”‚ Search (range)         â”‚ O(N) - must scan all buckets!          â”‚
    â”‚ Insert                 â”‚ O(1) average                           â”‚
    â”‚ Delete                 â”‚ O(1) average                           â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    
    Best for: Equality lookups, known key values
```

---

## 7. File Organization Comparison

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  FILE ORGANIZATION COMPARISON                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   Operation   â”‚     Heap      â”‚    Sorted     â”‚      Hash       â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ Insert        â”‚  O(1) âœ“âœ“âœ“    â”‚   O(N) âœ—      â”‚   O(1) âœ“âœ“âœ“     â”‚
    â”‚ Equality      â”‚  O(N) âœ—      â”‚   O(log N) âœ“  â”‚   O(1) âœ“âœ“âœ“     â”‚
    â”‚ Range         â”‚  O(N) âœ—      â”‚   O(log N+k)âœ“âœ“â”‚   O(N) âœ—       â”‚
    â”‚ Delete        â”‚  O(N) âœ—      â”‚   O(N) âœ—      â”‚   O(1) âœ“âœ“âœ“     â”‚
    â”‚ Sequential    â”‚  O(N)        â”‚   O(N) ordered â”‚   O(N) unorderedâ”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    
    
    WHEN TO USE EACH:
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                                                                  â”‚
    â”‚   HEAP:                                                          â”‚
    â”‚   â€¢ Log files, audit trails                                     â”‚
    â”‚   â€¢ Bulk loading before indexing                                â”‚
    â”‚   â€¢ Small tables with full scans                                â”‚
    â”‚                                                                  â”‚
    â”‚   SORTED:                                                        â”‚
    â”‚   â€¢ Read-mostly data                                            â”‚
    â”‚   â€¢ Range queries common                                        â”‚
    â”‚   â€¢ Reports, analytics                                          â”‚
    â”‚                                                                  â”‚
    â”‚   HASH:                                                          â”‚
    â”‚   â€¢ Primary key lookups                                         â”‚
    â”‚   â€¢ Equality searches                                           â”‚
    â”‚   â€¢ Caches, symbol tables                                       â”‚
    â”‚                                                                  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


    VISUALIZATION:
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    
    Performance for different query types:
    
    
           Best â”ƒ                    â† Hash excels at equality
          O(1)  â”ƒ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
                â”ƒ             â–ˆâ–ˆâ–ˆâ–ˆ
                â”ƒ                 â–ˆâ–ˆâ–ˆâ–ˆ
                â”ƒ                     â–ˆâ–ˆâ–ˆâ–ˆ
                â”ƒ                         â–ˆâ–ˆâ–ˆâ–ˆ â† Sorted for ranges
                â”ƒ                             â–ˆâ–ˆâ–ˆâ–ˆ
                â”ƒ                                 â–ˆâ–ˆâ–ˆâ–ˆ
         O(log N)                                    â–ˆâ–ˆâ–ˆâ–ˆ
                â”ƒ                                        â–ˆâ–ˆâ–ˆâ–ˆ
                â”ƒ                                            â–ˆâ–ˆâ–ˆâ–ˆ
                â”ƒâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘
          O(N)  â”ƒ â† Heap is flat (everything is O(N))
         Worst  â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
                  Equality    Range      Insert     Full Scan
```

---

## ğŸ“Š Summary Table

| Organization | Structure | Best For |
|--------------|-----------|----------|
| **Heap** | Unordered records | Fast inserts, full scans |
| **Sorted** | Ordered by key | Range queries, sorted access |
| **Hash** | Buckets by hash | Equality lookups |

| Operation | Heap | Sorted | Hash |
|-----------|------|--------|------|
| **Insert** | O(1) | O(N) | O(1) |
| **Search (equality)** | O(N) | O(log N) | O(1) |
| **Search (range)** | O(N) | O(log N + k) | O(N) |
| **Delete** | O(N) | O(N) | O(1) |

| Storage Term | Description |
|--------------|-------------|
| **Block/Page** | Unit of disk I/O (4-16 KB) |
| **Record** | One row of data |
| **Blocking Factor** | Records per block |
| **Spanned** | Record crosses blocks |

---

## â“ Quick Revision Questions

1. **Why is disk access considered expensive?**
   <details>
   <summary>Click for Answer</summary>
   Disk access involves mechanical operations: seek time (moving arm to track), rotational latency (waiting for sector), and transfer time. These take milliseconds compared to nanoseconds for memory access - about 100,000x slower.
   </details>

2. **What is the blocking factor?**
   <details>
   <summary>Click for Answer</summary>
   Blocking factor (bfr) is the number of records that fit in one block. bfr = âŒŠBlock_Size / Record_SizeâŒ‹. Example: 4096-byte block with 100-byte records has bfr = 40.
   </details>

3. **What is the main advantage of heap file organization?**
   <details>
   <summary>Click for Answer</summary>
   Heap files provide O(1) insertion time - just append to any block with space. No ordering or restructuring needed. Ideal for high-insert workloads like logging.
   </details>

4. **Why can sorted files use binary search but heap files cannot?**
   <details>
   <summary>Click for Answer</summary>
   Binary search requires ordered data. In sorted files, records are ordered by key, so we can eliminate half the search space each step. Heap files are unordered, so we must check every record.
   </details>

5. **Why is hash file organization bad for range queries?**
   <details>
   <summary>Click for Answer</summary>
   Hash functions distribute keys across buckets without preserving order. Keys 5, 6, 7, 8 may hash to completely different buckets. To find range 5-8, we must scan all buckets, losing the O(1) advantage.
   </details>

6. **What is an overflow chain in hash files?**
   <details>
   <summary>Click for Answer</summary>
   When a bucket is full and more records hash to it, overflow blocks are chained to the bucket. Long chains degrade performance from O(1) toward O(N). Dynamic hashing techniques address this.
   </details>

---

## ğŸ”— Navigation

| Previous | Up | Next |
|----------|----|----|
| [â† Recovery Techniques](../05-Transaction-Management/03-recovery-techniques.md) | [ğŸ“š Table of Contents](../README.md) | [Indexing Basics â†’](02-indexing-basics.md) |

---

*Last Updated: January 2026*
