# Chapter 3.5: Floating-Point Arithmetic

## ğŸ“‹ Chapter Overview

Floating-point arithmetic enables computers to perform calculations with real numbers. This chapter covers the algorithms for addition, subtraction, multiplication, and division of IEEE 754 floating-point numbers, including handling of special cases and rounding.

---

## ğŸ¯ Learning Objectives

- Understand floating-point arithmetic operations
- Implement FP addition and subtraction algorithms
- Implement FP multiplication and division algorithms
- Handle special values and exceptions
- Apply rounding modes correctly

---

## 1. Floating-Point Number Review

### ğŸ“Œ IEEE 754 Format Recap

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    IEEE 754 SINGLE PRECISION REVIEW                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚   â”Œâ”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚ S â”‚    Exponent    â”‚              Mantissa (Fraction)            â”‚  â”‚
â”‚   â”‚ 1 â”‚    8 bits      â”‚              23 bits                        â”‚  â”‚
â”‚   â””â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚    31   30          23  22                                     0         â”‚
â”‚                                                                          â”‚
â”‚   Value = (-1)^S Ã— 1.Mantissa Ã— 2^(Exponent - 127)                      â”‚
â”‚                                                                          â”‚
â”‚   Components:                                                            â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚   S (Sign)   â”‚  0 = positive, 1 = negative                       â”‚  â”‚
â”‚   â”‚   E (Exp)    â”‚  Biased exponent (bias = 127 for single)          â”‚  â”‚
â”‚   â”‚   M (Mant)   â”‚  Fractional part (hidden 1 assumed)               â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                          â”‚
â”‚   Special Values:                                                        â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚   â”‚  E = 0, M = 0:     Zero (Â±0)                                     â”‚ â”‚
â”‚   â”‚  E = 0, M â‰  0:     Denormalized numbers                          â”‚ â”‚
â”‚   â”‚  E = 255, M = 0:   Infinity (Â±âˆ)                                 â”‚ â”‚
â”‚   â”‚  E = 255, M â‰  0:   NaN (Not a Number)                            â”‚ â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. Floating-Point Addition/Subtraction

### ğŸ“Œ Addition Algorithm

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    FP ADDITION ALGORITHM                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚   To compute: Z = X + Y                                                  â”‚
â”‚                                                                          â”‚
â”‚   Algorithm Steps:                                                       â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚   Step 1: COMPARE EXPONENTS                                      â”‚  â”‚
â”‚   â”‚   â€¢ Find difference: d = |Ex - Ey|                               â”‚  â”‚
â”‚   â”‚   â€¢ Identify larger exponent                                     â”‚  â”‚
â”‚   â”‚                                                                   â”‚  â”‚
â”‚   â”‚   Step 2: ALIGN MANTISSAS                                        â”‚  â”‚
â”‚   â”‚   â€¢ Shift smaller number's mantissa right by d positions         â”‚  â”‚
â”‚   â”‚   â€¢ Result exponent = larger exponent                            â”‚  â”‚
â”‚   â”‚                                                                   â”‚  â”‚
â”‚   â”‚   Step 3: ADD/SUBTRACT MANTISSAS                                 â”‚  â”‚
â”‚   â”‚   â€¢ If signs same: Add mantissas                                 â”‚  â”‚
â”‚   â”‚   â€¢ If signs differ: Subtract smaller from larger                â”‚  â”‚
â”‚   â”‚                                                                   â”‚  â”‚
â”‚   â”‚   Step 4: NORMALIZE RESULT                                       â”‚  â”‚
â”‚   â”‚   â€¢ If overflow (carry out): Shift right, increment exponent     â”‚  â”‚
â”‚   â”‚   â€¢ If leading zeros: Shift left, decrement exponent             â”‚  â”‚
â”‚   â”‚                                                                   â”‚  â”‚
â”‚   â”‚   Step 5: ROUND RESULT                                           â”‚  â”‚
â”‚   â”‚   â€¢ Apply rounding mode to fit mantissa in available bits        â”‚  â”‚
â”‚   â”‚   â€¢ May require renormalization after rounding                   â”‚  â”‚
â”‚   â”‚                                                                   â”‚  â”‚
â”‚   â”‚   Step 6: CHECK FOR EXCEPTIONS                                   â”‚  â”‚
â”‚   â”‚   â€¢ Overflow: Result too large â†’ Â±Infinity                       â”‚  â”‚
â”‚   â”‚   â€¢ Underflow: Result too small â†’ Zero or denormal               â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ“Œ FP Addition Flowchart

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    FP ADDITION FLOWCHART                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                               â”‚
â”‚                         â”‚ Input: X, Y   â”‚                               â”‚
â”‚                         â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                               â”‚
â”‚                                 â”‚                                        â”‚
â”‚                                 â–¼                                        â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚                    â”‚ Check for special valuesâ”‚                          â”‚
â”‚                    â”‚ (Zero, Inf, NaN)        â”‚                          â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚
â”‚                                 â”‚                                        â”‚
â”‚                                 â–¼                                        â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚                    â”‚ Compare exponents      â”‚                           â”‚
â”‚                    â”‚ d = Ex - Ey            â”‚                           â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚
â”‚                                 â”‚                                        â”‚
â”‚                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚                 â–¼                               â–¼                        â”‚
â”‚          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚          â”‚ d > 0      â”‚                 â”‚ d â‰¤ 0      â”‚                  â”‚
â”‚          â”‚ Shift My   â”‚                 â”‚ Shift Mx   â”‚                  â”‚
â”‚          â”‚ right by d â”‚                 â”‚ right by |dâ”‚â”‚                  â”‚
â”‚          â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                 â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚                 â”‚                               â”‚                        â”‚
â”‚                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â”‚                                 â”‚                                        â”‚
â”‚                                 â–¼                                        â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚                    â”‚ Add aligned mantissas  â”‚                           â”‚
â”‚                    â”‚ (consider signs)       â”‚                           â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚
â”‚                                 â”‚                                        â”‚
â”‚                                 â–¼                                        â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚                 â”Œâ”€â”€â”¤ Mantissa overflow?     â”œâ”€â”€â”                        â”‚
â”‚                Yes â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  No                       â”‚
â”‚                 â”‚                               â”‚                        â”‚
â”‚                 â–¼                               â–¼                        â”‚
â”‚        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚        â”‚ Shift right 1   â”‚           â”‚ Normalize       â”‚                â”‚
â”‚        â”‚ Increment exp   â”‚           â”‚ (left shift)    â”‚                â”‚
â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                 â”‚                              â”‚                         â”‚
â”‚                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚                                â”‚                                         â”‚
â”‚                                â–¼                                         â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚                    â”‚ Round mantissa         â”‚                           â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚
â”‚                                 â”‚                                        â”‚
â”‚                                 â–¼                                        â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚                    â”‚ Check over/underflow   â”‚                           â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚
â”‚                                 â”‚                                        â”‚
â”‚                                 â–¼                                        â”‚
â”‚                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                               â”‚
â”‚                         â”‚ Output: Z     â”‚                               â”‚
â”‚                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                               â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ“Œ Addition Example

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    EXAMPLE: 1.5 + 0.625                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚   X = 1.5 = 1.1 Ã— 2â° = 1.1000... Ã— 2â°                                   â”‚
â”‚   Y = 0.625 = 0.101 Ã— 2â° = 1.01 Ã— 2â»Â¹                                   â”‚
â”‚                                                                          â”‚
â”‚   Step 1: Compare exponents                                             â”‚
â”‚   Ex = 0, Ey = -1                                                       â”‚
â”‚   d = 0 - (-1) = 1                                                      â”‚
â”‚                                                                          â”‚
â”‚   Step 2: Align mantissas (shift Y right by 1)                          â”‚
â”‚   X: 1.1000 Ã— 2â°                                                        â”‚
â”‚   Y: 0.101  Ã— 2â°  (after right shift)                                   â”‚
â”‚                                                                          â”‚
â”‚   Step 3: Add mantissas                                                 â”‚
â”‚      1.1000                                                              â”‚
â”‚    + 0.1010                                                              â”‚
â”‚    â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                             â”‚
â”‚     10.0010   (overflow!)                                               â”‚
â”‚                                                                          â”‚
â”‚   Step 4: Normalize (shift right, increment exponent)                   â”‚
â”‚     1.00010 Ã— 2Â¹                                                        â”‚
â”‚                                                                          â”‚
â”‚   Step 5: Round (if needed)                                             â”‚
â”‚     1.0001 Ã— 2Â¹ = 10.0010 = 2.125                                       â”‚
â”‚                                                                          â”‚
â”‚   Verify: 1.5 + 0.625 = 2.125 âœ“                                         â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. Guard, Round, and Sticky Bits

### ğŸ“Œ Extra Precision Bits

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    GUARD, ROUND, AND STICKY BITS                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚   Problem: During alignment, bits shift beyond mantissa width           â”‚
â”‚   Solution: Keep extra bits for accurate rounding                       â”‚
â”‚                                                                          â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚   Mantissa (23 bits)     â”‚ G â”‚ R â”‚ S â”‚                          â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                 â”‚   â”‚   â”‚                               â”‚
â”‚                                 â”‚   â”‚   â””â”€ Sticky: OR of all bits      â”‚
â”‚                                 â”‚   â”‚      shifted beyond R             â”‚
â”‚                                 â”‚   â””â”€â”€â”€â”€â”€ Round: Next bit after G     â”‚
â”‚                                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€ Guard: First extra bit      â”‚
â”‚                                                                          â”‚
â”‚   Example: Shifting 1.1010111 right by 4                                â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚   Original:  1.1010111                                           â”‚  â”‚
â”‚   â”‚   Shift 4:   0.0001101 | 0 | 1 | 1 |                             â”‚  â”‚
â”‚   â”‚                          G   R   S                               â”‚  â”‚
â”‚   â”‚                                                                  â”‚  â”‚
â”‚   â”‚   G = 0 (first shifted-out bit)                                  â”‚  â”‚
â”‚   â”‚   R = 1 (second shifted-out bit)                                 â”‚  â”‚
â”‚   â”‚   S = 1 (OR of remaining: 1|1 = 1)                               â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                          â”‚
â”‚   Rounding Decision (Round to Nearest Even):                           â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚   GRS = 0XX â†’ Truncate (round down)                              â”‚  â”‚
â”‚   â”‚   GRS = 100 â†’ Round to even (check LSB of mantissa)              â”‚  â”‚
â”‚   â”‚   GRS = 101, 110, 111 â†’ Round up (add 1 to mantissa)             â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4. Floating-Point Multiplication

### ğŸ“Œ Multiplication Algorithm

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    FP MULTIPLICATION ALGORITHM                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚   To compute: Z = X Ã— Y                                                  â”‚
â”‚                                                                          â”‚
â”‚   Mathematical Basis:                                                    â”‚
â”‚   (Mx Ã— 2^Ex) Ã— (My Ã— 2^Ey) = (Mx Ã— My) Ã— 2^(Ex + Ey)                   â”‚
â”‚                                                                          â”‚
â”‚   Algorithm Steps:                                                       â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚   Step 1: DETERMINE RESULT SIGN                                  â”‚  â”‚
â”‚   â”‚   â€¢ Sz = Sx XOR Sy                                               â”‚  â”‚
â”‚   â”‚                                                                   â”‚  â”‚
â”‚   â”‚   Step 2: ADD EXPONENTS                                          â”‚  â”‚
â”‚   â”‚   â€¢ Ez = (Ex - bias) + (Ey - bias) + bias                        â”‚  â”‚
â”‚   â”‚   â€¢ Ez = Ex + Ey - bias                                          â”‚  â”‚
â”‚   â”‚   â€¢ For single precision: Ez = Ex + Ey - 127                     â”‚  â”‚
â”‚   â”‚                                                                   â”‚  â”‚
â”‚   â”‚   Step 3: MULTIPLY MANTISSAS                                     â”‚  â”‚
â”‚   â”‚   â€¢ Mz = Mx Ã— My (integer multiplication)                        â”‚  â”‚
â”‚   â”‚   â€¢ Result: 1.xxx Ã— 1.yyy = 1.zzzz or 10.zzzz                   â”‚  â”‚
â”‚   â”‚   â€¢ Product range: [1.0, 4.0)                                    â”‚  â”‚
â”‚   â”‚                                                                   â”‚  â”‚
â”‚   â”‚   Step 4: NORMALIZE                                              â”‚  â”‚
â”‚   â”‚   â€¢ If product â‰¥ 2.0: shift right 1, increment exponent          â”‚  â”‚
â”‚   â”‚                                                                   â”‚  â”‚
â”‚   â”‚   Step 5: ROUND                                                  â”‚  â”‚
â”‚   â”‚   â€¢ Apply rounding to fit result mantissa                        â”‚  â”‚
â”‚   â”‚                                                                   â”‚  â”‚
â”‚   â”‚   Step 6: CHECK EXCEPTIONS                                       â”‚  â”‚
â”‚   â”‚   â€¢ Overflow/Underflow                                           â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                          â”‚
â”‚   Note: Exponents ADD, Mantissas MULTIPLY                               â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ“Œ Multiplication Example

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    EXAMPLE: 1.5 Ã— 2.5                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚   X = 1.5 = 1.1 Ã— 2â°                                                    â”‚
â”‚   Y = 2.5 = 1.01 Ã— 2Â¹                                                   â”‚
â”‚                                                                          â”‚
â”‚   Step 1: Determine sign                                                â”‚
â”‚   Sz = 0 XOR 0 = 0 (positive)                                           â”‚
â”‚                                                                          â”‚
â”‚   Step 2: Add exponents                                                 â”‚
â”‚   Ez = 0 + 1 = 1                                                        â”‚
â”‚   (In biased form: (127) + (128) - 127 = 128)                          â”‚
â”‚                                                                          â”‚
â”‚   Step 3: Multiply mantissas                                            â”‚
â”‚      1.1   (1.5)                                                        â”‚
â”‚    Ã— 1.01  (1.25)                                                       â”‚
â”‚    â”€â”€â”€â”€â”€â”€                                                                â”‚
â”‚      1.1                                                                 â”‚
â”‚     0.0                                                                  â”‚
â”‚    1.1                                                                   â”‚
â”‚    â”€â”€â”€â”€â”€â”€                                                                â”‚
â”‚   1.111   (product = 1.875)                                             â”‚
â”‚                                                                          â”‚
â”‚   Step 4: Normalize                                                     â”‚
â”‚   Product 1.111 is in range [1, 2), already normalized                  â”‚
â”‚                                                                          â”‚
â”‚   Step 5: Result                                                        â”‚
â”‚   Z = 1.111 Ã— 2Â¹ = 11.11â‚‚ = 3.75                                        â”‚
â”‚                                                                          â”‚
â”‚   Verify: 1.5 Ã— 2.5 = 3.75 âœ“                                            â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5. Floating-Point Division

### ğŸ“Œ Division Algorithm

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    FP DIVISION ALGORITHM                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚   To compute: Z = X Ã· Y                                                  â”‚
â”‚                                                                          â”‚
â”‚   Mathematical Basis:                                                    â”‚
â”‚   (Mx Ã— 2^Ex) Ã· (My Ã— 2^Ey) = (Mx Ã· My) Ã— 2^(Ex - Ey)                   â”‚
â”‚                                                                          â”‚
â”‚   Algorithm Steps:                                                       â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚   Step 1: CHECK FOR DIVIDE BY ZERO                               â”‚  â”‚
â”‚   â”‚   â€¢ If Y = 0: Return Â±Infinity or signal exception               â”‚  â”‚
â”‚   â”‚                                                                   â”‚  â”‚
â”‚   â”‚   Step 2: DETERMINE RESULT SIGN                                  â”‚  â”‚
â”‚   â”‚   â€¢ Sz = Sx XOR Sy                                               â”‚  â”‚
â”‚   â”‚                                                                   â”‚  â”‚
â”‚   â”‚   Step 3: SUBTRACT EXPONENTS                                     â”‚  â”‚
â”‚   â”‚   â€¢ Ez = (Ex - Ey) + bias                                        â”‚  â”‚
â”‚   â”‚   â€¢ For single precision: Ez = Ex - Ey + 127                     â”‚  â”‚
â”‚   â”‚                                                                   â”‚  â”‚
â”‚   â”‚   Step 4: DIVIDE MANTISSAS                                       â”‚  â”‚
â”‚   â”‚   â€¢ Mz = Mx Ã· My                                                 â”‚  â”‚
â”‚   â”‚   â€¢ Quotient range: (0.5, 2.0)                                   â”‚  â”‚
â”‚   â”‚                                                                   â”‚  â”‚
â”‚   â”‚   Step 5: NORMALIZE                                              â”‚  â”‚
â”‚   â”‚   â€¢ If quotient < 1.0: shift left 1, decrement exponent          â”‚  â”‚
â”‚   â”‚                                                                   â”‚  â”‚
â”‚   â”‚   Step 6: ROUND                                                  â”‚  â”‚
â”‚   â”‚   â€¢ Apply rounding mode                                          â”‚  â”‚
â”‚   â”‚                                                                   â”‚  â”‚
â”‚   â”‚   Step 7: CHECK EXCEPTIONS                                       â”‚  â”‚
â”‚   â”‚   â€¢ Overflow/Underflow                                           â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                          â”‚
â”‚   Note: Exponents SUBTRACT, Mantissas DIVIDE                            â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ“Œ Division Example

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    EXAMPLE: 7.5 Ã· 2.5                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚   X = 7.5 = 111.1â‚‚ = 1.111 Ã— 2Â²                                         â”‚
â”‚   Y = 2.5 = 10.1â‚‚ = 1.01 Ã— 2Â¹                                           â”‚
â”‚                                                                          â”‚
â”‚   Step 1: Check divide by zero                                          â”‚
â”‚   Y â‰  0, continue                                                       â”‚
â”‚                                                                          â”‚
â”‚   Step 2: Determine sign                                                â”‚
â”‚   Sz = 0 XOR 0 = 0 (positive)                                           â”‚
â”‚                                                                          â”‚
â”‚   Step 3: Subtract exponents                                            â”‚
â”‚   Ez = 2 - 1 = 1                                                        â”‚
â”‚                                                                          â”‚
â”‚   Step 4: Divide mantissas                                              â”‚
â”‚   1.111 Ã· 1.01 = ?                                                      â”‚
â”‚                                                                          â”‚
â”‚   Converting to integers for clarity:                                   â”‚
â”‚   1111 Ã· 101 = 10.111... (quotient)                                     â”‚
â”‚   So 1.111 Ã· 1.01 â‰ˆ 1.1                                                 â”‚
â”‚                                                                          â”‚
â”‚   More precisely: 1.875 Ã· 1.25 = 1.5                                    â”‚
â”‚   1.5 = 1.1â‚‚                                                            â”‚
â”‚                                                                          â”‚
â”‚   Step 5: Result                                                        â”‚
â”‚   Z = 1.1 Ã— 2Â¹ = 11â‚‚ = 3                                                â”‚
â”‚                                                                          â”‚
â”‚   Verify: 7.5 Ã· 2.5 = 3.0 âœ“                                             â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 6. FP Arithmetic Hardware

### ğŸ“Œ FP Adder Block Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    FLOATING-POINT ADDER HARDWARE                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚        X (FP)                              Y (FP)                        â”‚
â”‚    â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”                   â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”                  â”‚
â”‚    â”‚ Sx â”‚ Ex â”‚ Mx â”‚                   â”‚ Sy â”‚ Ey â”‚ My â”‚                  â”‚
â”‚    â””â”€â”€â”¬â”€â”´â”€â”€â”¬â”€â”´â”€â”€â”¬â”€â”˜                   â””â”€â”€â”¬â”€â”´â”€â”€â”¬â”€â”´â”€â”€â”¬â”€â”˜                  â”‚
â”‚       â”‚    â”‚    â”‚                        â”‚    â”‚    â”‚                     â”‚
â”‚       â”‚    â”‚    â”‚                        â”‚    â”‚    â”‚                     â”‚
â”‚       â”‚    â–¼    â–¼                        â”‚    â–¼    â–¼                     â”‚
â”‚       â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚       â”‚  â”‚         Exponent Comparator             â”‚                    â”‚
â”‚       â”‚  â”‚           d = Ex - Ey                   â”‚                    â”‚
â”‚       â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚       â”‚                     â”‚                                            â”‚
â”‚       â”‚                     â–¼                                            â”‚
â”‚       â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚       â”‚  â”‚         Mantissa Alignment              â”‚                    â”‚
â”‚       â”‚  â”‚    Shift smaller mantissa right by |d|  â”‚                    â”‚
â”‚       â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚       â”‚                   â”‚ â”‚                                            â”‚
â”‚       â”‚                   â–¼ â–¼                                            â”‚
â”‚       â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚       â””â”€â”€â–º      Mantissa Add/Subtract              â”‚                    â”‚
â”‚          â”‚   (based on signs Sx, Sy)              â”‚                    â”‚
â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚                           â”‚                                              â”‚
â”‚                           â–¼                                              â”‚
â”‚          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚          â”‚         Normalization Unit              â”‚                    â”‚
â”‚          â”‚    Leading Zero Detect, Shift           â”‚                    â”‚
â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚                           â”‚                                              â”‚
â”‚                           â–¼                                              â”‚
â”‚          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚          â”‚           Rounding Unit                 â”‚                    â”‚
â”‚          â”‚     G, R, S bit processing              â”‚                    â”‚
â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚                           â”‚                                              â”‚
â”‚                           â–¼                                              â”‚
â”‚          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚          â”‚       Exception Detection               â”‚                    â”‚
â”‚          â”‚  Overflow, Underflow, Invalid           â”‚                    â”‚
â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚                           â”‚                                              â”‚
â”‚                           â–¼                                              â”‚
â”‚                   â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”                                      â”‚
â”‚                   â”‚ Sz â”‚ Ez â”‚ Mz â”‚                                      â”‚
â”‚                   â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”˜                                      â”‚
â”‚                       Z (Result)                                         â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ“Œ FP Multiplier Block Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    FLOATING-POINT MULTIPLIER                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚        X (FP)                              Y (FP)                        â”‚
â”‚    â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”                   â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”                  â”‚
â”‚    â”‚ Sx â”‚ Ex â”‚ Mx â”‚                   â”‚ Sy â”‚ Ey â”‚ My â”‚                  â”‚
â”‚    â””â”€â”€â”¬â”€â”´â”€â”€â”¬â”€â”´â”€â”€â”¬â”€â”˜                   â””â”€â”€â”¬â”€â”´â”€â”€â”¬â”€â”´â”€â”€â”¬â”€â”˜                  â”‚
â”‚       â”‚    â”‚    â”‚                        â”‚    â”‚    â”‚                     â”‚
â”‚       â”‚    â”‚    â”‚                        â”‚    â”‚    â”‚                     â”‚
â”‚       â–¼    â”‚    â”‚                        â–¼    â”‚    â”‚                     â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚    â”‚                    â”‚
â”‚   â”‚                                            â”‚    â”‚                    â”‚
â”‚   â–¼                                            â–¼    â–¼                    â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚ â”‚ XOR  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º  Mantissa Multiplier â”‚             â”‚
â”‚ â””â”€â”€â”¬â”€â”€â”€â”˜   (Sign)                   â”‚   (24 Ã— 24 bits)    â”‚             â”‚
â”‚    â”‚                                â”‚   = 48-bit product  â”‚             â”‚
â”‚    â”‚                                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚    â”‚                                           â”‚                         â”‚
â”‚    â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚    â”‚         â”‚                                                           â”‚
â”‚    â”‚         â–¼                                                           â”‚
â”‚    â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                         â”‚
â”‚    â”‚    â”‚ Exponent Adder      â”‚â—„â”€â”€â”€ Ex + Ey - Bias                      â”‚
â”‚    â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                         â”‚
â”‚    â”‚               â”‚                                                     â”‚
â”‚    â”‚               â–¼                                                     â”‚
â”‚    â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                         â”‚
â”‚    â”‚    â”‚ Normalize (1 bit    â”‚                                         â”‚
â”‚    â”‚    â”‚ right shift if MSB) â”‚                                         â”‚
â”‚    â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                         â”‚
â”‚    â”‚               â”‚                                                     â”‚
â”‚    â”‚               â–¼                                                     â”‚
â”‚    â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                         â”‚
â”‚    â”‚    â”‚ Round to 24 bits    â”‚                                         â”‚
â”‚    â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                         â”‚
â”‚    â”‚               â”‚                                                     â”‚
â”‚    â”‚               â–¼                                                     â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â–ºâ”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”                                             â”‚
â”‚            â”‚ Sz â”‚ Ez â”‚ Mz â”‚                                             â”‚
â”‚            â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”˜                                             â”‚
â”‚                Z (Result)                                                â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 7. Special Cases and Exceptions

### ğŸ“Œ Exception Handling

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    FP SPECIAL CASES                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚   Operation          â”‚   Result                                 â”‚   â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚   â”‚   x + (+âˆ)           â”‚   +âˆ                                     â”‚   â”‚
â”‚   â”‚   x - (+âˆ)           â”‚   -âˆ                                     â”‚   â”‚
â”‚   â”‚   (+âˆ) + (+âˆ)        â”‚   +âˆ                                     â”‚   â”‚
â”‚   â”‚   (+âˆ) - (+âˆ)        â”‚   NaN (indeterminate)                    â”‚   â”‚
â”‚   â”‚   (+âˆ) + (-âˆ)        â”‚   NaN                                    â”‚   â”‚
â”‚   â”‚   x Ã— (+âˆ)           â”‚   Â±âˆ (based on sign of x)                â”‚   â”‚
â”‚   â”‚   0 Ã— (+âˆ)           â”‚   NaN                                    â”‚   â”‚
â”‚   â”‚   x Ã· 0              â”‚   Â±âˆ (based on sign of x)                â”‚   â”‚
â”‚   â”‚   0 Ã· 0              â”‚   NaN                                    â”‚   â”‚
â”‚   â”‚   (+âˆ) Ã· (+âˆ)        â”‚   NaN                                    â”‚   â”‚
â”‚   â”‚   NaN op anything    â”‚   NaN                                    â”‚   â”‚
â”‚   â”‚   x + 0              â”‚   x                                      â”‚   â”‚
â”‚   â”‚   x Ã— 0              â”‚   Â±0                                     â”‚   â”‚
â”‚   â”‚   x Ã— 1              â”‚   x                                      â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                          â”‚
â”‚   IEEE 754 Exceptions:                                                  â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚   1. Invalid Operation: NaN results (0/0, âˆ-âˆ, etc.)            â”‚  â”‚
â”‚   â”‚   2. Division by Zero: Non-zero Ã· 0 = Â±âˆ                        â”‚  â”‚
â”‚   â”‚   3. Overflow: Result too large, returns Â±âˆ                     â”‚  â”‚
â”‚   â”‚   4. Underflow: Result too small, returns 0 or denormal         â”‚  â”‚
â”‚   â”‚   5. Inexact: Rounding occurred                                 â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 8. Fused Multiply-Add (FMA)

### ğŸ“Œ FMA Operation

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    FUSED MULTIPLY-ADD (FMA)                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚   Operation: FMA(a, b, c) = a Ã— b + c                                   â”‚
â”‚                                                                          â”‚
â”‚   Key Feature: Single rounding at the end (not after multiply)          â”‚
â”‚                                                                          â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚   Standard (two operations):                                     â”‚  â”‚
â”‚   â”‚   temp = ROUND(a Ã— b)                                            â”‚  â”‚
â”‚   â”‚   result = ROUND(temp + c)                                       â”‚  â”‚
â”‚   â”‚   â†’ Two rounding errors                                          â”‚  â”‚
â”‚   â”‚                                                                   â”‚  â”‚
â”‚   â”‚   FMA (fused):                                                   â”‚  â”‚
â”‚   â”‚   result = ROUND(a Ã— b + c)                                      â”‚  â”‚
â”‚   â”‚   â†’ One rounding error, more accurate!                           â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                          â”‚
â”‚   Implementation:                                                        â”‚
â”‚   1. Multiply a Ã— b â†’ full precision (2n bits)                          â”‚
â”‚   2. Add c (aligned to full precision)                                  â”‚
â”‚   3. Round once to n bits                                               â”‚
â”‚                                                                          â”‚
â”‚   Benefits:                                                              â”‚
â”‚   â€¢ Higher accuracy                                                      â”‚
â”‚   â€¢ Single instruction for common operation                             â”‚
â”‚   â€¢ Essential for: Matrix operations, polynomials, dot products         â”‚
â”‚                                                                          â”‚
â”‚   Available in: SSE, AVX (x86), NEON (ARM), most modern CPUs            â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Summary Table

| Operation | Exponent | Mantissa | Sign |
|-----------|----------|----------|------|
| **Addition** | Align to larger | Add aligned values | From larger or result |
| **Subtraction** | Align to larger | Subtract | From larger or result |
| **Multiplication** | Add (and subtract bias) | Multiply | XOR |
| **Division** | Subtract (and add bias) | Divide | XOR |

| Concept | Description |
|---------|-------------|
| **Alignment** | Shift smaller operand's mantissa to match exponents |
| **Normalization** | Shift mantissa so leading bit is 1 |
| **GRS bits** | Extra bits for precise rounding |
| **FMA** | Fused operation with single rounding |

---

## â“ Quick Revision Questions

1. **Q**: Why must mantissas be aligned before FP addition?
   
   **A**: Mantissas represent values at different magnitudes (determined by exponents). To add them correctly, we must shift the smaller number's mantissa right until both have the same exponent.

2. **Q**: In FP multiplication, how is the result exponent computed?
   
   **A**: Ez = Ex + Ey - bias. We add exponents and subtract bias once (since both operands already include the bias).

3. **Q**: What are Guard, Round, and Sticky bits?
   
   **A**: Extra precision bits kept during computation. G is the first bit beyond mantissa, R is the second, and S is the OR of all remaining bits. They enable accurate rounding.

4. **Q**: Why is (+âˆ) - (+âˆ) = NaN?
   
   **A**: The result is indeterminate. âˆ - âˆ could be any value (imagine limit of (xÂ² - x) as xâ†’âˆ is âˆ, but (x - x) is 0). IEEE 754 returns NaN for such indeterminate forms.

5. **Q**: What is the advantage of FMA over separate multiply and add?
   
   **A**: FMA performs only one rounding at the end instead of two, providing higher accuracy. The intermediate product is kept at full precision.

6. **Q**: Add 1.0 Ã— 2Â³ and 1.0 Ã— 2Â¹ in floating-point.
   
   **A**: Align: 1.0 Ã— 2Â³ and 0.01 Ã— 2Â³. Add: 1.01 Ã— 2Â³ = 1.01 Ã— 8 = 10.1 in decimal. Verify: 8 + 2 = 10. Result: 1.01 Ã— 2Â³ (or 1.25 Ã— 2Â³ if we need decimal form).

---

## ğŸ§­ Navigation

| Previous | Up | Next |
|----------|-----|------|
| [Division Algorithms](04-division-algorithms.md) | [Unit 3 Home](README.md) | [Unit 4: Register Transfer](../04-Register-Transfer-Microoperations/README.md) |

---

[â† Previous Chapter](04-division-algorithms.md) | [Course Home](../README.md) | [Next Unit â†’](../04-Register-Transfer-Microoperations/README.md)
