# Unit 7: Microprogrammed Control

## ğŸ“‹ Unit Overview

Microprogrammed control is an alternative to hardwired control where control signals are stored in a special memory called control memory. Each instruction is executed by a sequence of microinstructions, making the control unit more flexible and easier to design for complex ISAs.

---

## ğŸ¯ Unit Objectives

- Understand the concept of microprogramming
- Learn control memory organization
- Study microinstruction formats
- Design microprogrammed control units

---

## ğŸ“š Chapters

| Chapter | Title | Topics Covered |
|---------|-------|----------------|
| [7.1](01-control-memory.md) | Control Memory | Control store, microaddress register, sequencing |
| [7.2](02-microinstruction-format.md) | Microinstruction Format | Horizontal, vertical, fields, encoding |
| [7.3](03-microprogram-sequencing.md) | Microprogram Sequencing | Next address logic, branching, subroutines |
| [7.4](04-microprogrammed-cpu.md) | Microprogrammed CPU | Complete design example |

---

## ğŸ”‘ Key Concepts

### Microprogramming Concept

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    MICROPROGRAMMING OVERVIEW                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚   Every machine instruction is executed by a sequence of                â”‚
â”‚   microinstructions stored in control memory (ROM)                      â”‚
â”‚                                                                          â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚   â”‚                                                                   â”‚ â”‚
â”‚   â”‚   Machine Instruction          Microprogram                       â”‚ â”‚
â”‚   â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€          â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                      â”‚ â”‚
â”‚   â”‚   ADD R1, R2, R3     â”€â”€â”€â”€â”€â”€â–º   Î¼1: MAR â† PC                       â”‚ â”‚
â”‚   â”‚                                Î¼2: MDR â† M[MAR], PC++             â”‚ â”‚
â”‚   â”‚                                Î¼3: IR â† MDR                       â”‚ â”‚
â”‚   â”‚                                Î¼4: Decode opcode                  â”‚ â”‚
â”‚   â”‚                                Î¼5: A â† R2                         â”‚ â”‚
â”‚   â”‚                                Î¼6: B â† R3                         â”‚ â”‚
â”‚   â”‚                                Î¼7: C â† A + B                      â”‚ â”‚
â”‚   â”‚                                Î¼8: R1 â† C                         â”‚ â”‚
â”‚   â”‚                                Î¼9: Branch to fetch                â”‚ â”‚
â”‚   â”‚                                                                   â”‚ â”‚
â”‚   â”‚   One instruction â†’ Multiple microoperations                     â”‚ â”‚
â”‚   â”‚                                                                   â”‚ â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                          â”‚
â”‚   Control Memory Structure:                                              â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚   â”‚                                                                   â”‚ â”‚
â”‚   â”‚   Address â”‚ Microinstruction                                     â”‚ â”‚
â”‚   â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚ â”‚
â”‚   â”‚     000   â”‚ Fetch cycle Î¼-instructions                          â”‚ â”‚
â”‚   â”‚     001   â”‚                                                       â”‚ â”‚
â”‚   â”‚     002   â”‚                                                       â”‚ â”‚
â”‚   â”‚     ...   â”‚ ...                                                   â”‚ â”‚
â”‚   â”‚     100   â”‚ ADD instruction Î¼-program start                      â”‚ â”‚
â”‚   â”‚     101   â”‚                                                       â”‚ â”‚
â”‚   â”‚     ...   â”‚ ...                                                   â”‚ â”‚
â”‚   â”‚     200   â”‚ SUB instruction Î¼-program start                      â”‚ â”‚
â”‚   â”‚     ...   â”‚ ...                                                   â”‚ â”‚
â”‚   â”‚                                                                   â”‚ â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Microprogrammed Control Unit

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    MICROPROGRAMMED CONTROL UNIT                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚   â”‚                                                                   â”‚ â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                 â”‚ â”‚
â”‚   â”‚   â”‚     IR      â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚ â”‚
â”‚   â”‚   â”‚  (Opcode)   â”‚                                 â”‚               â”‚ â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                 â”‚               â”‚ â”‚
â”‚   â”‚          â”‚                                        â”‚               â”‚ â”‚
â”‚   â”‚          â–¼                                        â–¼               â”‚ â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”‚
â”‚   â”‚   â”‚   Mapping   â”‚    â”‚                                          â”‚â”‚ â”‚
â”‚   â”‚   â”‚    Logic    â”‚â”€â”€â”€â–ºâ”‚         CONTROL MEMORY                   â”‚â”‚ â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚            (ROM)                         â”‚â”‚ â”‚
â”‚   â”‚                      â”‚                                          â”‚â”‚ â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚â”‚ â”‚
â”‚   â”‚   â”‚    Î¼AR      â”‚â”€â”€â”€â–ºâ”‚  â”‚      Microinstruction              â”‚ â”‚â”‚ â”‚
â”‚   â”‚   â”‚ (Micro-     â”‚    â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚â”‚ â”‚
â”‚   â”‚   â”‚  address    â”‚    â”‚  â”‚  â”‚ Control     â”‚ Next Address    â”‚ â”‚ â”‚â”‚ â”‚
â”‚   â”‚   â”‚  Register)  â”‚    â”‚  â”‚  â”‚ Signals     â”‚ Information     â”‚ â”‚ â”‚â”‚ â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚â”‚ â”‚
â”‚   â”‚          â–²           â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚â”‚ â”‚
â”‚   â”‚          â”‚           â”‚                                          â”‚â”‚ â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”‚
â”‚   â”‚   â”‚ Next Addressâ”‚                    â”‚                           â”‚ â”‚
â”‚   â”‚   â”‚   Logic     â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚ â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚                           â”‚ â”‚
â”‚   â”‚          â–²                           â–¼                           â”‚ â”‚
â”‚   â”‚          â”‚                    Control Signals                    â”‚ â”‚
â”‚   â”‚   Status Flags                to Datapath                        â”‚ â”‚
â”‚   â”‚   (Z, N, C, V)                                                   â”‚ â”‚
â”‚   â”‚                                                                   â”‚ â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Unit Summary

| Concept | Hardwired | Microprogrammed |
|---------|-----------|-----------------|
| **Implementation** | Logic gates | Control memory (ROM) |
| **Speed** | Faster | Slower (memory access) |
| **Flexibility** | Fixed | Can modify microcode |
| **Complexity** | High for complex ISA | Easier for complex ISA |
| **Cost** | Lower for simple | Lower for complex |
| **Debugging** | Difficult | Easier |

---

## ğŸ”— Related Units

- [Unit 5: Basic Computer Design](../05-Basic-Computer-Design/README.md) - Hardwired control example
- [Unit 8: Pipeline Processing](../08-Pipeline-Processing/README.md) - Advanced control concepts

---

## ğŸ§­ Navigation

| Previous Unit | Course Home | Next Unit |
|--------------|-------------|-----------|
| [Unit 6: CPU Organization](../06-CPU-Organization/README.md) | [Course Home](../README.md) | [Unit 8: Pipeline Processing](../08-Pipeline-Processing/README.md) |

---

[â† Previous Unit](../06-CPU-Organization/README.md) | [Course Home](../README.md) | [Next Unit â†’](../08-Pipeline-Processing/README.md)
