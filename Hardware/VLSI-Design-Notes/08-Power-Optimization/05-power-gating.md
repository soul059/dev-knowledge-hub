# Chapter 8.5: Power Gating

## ğŸ“‹ Chapter Overview

**Power gating** completely shuts off power to inactive circuit blocks, reducing leakage power to near zero. This chapter covers power switch design, state retention techniques, and wake-up strategies.

---

## ğŸ¯ Learning Objectives

After completing this chapter, you will be able to:
- Understand power gating architecture and switch design
- Choose between header and footer switch topologies
- Implement state retention techniques
- Design safe power-up and power-down sequences

---

## 8.5.1 Power Gating Concept

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    POWER GATING FUNDAMENTALS                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚   Active Mode:                     Sleep Mode:                      â”‚
â”‚                                                                      â”‚
â”‚      VDD                              VDD                            â”‚
â”‚       â”‚                                â”‚                             â”‚
â”‚       â”‚                               â•â•ªâ• â† OFF (sleep signal)      â”‚
â”‚       â”‚                                â”‚   Leakage blocked!          â”‚
â”‚       â–¼                                â”‚                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
â”‚   â”‚   Logic   â”‚                   â”‚   Logic   â”‚                     â”‚
â”‚   â”‚   Block   â”‚ â† Operational     â”‚   Block   â”‚ â† Isolated         â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â”‚       â”‚                                â”‚                             â”‚
â”‚       â–¼                                â–¼                             â”‚
â”‚      GND                              GND                            â”‚
â”‚                                                                      â”‚
â”‚   Power: P_active                  Power: ~0                        â”‚
â”‚                                                                      â”‚
â”‚                                                                      â”‚
â”‚   Why power gating?                                                 â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                  â”‚
â”‚   â€¢ Clock gating: reduces switching power, NOT leakage             â”‚
â”‚   â€¢ Multi-Vt: reduces leakage, but doesn't eliminate it            â”‚
â”‚   â€¢ Power gating: eliminates almost ALL power                      â”‚
â”‚                                                                      â”‚
â”‚   Power comparison during idle:                                     â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚ Technique           â”‚ Dynamic â”‚ Leakage â”‚ Total Reduction    â”‚  â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚   â”‚ Clock gating only   â”‚ ~0      â”‚ 100%    â”‚ ~50% (if 50% leak)â”‚  â”‚
â”‚   â”‚ Multi-Vt            â”‚ 100%    â”‚ 30%     â”‚ ~35%              â”‚  â”‚
â”‚   â”‚ Power gating        â”‚ ~0      â”‚ ~0      â”‚ ~99%              â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 8.5.2 Header vs Footer Switches

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    POWER SWITCH TOPOLOGIES                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚   HEADER SWITCH (PMOS):              FOOTER SWITCH (NMOS):          â”‚
â”‚                                                                      â”‚
â”‚         VDD (real)                        VDD                        â”‚
â”‚          â”‚                                 â”‚                         â”‚
â”‚          â”‚                                 â”‚                         â”‚
â”‚    sleepâ”€â•ªâ•â•â•â•—  â† PMOS                     â”‚                         â”‚
â”‚          â”‚   â•‘                             â”‚                         â”‚
â”‚          â–¼   â•‘                             â–¼                         â”‚
â”‚   VVDD (virtual)                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚          â”‚                          â”‚   Logic   â”‚                   â”‚
â”‚          â”‚                          â”‚   Block   â”‚                   â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚   â”‚   Logic   â”‚                          â”‚                          â”‚
â”‚   â”‚   Block   â”‚                          â–¼                          â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    VGND (virtual)                   â”‚
â”‚          â”‚                               â”‚                          â”‚
â”‚          â–¼                         sleepâ”€â•ªâ•â•â•â•—  â† NMOS              â”‚
â”‚         GND                              â”‚   â•‘                      â”‚
â”‚                                          â–¼   â•‘                      â”‚
â”‚                                         GND (real)                  â”‚
â”‚                                                                      â”‚
â”‚                                                                      â”‚
â”‚   Comparison:                                                        â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚ Property           â”‚ Header (PMOS) â”‚ Footer (NMOS)          â”‚  â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚   â”‚ Switch size        â”‚ 2-3Ã— larger   â”‚ Smaller                â”‚  â”‚
â”‚   â”‚ Area overhead      â”‚ Higher        â”‚ Lower                  â”‚  â”‚
â”‚   â”‚ Logic performance  â”‚ Better        â”‚ Slightly worse         â”‚  â”‚
â”‚   â”‚ Wake-up time       â”‚ Slower        â”‚ Faster                 â”‚  â”‚
â”‚   â”‚ N-well isolation   â”‚ Easier        â”‚ More complex           â”‚  â”‚
â”‚   â”‚ Implementation     â”‚ More common   â”‚ Less common            â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                      â”‚
â”‚   Why PMOS header is more common:                                   â”‚
â”‚   â€¢ NMOS in standard cells already in P-substrate (shared)        â”‚
â”‚   â€¢ Footer NMOS would need separate N-well, complicating layout   â”‚
â”‚   â€¢ Noise on ground more problematic than VDD                     â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 8.5.3 Power Switch Design

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SWITCH SIZING AND DISTRIBUTION                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚   Switch sizing criteria:                                           â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                             â”‚
â”‚   â€¢ Must supply peak current to all logic                          â”‚
â”‚   â€¢ Keep voltage droop on virtual rail < 5-10% VDD                 â”‚
â”‚   â€¢ Minimize area overhead (typically 2-5% of logic area)          â”‚
â”‚                                                                      â”‚
â”‚   $R_{switch} = \frac{\Delta V_{droop}}{I_{peak}}$                 â”‚
â”‚                                                                      â”‚
â”‚   Example:                                                          â”‚
â”‚   â€¢ VDD = 1.0V, max droop = 50mV (5%)                             â”‚
â”‚   â€¢ I_peak = 100mA                                                 â”‚
â”‚   â€¢ R_switch = 50mV / 100mA = 0.5Î©                                â”‚
â”‚                                                                      â”‚
â”‚                                                                      â”‚
â”‚   Distribution strategies:                                          â”‚
â”‚                                                                      â”‚
â”‚   COARSE GRAIN:                      FINE GRAIN:                    â”‚
â”‚   (Few large switches)               (Many small switches)          â”‚
â”‚                                                                      â”‚
â”‚         VDD                                VDD                       â”‚
â”‚          â”‚                                  â”‚                        â”‚
â”‚     â•”â•â•â•â•â•ªâ•â•â•â•â•—                    â•”â•â•ªâ•â•— â•”â•â•ªâ•â•— â•”â•â•ªâ•â•— â•”â•â•ªâ•â•—        â”‚
â”‚     â•‘         â•‘                    â•‘   â•‘ â•‘   â•‘ â•‘   â•‘ â•‘   â•‘        â”‚
â”‚     â–¼         â–¼                    â–¼   â–¼ â–¼   â–¼ â–¼   â–¼ â–¼   â–¼        â”‚
â”‚   VVDDâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                  VVDDâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€        â”‚
â”‚     â”‚           â”‚                    â”‚   â”‚   â”‚   â”‚   â”‚   â”‚         â”‚
â”‚   â”Œâ”€â”€â”€â” â”Œâ”€â”€â”€â” â”Œâ”€â”€â”€â”                â”Œâ”€â” â”Œâ”€â” â”Œâ”€â” â”Œâ”€â” â”Œâ”€â” â”Œâ”€â”        â”‚
â”‚   â”‚   â”‚ â”‚   â”‚ â”‚   â”‚                â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚        â”‚
â”‚   â””â”€â”€â”€â”˜ â””â”€â”€â”€â”˜ â””â”€â”€â”€â”˜                â””â”€â”˜ â””â”€â”˜ â””â”€â”˜ â””â”€â”˜ â””â”€â”˜ â””â”€â”˜        â”‚
â”‚                                                                      â”‚
â”‚   Pros:                              Pros:                          â”‚
â”‚   â€¢ Simpler routing                  â€¢ Better IR drop              â”‚
â”‚   â€¢ Easier control                   â€¢ More uniform VVDD           â”‚
â”‚                                                                      â”‚
â”‚   Cons:                              Cons:                          â”‚
â”‚   â€¢ IR drop variation                â€¢ Complex routing             â”‚
â”‚   â€¢ Longer VVDD wires               â€¢ More control signals         â”‚
â”‚                                                                      â”‚
â”‚                                                                      â”‚
â”‚   Typical implementation: Ring of switches around block            â”‚
â”‚                                                                      â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚   â”‚ â•â•ªâ•  â•â•ªâ•  â•â•ªâ•  â•â•ªâ•  â•â•ªâ•  â•â•ªâ•  â•â•ªâ•  â•â•ªâ•â”‚ â† VDD ring with       â”‚
â”‚   â”‚                                        â”‚   distributed switches â”‚
â”‚   â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚                        â”‚
â”‚   â”‚    â”‚                              â”‚   â”‚                        â”‚
â”‚   â”‚ â•â•ªâ•â”‚       Logic Block            â”‚â•â•ªâ•â”‚                        â”‚
â”‚   â”‚    â”‚                              â”‚   â”‚                        â”‚
â”‚   â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚                        â”‚
â”‚   â”‚                                        â”‚                        â”‚
â”‚   â”‚ â•â•ªâ•  â•â•ªâ•  â•â•ªâ•  â•â•ªâ•  â•â•ªâ•  â•â•ªâ•  â•â•ªâ•  â•â•ªâ•â”‚                        â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 8.5.4 State Retention

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    STATE RETENTION TECHNIQUES                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚   Problem: Power gating loses all flip-flop state!                 â”‚
â”‚   Solution: Retention flip-flops that save state before sleep      â”‚
â”‚                                                                      â”‚
â”‚   RETENTION FLIP-FLOP ARCHITECTURE:                                â”‚
â”‚                                                                      â”‚
â”‚              VDD (always on)                                        â”‚
â”‚                 â”‚                                                   â”‚
â”‚            â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”                                              â”‚
â”‚            â”‚ Balloon â”‚ â† Shadow latch (always powered)             â”‚
â”‚            â”‚  Latch  â”‚                                              â”‚
â”‚            â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                                              â”‚
â”‚     SAVE â”€â”€â”€â”€â”€â”€â–ºâ”‚                                                   â”‚
â”‚                 â”‚                                                   â”‚
â”‚              VVDD (switchable)                                      â”‚
â”‚                 â”‚                                                   â”‚
â”‚            â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”                                              â”‚
â”‚   D â”€â”€â”€â”€â”€â”€â–ºâ”‚ Master- â”‚                                              â”‚
â”‚   CLK â”€â”€â”€â”€â–ºâ”‚ Slave   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º Q                                â”‚
â”‚            â”‚   DFF   â”‚                                              â”‚
â”‚            â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                                              â”‚
â”‚                 â”‚                                                   â”‚
â”‚   RESTORE â”€â”€â”€â”€â”€â–ºâ”‚                                                   â”‚
â”‚                                                                      â”‚
â”‚                                                                      â”‚
â”‚   Save/Restore sequence:                                            â”‚
â”‚                                                                      â”‚
â”‚   SAVE (before sleep):           RESTORE (after wake):             â”‚
â”‚   1. Assert SAVE signal          1. Power up VVDD                  â”‚
â”‚   2. Copy Q to balloon latch     2. Wait for VVDD stable           â”‚
â”‚   3. Turn off VVDD               3. Assert RESTORE                 â”‚
â”‚                                  4. Copy balloon to master          â”‚
â”‚                                  5. Resume clocking                 â”‚
â”‚                                                                      â”‚
â”‚                                                                      â”‚
â”‚   Retention cell overhead:                                          â”‚
â”‚   â€¢ Area: 30-50% larger than normal flip-flop                      â”‚
â”‚   â€¢ Delay: Slightly higher (balloon loading)                       â”‚
â”‚   â€¢ Power: Small always-on leakage for balloon                     â”‚
â”‚                                                                      â”‚
â”‚                                                                      â”‚
â”‚   Alternative: Save to SRAM (for large state)                      â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚   Controller scans out all FFs â†’ saves to always-on SRAM   â”‚   â”‚
â”‚   â”‚   On wake-up: SRAM â†’ scans back into FFs                   â”‚   â”‚
â”‚   â”‚   Trade-off: Longer sleep/wake time, less area overhead    â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 8.5.5 Power-Up/Down Sequences

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    POWER STATE TRANSITIONS                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚   POWER-DOWN SEQUENCE:                                              â”‚
â”‚                                                                      â”‚
â”‚   Time â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º  â”‚
â”‚                                                                      â”‚
â”‚   1. Stop    2. Isolate   3. Save    4. Power     5. Sleep         â”‚
â”‚      clocks     outputs      state      off          mode           â”‚
â”‚        â”‚           â”‚           â”‚          â”‚           â”‚             â”‚
â”‚   CLK  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘          â”‚
â”‚        â”‚           â”‚           â”‚          â”‚           â”‚             â”‚
â”‚   ISO  â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ         â”‚
â”‚        â”‚           â”‚           â”‚          â”‚           â”‚             â”‚
â”‚   SAVE â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ         â”‚
â”‚        â”‚           â”‚           â”‚          â”‚           â”‚             â”‚
â”‚   VVDD â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘          â”‚
â”‚        â”‚           â”‚           â”‚          â”‚           â”‚             â”‚
â”‚                                                                      â”‚
â”‚                                                                      â”‚
â”‚   POWER-UP SEQUENCE:                                                â”‚
â”‚                                                                      â”‚
â”‚   Time â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º  â”‚
â”‚                                                                      â”‚
â”‚   1. Power    2. Wait     3. Restore  4. Remove    5. Start        â”‚
â”‚      on         stable       state       isolation    clocks        â”‚
â”‚        â”‚           â”‚           â”‚          â”‚           â”‚             â”‚
â”‚   VVDD â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ          â”‚
â”‚        â”‚           â”‚           â”‚          â”‚           â”‚             â”‚
â”‚   RESTORE â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ         â”‚
â”‚        â”‚           â”‚           â”‚          â”‚           â”‚             â”‚
â”‚   ISO  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘          â”‚
â”‚        â”‚           â”‚           â”‚          â”‚           â”‚             â”‚
â”‚   CLK  â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ          â”‚
â”‚        â”‚           â”‚           â”‚          â”‚           â”‚             â”‚
â”‚                                                                      â”‚
â”‚                                                                      â”‚
â”‚   Critical timing requirements:                                     â”‚
â”‚   â€¢ VVDD must stabilize before RESTORE (prevent metastability)    â”‚
â”‚   â€¢ Isolation must remain until logic is stable                    â”‚
â”‚   â€¢ Clock should restart only after isolation removed              â”‚
â”‚                                                                      â”‚
â”‚   Typical timing:                                                    â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚ Phase                      â”‚ Duration                        â”‚  â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚   â”‚ VVDD ramp-up              â”‚ 100ns - 1Âµs                     â”‚  â”‚
â”‚   â”‚ State restore             â”‚ 1-10 clock cycles               â”‚  â”‚
â”‚   â”‚ Isolation removal         â”‚ 1-2 clock cycles                â”‚  â”‚
â”‚   â”‚ Total wake-up latency     â”‚ 200ns - 2Âµs                     â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 8.5.6 Isolation Cells

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    OUTPUT ISOLATION                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚   Problem: When VVDD is off, outputs float to undefined values     â”‚
â”‚   Solution: Isolation cells clamp outputs to known values          â”‚
â”‚                                                                      â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚   â”‚              Power-Gated Domain                               â”‚ â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    VVDD                          â”‚ â”‚
â”‚   â”‚  â”‚         â”‚                      â”‚                           â”‚ â”‚
â”‚   â”‚  â”‚  Logic  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚ â”‚
â”‚   â”‚  â”‚         â”‚         â”‚            â”‚   â”‚         â”‚            â”‚ â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚            â”‚   â”‚ ISO     â”œâ”€â”€â”€â”€â”€â–º OUT  â”‚ â”‚
â”‚   â”‚                      â–¼            â”‚   â”‚ Cell    â”‚            â”‚ â”‚
â”‚   â”‚              Floating when off    â”‚   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜            â”‚ â”‚
â”‚   â”‚                                   â”‚        â”‚                 â”‚ â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                       â”‚        â”‚                   â”‚
â”‚                                  ISO_EN â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚                                  (always-on signal)                â”‚
â”‚                                                                      â”‚
â”‚                                                                      â”‚
â”‚   Isolation cell types:                                             â”‚
â”‚                                                                      â”‚
â”‚   CLAMP-LOW (AND gate):              CLAMP-HIGH (OR gate):          â”‚
â”‚                                                                      â”‚
â”‚   IN â”€â”€â”€â”¬â”€â”                          IN â”€â”€â”€â”¬â”€â”                      â”‚
â”‚         â”‚ â”‚                                â”‚â‰¥1â”‚                     â”‚
â”‚   ISO â”€â”€â”´â”€â”¼â”€â”€â–º OUT                   ISO â”€â”€â”´â”€â”¼â”€â”€â–º OUT              â”‚
â”‚           â”‚                                  â”‚                      â”‚
â”‚                                                                      â”‚
â”‚   When ISO=0: OUT=0                  When ISO=1: OUT=1              â”‚
â”‚   When ISO=1: OUT=IN                 When ISO=0: OUT=IN             â”‚
â”‚                                                                      â”‚
â”‚                                                                      â”‚
â”‚   Isolation cell placement:                                         â”‚
â”‚                                                                      â”‚
â”‚       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚       â”‚  Power-Gated Block   â”‚       â”‚  Always-On Block     â”‚       â”‚
â”‚       â”‚                      â”‚       â”‚                      â”‚       â”‚
â”‚       â”‚   Logic â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¤ (no isolation needed)â”‚       â”‚
â”‚       â”‚                      â”‚ ISO   â”‚                      â”‚       â”‚
â”‚       â”‚                      â”‚       â”‚                      â”‚       â”‚
â”‚       â”‚   Logic â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â–º ISO cell â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”‚
â”‚       â”‚                      â”‚       â”‚                      â”‚       â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                                      â”‚
â”‚   â€¢ Input to power-gated block: usually no isolation needed        â”‚
â”‚   â€¢ Output from power-gated block: ALWAYS needs isolation          â”‚
â”‚                                                                      â”‚
â”‚                                                                      â”‚
â”‚   Design rule: Place ISO cells in always-on domain!               â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 8.5.7 Power Domain Planning

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    POWER DOMAIN ARCHITECTURE                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚   Example SoC power domains:                                        â”‚
â”‚                                                                      â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                        System on Chip                        â”‚   â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚   â”‚
â”‚   â”‚  â”‚              Always-On Domain                            â”‚â”‚   â”‚
â”‚   â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚â”‚   â”‚
â”‚   â”‚  â”‚  â”‚  Power   â”‚  â”‚  Clock   â”‚  â”‚ Interruptâ”‚              â”‚â”‚   â”‚
â”‚   â”‚  â”‚  â”‚ Manager  â”‚  â”‚   Gen    â”‚  â”‚Controllerâ”‚              â”‚â”‚   â”‚
â”‚   â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚â”‚   â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚   â”‚
â”‚   â”‚                                                             â”‚   â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚   â”‚
â”‚   â”‚  â”‚   CPU       â”‚ â”‚    GPU      â”‚ â”‚   DSP       â”‚          â”‚   â”‚
â”‚   â”‚  â”‚ (Gatable)   â”‚ â”‚ (Gatable)   â”‚ â”‚ (Gatable)   â”‚          â”‚   â”‚
â”‚   â”‚  â”‚ w/retention â”‚ â”‚ w/retention â”‚ â”‚ cold power  â”‚          â”‚   â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚   â”‚
â”‚   â”‚                                                             â”‚   â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚   â”‚
â”‚   â”‚  â”‚   Memory    â”‚ â”‚    I/O      â”‚ â”‚   Modem     â”‚          â”‚   â”‚
â”‚   â”‚  â”‚   Array     â”‚ â”‚ Subsystem   â”‚ â”‚  (Gatable)  â”‚          â”‚   â”‚
â”‚   â”‚  â”‚ (Retention) â”‚ â”‚ (Always-on) â”‚ â”‚             â”‚          â”‚   â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                      â”‚
â”‚                                                                      â”‚
â”‚   Power domain types:                                                â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚ Type              â”‚ Leakage    â”‚ Wake Time â”‚ State          â”‚  â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚   â”‚ Always-on         â”‚ Full       â”‚ N/A       â”‚ Preserved      â”‚  â”‚
â”‚   â”‚ Clock-gated only  â”‚ Full       â”‚ ~1 cycle  â”‚ Preserved      â”‚  â”‚
â”‚   â”‚ Power-gated       â”‚ ~0         â”‚ ~1Âµs      â”‚ Lost           â”‚  â”‚
â”‚   â”‚ + Retention       â”‚ ~0         â”‚ ~1Âµs      â”‚ Preserved      â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                      â”‚
â”‚                                                                      â”‚
â”‚   Power state machine example:                                      â”‚
â”‚                                                                      â”‚
â”‚          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚          â”‚                                            â”‚             â”‚
â”‚          â–¼                                            â”‚             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    idle    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   timeout           â”‚
â”‚   â”‚    ACTIVE    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚    STANDBY   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚   â”‚              â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ (clock gated)â”‚        â”‚             â”‚
â”‚   â”‚  Full power  â”‚   wakeup   â”‚  Low power   â”‚        â”‚             â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚             â”‚
â”‚          â–²                           â”‚                â–¼             â”‚
â”‚          â”‚                           â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚          â”‚                           â”‚timeout  â”‚    SLEEP     â”‚     â”‚
â”‚          â”‚         wakeup            â–¼         â”‚(power gated) â”‚     â”‚
â”‚          â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”‚  Min power   â”‚     â”‚
â”‚          â””â”€â”€â”€â”€â”¤                      â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                              â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Summary Table

| Component | Function | Overhead | Location |
|-----------|----------|----------|----------|
| Power Switch | Controls VVDD | 2-5% area | VDD ring |
| Isolation Cell | Clamps outputs | Per output | Always-on domain |
| Retention FF | Saves state | 30-50% larger | Power-gated domain |
| Level Shifter | Voltage conversion | Per crossing | Domain boundary |

---

## â“ Quick Revision Questions

1. **Why is power gating more effective than clock gating for leakage reduction?**

2. **Compare header (PMOS) vs footer (NMOS) power switches. Which is preferred?**

3. **What is a retention flip-flop and why is it needed?**

4. **In the power-down sequence, why must isolation be asserted before turning off power?**

5. **Where should isolation cells be placed - in the power-gated or always-on domain? Why?**

6. **What determines the minimum sleep time for power gating to be beneficial?**

---

## ğŸ”— Navigation

| Previous | Up | Next |
|----------|-------|------|
| â† [Voltage Scaling](04-voltage-scaling.md) | [Unit 8 Home](README.md) | [Unit 9: Testing â†’](../09-Testing-Verification/README.md) |
