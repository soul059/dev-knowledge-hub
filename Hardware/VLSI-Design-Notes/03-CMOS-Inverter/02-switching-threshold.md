# Chapter 3.2: Switching Threshold

## ğŸ“‹ Chapter Overview

The **switching threshold (VM)** is the input voltage at which the output equals the input (Vin = Vout). It defines the midpoint of the transition region and is a critical parameter for determining logic levels and noise margins. This chapter analyzes how VM is calculated and how it can be controlled through transistor sizing.

---

## ğŸ¯ Learning Objectives

After completing this chapter, you will be able to:
- Define and calculate the switching threshold VM
- Derive the VM equation for a CMOS inverter
- Understand how sizing affects VM
- Design inverters with specific VM values

---

## 3.2.1 Definition of Switching Threshold

### Graphical Interpretation

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SWITCHING THRESHOLD DEFINITION                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚   V_out                                                             â”‚
â”‚      â”‚                                                              â”‚
â”‚      â”‚                                                              â”‚
â”‚  VDD â”¤â—â—â—â—â—â—â—â—â—â—â—â”€â”€â”                                                â”‚
â”‚      â”‚             â”‚                                                â”‚
â”‚      â”‚              â—                                               â”‚
â”‚      â”‚               â—                                              â”‚
â”‚      â”‚                â—                                             â”‚
â”‚      â”‚                 â—    â† Switching occurs here                 â”‚
â”‚   VM â”¤â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€â—â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€  Vout = Vin             â”‚
â”‚      â”‚                  â—                                           â”‚
â”‚      â”‚                   â—                                          â”‚
â”‚      â”‚                    â—                                         â”‚
â”‚      â”‚                     â—                                        â”‚
â”‚    0 â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—                        â”‚
â”‚      0                  VM                 VDD                      â”‚
â”‚                          â”‚                                          â”‚
â”‚                          â””â”€ Switching Threshold                     â”‚
â”‚                                                                      â”‚
â”‚   At V_in = V_M:                                                    â”‚
â”‚   â€¢ V_out = V_in = V_M                                             â”‚
â”‚   â€¢ Both transistors in SATURATION                                 â”‚
â”‚   â€¢ I_D,NMOS = I_D,PMOS                                            â”‚
â”‚   â€¢ Maximum short-circuit current flows                            â”‚
â”‚   â€¢ Highest gain (steepest slope)                                  â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3.2.2 Derivation of VM

### Mathematical Analysis

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    VM DERIVATION                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚   At VM, both transistors are in saturation:                        â”‚
â”‚                                                                      â”‚
â”‚   NMOS (saturation):                                                â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                 1                                            â”‚   â”‚
â”‚   â”‚   I_Dn = â”€â”€ Î²n (V_GS,n - V_tn)Â² = â”€â”€ Î²n (V_M - V_tn)Â²      â”‚   â”‚
â”‚   â”‚                 2                   2                        â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                      â”‚
â”‚   PMOS (saturation):                                                â”‚
â”‚   For PMOS: V_GS,p = V_in - VDD = V_M - VDD                        â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                 1                                            â”‚   â”‚
â”‚   â”‚   I_Dp = â”€â”€ Î²p (V_GS,p - V_tp)Â² = â”€â”€ Î²p (V_M - VDD - V_tp)Â² â”‚   â”‚
â”‚   â”‚                 2                   2                        â”‚   â”‚
â”‚   â”‚                                                              â”‚   â”‚
â”‚   â”‚   Note: V_tp is negative for PMOS, so (V_M - VDD - V_tp)   â”‚   â”‚
â”‚   â”‚         = (V_M - VDD + |V_tp|)                               â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                      â”‚
â”‚   Setting I_Dn = I_Dp (currents must be equal):                    â”‚
â”‚                                                                      â”‚
â”‚   Î²n(V_M - V_tn)Â² = Î²p(VDD - V_M - |V_tp|)Â²                        â”‚
â”‚                                                                      â”‚
â”‚   Taking square root:                                               â”‚
â”‚                                                                      â”‚
â”‚   âˆšÎ²n (V_M - V_tn) = âˆšÎ²p (VDD - V_M - |V_tp|)                      â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Final VM Equation

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SWITCHING THRESHOLD FORMULA                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚   Solving for VM:                                                   â”‚
â”‚                                                                      â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                                                              â”‚   â”‚
â”‚   â”‚         VDD - |V_tp| + V_tnâˆš(Î²n/Î²p)                         â”‚   â”‚
â”‚   â”‚   V_M = â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                        â”‚   â”‚
â”‚   â”‚                1 + âˆš(Î²n/Î²p)                                  â”‚   â”‚
â”‚   â”‚                                                              â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                      â”‚
â”‚   Define: r = âˆš(Î²n/Î²p) = âˆš[(k'n(W/L)n)/(k'p(W/L)p)]               â”‚
â”‚                                                                      â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                                                              â”‚   â”‚
â”‚   â”‚         VDD - |V_tp| + rÂ·V_tn                               â”‚   â”‚
â”‚   â”‚   V_M = â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                            â”‚   â”‚
â”‚   â”‚                 1 + r                                        â”‚   â”‚
â”‚   â”‚                                                              â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                      â”‚
â”‚   Special Case: Symmetric inverter (r = 1)                          â”‚
â”‚                                                                      â”‚
â”‚   If Î²n = Î²p (equal strength):                                     â”‚
â”‚                                                                      â”‚
â”‚         VDD - |V_tp| + V_tn     VDD + (V_tn - |V_tp|)              â”‚
â”‚   V_M = â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ = â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                â”‚
â”‚                 2                        2                          â”‚
â”‚                                                                      â”‚
â”‚   If V_tn = |V_tp|:  V_M = VDD/2  (ideal symmetry)                â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3.2.3 Effect of Sizing on VM

### Sizing Ratio Impact

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    VM vs TRANSISTOR SIZING                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚   V_M                                                               â”‚
â”‚      â”‚                                                              â”‚
â”‚      â”‚                                                              â”‚
â”‚  VDD â”¤                                                              â”‚
â”‚      â”‚                                         â—                    â”‚
â”‚      â”‚                                    â—â”€â”€â—                      â”‚
â”‚      â”‚                              â—â”€â”€â—                            â”‚
â”‚      â”‚                        â—â”€â”€â—                                  â”‚
â”‚VDD/2 â”¤â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â—â”€â”€â—                                       â”‚
â”‚      â”‚            â—â”€â”€â—                                              â”‚
â”‚      â”‚      â—â”€â”€â—                                                    â”‚
â”‚      â”‚ â—â”€â”€â—                                                         â”‚
â”‚      â”‚â—                                                             â”‚
â”‚    0 â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º          â”‚
â”‚     0.1          1           10          100                        â”‚
â”‚                                                                      â”‚
â”‚                       Î²p/Î²n = (W/L)p/(W/L)n Ã— (k'p/k'n)            â”‚
â”‚                                                                      â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                                                              â”‚   â”‚
â”‚   â”‚   Î²p/Î²n < 1 (NMOS stronger):  V_M < VDD/2                   â”‚   â”‚
â”‚   â”‚   Î²p/Î²n = 1 (equal):          V_M â‰ˆ VDD/2                   â”‚   â”‚
â”‚   â”‚   Î²p/Î²n > 1 (PMOS stronger):  V_M > VDD/2                   â”‚   â”‚
â”‚   â”‚                                                              â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                      â”‚
â”‚   Practical Range:                                                  â”‚
â”‚   â€¢ V_M typically between 0.3VDD and 0.7VDD                        â”‚
â”‚   â€¢ Extreme sizing ratios push VM toward rails                     â”‚
â”‚   â€¢ Symmetric design (VM = VDD/2) usually preferred               â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Design Example

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    VM CALCULATION EXAMPLE                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚   Given:                                                            â”‚
â”‚   â€¢ VDD = 1.8V                                                     â”‚
â”‚   â€¢ V_tn = 0.4V, V_tp = -0.4V                                      â”‚
â”‚   â€¢ k'n = 100 Î¼A/VÂ², k'p = 40 Î¼A/VÂ²                               â”‚
â”‚   â€¢ (W/L)n = 2, (W/L)p = 5                                         â”‚
â”‚                                                                      â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                      â”‚
â”‚   Calculate Î²n and Î²p:                                             â”‚
â”‚                                                                      â”‚
â”‚   Î²n = k'n Ã— (W/L)n = 100 Ã— 2 = 200 Î¼A/VÂ²                         â”‚
â”‚   Î²p = k'p Ã— (W/L)p = 40 Ã— 5 = 200 Î¼A/VÂ²                          â”‚
â”‚                                                                      â”‚
â”‚   Calculate r:                                                      â”‚
â”‚                                                                      â”‚
â”‚   r = âˆš(Î²n/Î²p) = âˆš(200/200) = 1                                   â”‚
â”‚                                                                      â”‚
â”‚   Calculate VM:                                                     â”‚
â”‚                                                                      â”‚
â”‚        VDD - |V_tp| + rÂ·V_tn                                       â”‚
â”‚   V_M = â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                       â”‚
â”‚              1 + r                                                  â”‚
â”‚                                                                      â”‚
â”‚        1.8 - 0.4 + 1 Ã— 0.4                                         â”‚
â”‚      = â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                         â”‚
â”‚              1 + 1                                                  â”‚
â”‚                                                                      â”‚
â”‚        1.8                                                          â”‚
â”‚      = â”€â”€â”€â”€ = 0.9V = VDD/2  âœ“                                      â”‚
â”‚         2                                                           â”‚
â”‚                                                                      â”‚
â”‚   Result: Symmetric inverter with VM at VDD/2                      â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3.2.4 Designing for Specific VM

### Sizing for Target VM

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    DESIGN FOR TARGET VM                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚   Problem: Design inverter with VM = 0.6 Ã— VDD                     â”‚
â”‚                                                                      â”‚
â”‚   Given: VDD = 1.8V, V_tn = |V_tp| = 0.4V                          â”‚
â”‚          k'n/k'p = 2.5                                              â”‚
â”‚                                                                      â”‚
â”‚   Target: VM = 0.6 Ã— 1.8 = 1.08V                                   â”‚
â”‚                                                                      â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                      â”‚
â”‚   From VM equation:                                                 â”‚
â”‚                                                                      â”‚
â”‚        VDD - |V_tp| + rÂ·V_tn                                       â”‚
â”‚   V_M = â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                       â”‚
â”‚              1 + r                                                  â”‚
â”‚                                                                      â”‚
â”‚   Solving for r:                                                    â”‚
â”‚                                                                      â”‚
â”‚   V_M(1 + r) = VDD - |V_tp| + rÂ·V_tn                               â”‚
â”‚   V_M + V_MÂ·r = VDD - |V_tp| + rÂ·V_tn                              â”‚
â”‚   V_MÂ·r - rÂ·V_tn = VDD - |V_tp| - V_M                              â”‚
â”‚   r(V_M - V_tn) = VDD - |V_tp| - V_M                               â”‚
â”‚                                                                      â”‚
â”‚        VDD - |V_tp| - V_M     1.8 - 0.4 - 1.08                     â”‚
â”‚   r = â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ = â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ = 0.47               â”‚
â”‚          V_M - V_tn           1.08 - 0.4                            â”‚
â”‚                                                                      â”‚
â”‚   Since r = âˆš(Î²n/Î²p):                                              â”‚
â”‚                                                                      â”‚
â”‚   Î²n/Î²p = rÂ² = 0.47Â² = 0.22                                        â”‚
â”‚                                                                      â”‚
â”‚   (W/L)n     Î²n    k'p     0.22                                    â”‚
â”‚   â”€â”€â”€â”€â”€â”€ = â”€â”€â”€â”€ Ã— â”€â”€â”€â”€ = â”€â”€â”€â”€â”€â”€ = 0.088                            â”‚
â”‚   (W/L)p     Î²p    k'n     2.5                                     â”‚
â”‚                                                                      â”‚
â”‚   Design: If (W/L)p = 5 â†’ (W/L)n = 5 Ã— 0.088 â‰ˆ 0.44               â”‚
â”‚           Need to make PMOS much stronger (or NMOS weaker)         â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3.2.5 Skewed Inverters

### Applications of Non-Symmetric VM

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SKEWED INVERTERS                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚   Sometimes intentionally design VM â‰  VDD/2                        â”‚
â”‚                                                                      â”‚
â”‚   LOW-SKEWED INVERTER (VM < VDD/2):                                â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                               â”‚
â”‚   â€¢ NMOS stronger than PMOS                                         â”‚
â”‚   â€¢ Faster HIGH-to-LOW transition                                  â”‚
â”‚   â€¢ Used for optimizing falling edge timing                        â”‚
â”‚                                                                      â”‚
â”‚       VDD                                                           â”‚
â”‚        â”‚                                                            â”‚
â”‚   â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”  W = small                                           â”‚
â”‚   â”‚  PMOS   â”‚                                                       â”‚
â”‚   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                                                       â”‚
â”‚        â”‚                                                            â”‚
â”‚   â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”  W = large                                           â”‚
â”‚   â”‚  NMOS   â”‚                                                       â”‚
â”‚   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                                                       â”‚
â”‚        â”‚                                                            â”‚
â”‚       GND                                                           â”‚
â”‚                                                                      â”‚
â”‚   HIGH-SKEWED INVERTER (VM > VDD/2):                               â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                              â”‚
â”‚   â€¢ PMOS stronger than NMOS                                         â”‚
â”‚   â€¢ Faster LOW-to-HIGH transition                                  â”‚
â”‚   â€¢ Used for optimizing rising edge timing                         â”‚
â”‚                                                                      â”‚
â”‚       VDD                                                           â”‚
â”‚        â”‚                                                            â”‚
â”‚   â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”  W = large                                           â”‚
â”‚   â”‚  PMOS   â”‚                                                       â”‚
â”‚   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                                                       â”‚
â”‚        â”‚                                                            â”‚
â”‚   â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”  W = small                                           â”‚
â”‚   â”‚  NMOS   â”‚                                                       â”‚
â”‚   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                                                       â”‚
â”‚        â”‚                                                            â”‚
â”‚       GND                                                           â”‚
â”‚                                                                      â”‚
â”‚   Applications:                                                     â”‚
â”‚   â€¢ Level shifters                                                 â”‚
â”‚   â€¢ Schmitt triggers (different thresholds for rise/fall)          â”‚
â”‚   â€¢ Timing-critical paths                                          â”‚
â”‚   â€¢ Process corner compensation                                     â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3.2.6 VM Sensitivity

### Process and Temperature Variations

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    VM SENSITIVITY ANALYSIS                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚   VM depends on: V_tn, |V_tp|, Î²n, Î²p, VDD                         â”‚
â”‚                                                                      â”‚
â”‚   Process Variations:                                               â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚   â”‚ Condition      â”‚ Effect on VM                          â”‚        â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤        â”‚
â”‚   â”‚ Fast NMOS      â”‚ VM decreases (shifts left)           â”‚        â”‚
â”‚   â”‚ Fast PMOS      â”‚ VM increases (shifts right)          â”‚        â”‚
â”‚   â”‚ Fast-Fast      â”‚ Depends on relative change           â”‚        â”‚
â”‚   â”‚ Slow-Slow      â”‚ Depends on relative change           â”‚        â”‚
â”‚   â”‚ Higher V_tn    â”‚ VM increases                         â”‚        â”‚
â”‚   â”‚ Higher |V_tp|  â”‚ VM decreases                         â”‚        â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                                      â”‚
â”‚   Temperature Effects:                                              â”‚
â”‚   â€¢ Higher T â†’ Lower mobility â†’ Lower Î²                            â”‚
â”‚   â€¢ Higher T â†’ Lower |V_th|                                        â”‚
â”‚   â€¢ Net effect: VM relatively stable if ratio Î²n/Î²p constant      â”‚
â”‚                                                                      â”‚
â”‚   Supply Voltage:                                                   â”‚
â”‚   â€¢ VM roughly proportional to VDD                                 â”‚
â”‚   â€¢ VM/VDD ratio relatively constant                               â”‚
â”‚                                                                      â”‚
â”‚   Sensitivity to Î²p/Î²n:                                            â”‚
â”‚                                                                      â”‚
â”‚   dVM        VDD - |V_tp| - V_tn                                   â”‚
â”‚   â”€â”€â”€â”€â”€â”€ = â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                    â”‚
â”‚   d(Î²p/Î²n)    2(1 + âˆš(Î²n/Î²p))Â²                                     â”‚
â”‚                                                                      â”‚
â”‚   Near symmetric point (Î²n â‰ˆ Î²p), sensitivity is moderate         â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Summary Table

| Concept | Key Points |
|---------|------------|
| Definition | VM = Input voltage where Vin = Vout |
| Condition | Both transistors in saturation at VM |
| Formula | VM = (VDD - \|Vtp\| + rÂ·Vtn)/(1 + r) |
| r Parameter | r = âˆš(Î²n/Î²p) |
| Symmetric Design | Î²n = Î²p â†’ VM â‰ˆ VDD/2 (if Vtn = \|Vtp\|) |
| NMOS Stronger | Î²n > Î²p â†’ VM < VDD/2 |
| PMOS Stronger | Î²p > Î²n â†’ VM > VDD/2 |
| Design Control | Adjust W/L ratios to set VM |

---

## â“ Quick Revision Questions

1. **What is the switching threshold VM, and what condition defines it on the VTC?**

2. **Derive the VM equation starting from the saturation current equality.**

3. **An inverter has VM = 0.4VDD. Is the NMOS or PMOS stronger? Explain.**

4. **Calculate VM for: VDD = 3.3V, Vtn = 0.7V, Vtp = -0.7V, Î²n/Î²p = 4.**

5. **What sizing ratio (Î²p/Î²n) is needed to achieve VM = VDD/2?**

6. **Name two applications where a non-symmetric inverter (skewed VM) is useful.**

---

## ğŸ”— Navigation

| Previous | Up | Next |
|----------|-------|------|
| â† [Static Characteristics](01-static-characteristics.md) | [Unit 3 Home](README.md) | [Noise Margins â†’](03-noise-margins.md) |
