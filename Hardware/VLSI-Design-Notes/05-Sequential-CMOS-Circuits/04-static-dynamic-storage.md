# Chapter 5.4: Static vs Dynamic Storage

## ğŸ“‹ Chapter Overview

Storage elements can be classified as **static** (holding data indefinitely) or **dynamic** (holding data temporarily on capacitance). This chapter compares these approaches, covering charge-based storage, refresh requirements, and trade-offs in speed, power, and area.

---

## ğŸ¯ Learning Objectives

After completing this chapter, you will be able to:
- Distinguish between static and dynamic storage mechanisms
- Explain charge leakage and refresh in dynamic circuits
- Design dynamic latches and flip-flops
- Evaluate trade-offs between static and dynamic approaches

---

## 5.4.1 Storage Mechanism Comparison

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    STATIC vs DYNAMIC STORAGE                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚   STATIC STORAGE                   DYNAMIC STORAGE                  â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€               â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€             â”‚
â”‚                                                                      â”‚
â”‚   Uses feedback loop               Uses charge on capacitor         â”‚
â”‚                                                                      â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”                    â”‚                         â”‚
â”‚   â”‚      â”‚    â”‚      â”‚             â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚   â”‚ INV1 â”œâ”€â”€â”€â”€â”¤ INV2 â”œâ”€â”€â”          â”‚   Node     â”‚                  â”‚
â”‚   â”‚      â”‚    â”‚      â”‚  â”‚          â”‚ Capacitanceâ”‚                  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”˜  â”‚          â”‚     â•â•â•    â”‚                  â”‚
â”‚       â†‘                 â”‚          â”‚      â”‚     â”‚                  â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚                                           â”‚                         â”‚
â”‚       Active feedback              GND â”€â”€â”€â”˜                         â”‚
â”‚       maintains state              Passive storage                  â”‚
â”‚                                                                      â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚ Property         â”‚ Static            â”‚ Dynamic             â”‚   â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚   â”‚ Data retention   â”‚ Indefinite        â”‚ Temporary           â”‚   â”‚
â”‚   â”‚ Refresh needed   â”‚ No                â”‚ Yes (or re-clock)   â”‚   â”‚
â”‚   â”‚ Transistor count â”‚ Higher            â”‚ Lower               â”‚   â”‚
â”‚   â”‚ Power           â”‚ Lower (no DC)      â”‚ Lower switching     â”‚   â”‚
â”‚   â”‚ Speed           â”‚ Moderate           â”‚ Faster (lower C)    â”‚   â”‚
â”‚   â”‚ Leakage issue   â”‚ Less critical      â”‚ Critical            â”‚   â”‚
â”‚   â”‚ Robustness      â”‚ High               â”‚ Lower               â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5.4.2 Static Storage Element

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    STATIC LATCH                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚   Full static latch with transmission gates:                        â”‚
â”‚                                                                      â”‚
â”‚                   CLK                        CLKÌ„                    â”‚
â”‚                    â”‚                          â”‚                     â”‚
â”‚                â”Œâ”€â”€â”€â—â”€â”€â”€â”                  â”Œâ”€â”€â”€â—â”€â”€â”€â”                  â”‚
â”‚                â”‚   â”‚   â”‚                  â”‚   â”‚   â”‚                  â”‚
â”‚      D â”€â”€â”€â”€â”€â”€â”€â”€â”¤  TG1  â”œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  TG2  â”œâ”€â”€â”€â”             â”‚
â”‚                â”‚   â”‚   â”‚    â”‚             â”‚   â”‚   â”‚   â”‚             â”‚
â”‚                â””â”€â”€â”€â—â”€â”€â”€â”˜    â”‚             â””â”€â”€â”€â—â”€â”€â”€â”˜   â”‚             â”‚
â”‚                    â”‚        â”‚                 â”‚       â”‚             â”‚
â”‚                   CLKÌ„       â”‚                CLK      â”‚             â”‚
â”‚                             â”‚                         â”‚             â”‚
â”‚                         â”Œâ”€â”€â”€â”´â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”        â”‚             â”‚
â”‚                         â”‚       â”‚    â”‚       â”‚        â”‚             â”‚
â”‚                  Q â”€â”€â”€â”€â”€â”¤ INV1  â”œâ”€â”€â”€â”€â”¤ INV2  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                         â”‚       â”‚    â”‚       â”‚                      â”‚
â”‚                         â””â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
â”‚                                                                      â”‚
â”‚   Operation:                                                        â”‚
â”‚                                                                      â”‚
â”‚   CLK = 1 (Transparent):                                           â”‚
â”‚   â€¢ TG1 ON: D passes through                                       â”‚
â”‚   â€¢ TG2 OFF: Feedback disabled                                     â”‚
â”‚   â€¢ Q follows D                                                    â”‚
â”‚                                                                      â”‚
â”‚   CLK = 0 (Hold):                                                  â”‚
â”‚   â€¢ TG1 OFF: D isolated                                            â”‚
â”‚   â€¢ TG2 ON: Feedback active                                        â”‚
â”‚   â€¢ INV1-INV2 maintain state indefinitely                         â”‚
â”‚                                                                      â”‚
â”‚   Key: Cross-coupled inverters provide STATIC storage              â”‚
â”‚   â†’ Data held as long as power is applied                         â”‚
â”‚   â†’ No refresh needed                                              â”‚
â”‚                                                                      â”‚
â”‚   Transistor count: 2(TG) + 2(TG) + 2(INV) + 2(INV) = 8           â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5.4.3 Dynamic Storage Element

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    DYNAMIC LATCH                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚   Simplest dynamic latch (no feedback inverter):                   â”‚
â”‚                                                                      â”‚
â”‚                   CLK                                               â”‚
â”‚                    â”‚                                                â”‚
â”‚                â”Œâ”€â”€â”€â”´â”€â”€â”€â”                                            â”‚
â”‚                â”‚       â”‚                                            â”‚
â”‚      D â”€â”€â”€â”€â”€â”€â”€â”€â”¤ NMOS  â”œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º Q        â”‚
â”‚                â”‚       â”‚    â”‚                                       â”‚
â”‚                â””â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚                                       â”‚
â”‚                             â”‚                                       â”‚
â”‚                         â”Œâ”€â”€â”€â”´â”€â”€â”€â”                                   â”‚
â”‚                         â”‚  Cg   â”‚ â† Gate capacitance of            â”‚
â”‚                         â”‚  â•â•â•  â”‚   following inverter             â”‚
â”‚                         â”‚   â”‚   â”‚                                   â”‚
â”‚                         â””â”€â”€â”€â”¼â”€â”€â”€â”˜                                   â”‚
â”‚                            GND                                      â”‚
â”‚                                                                      â”‚
â”‚   Operation:                                                        â”‚
â”‚                                                                      â”‚
â”‚   CLK = 1: NMOS ON, D charges/discharges Cg                        â”‚
â”‚   CLK = 0: NMOS OFF, charge trapped on Cg (stores data)           â”‚
â”‚                                                                      â”‚
â”‚   Problem: CHARGE LEAKAGE                                          â”‚
â”‚                                                                      â”‚
â”‚   Vstore                                                            â”‚
â”‚     â”‚                                                               â”‚
â”‚ VDD â”¼â•â•â•â•â•—                                                         â”‚
â”‚     â”‚    â•²                                                          â”‚
â”‚     â”‚     â•²  Leakage                                               â”‚
â”‚     â”‚      â•²                                                        â”‚
â”‚     â”‚       â•²                                                       â”‚
â”‚     â”‚        â•² â† Data corrupted!                                   â”‚
â”‚     â”‚         â•²                                                     â”‚
â”‚   0 â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºtime           â”‚
â”‚            â†â”€â”€ Charge retention time â”€â”€â”€â†’                          â”‚
â”‚                                                                      â”‚
â”‚   Sources of leakage:                                               â”‚
â”‚   â€¢ Subthreshold current through OFF transistor                    â”‚
â”‚   â€¢ Junction leakage                                               â”‚
â”‚   â€¢ Gate leakage (thin oxide)                                      â”‚
â”‚                                                                      â”‚
â”‚   Solution: Refresh the data before it's lost                      â”‚
â”‚             (re-clock or use minimum clock frequency)              â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5.4.4 CÂ²MOS Dynamic Latch

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    CÂ²MOS (CLOCKED CMOS) LATCH                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚   Also called "clocked inverter" - very efficient design:          â”‚
â”‚                                                                      â”‚
â”‚                        VDD                                          â”‚
â”‚                         â”‚                                           â”‚
â”‚                     â”Œâ”€â”€â”€â”´â”€â”€â”€â”                                       â”‚
â”‚                 D â”€â”€â”¤   P1  â”‚                                       â”‚
â”‚                     â””â”€â”€â”€â”¬â”€â”€â”€â”˜                                       â”‚
â”‚                     â”Œâ”€â”€â”€â”´â”€â”€â”€â”                                       â”‚
â”‚                CLKÌ„ â”€â”¤   P2  â”‚ â† Clock-controlled                   â”‚
â”‚                     â””â”€â”€â”€â”¬â”€â”€â”€â”˜                                       â”‚
â”‚                         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º Q          â”‚
â”‚                     â”Œâ”€â”€â”€â”´â”€â”€â”€â”                                       â”‚
â”‚                CLK â”€â”¤   N1  â”‚ â† Clock-controlled                   â”‚
â”‚                     â””â”€â”€â”€â”¬â”€â”€â”€â”˜                                       â”‚
â”‚                     â”Œâ”€â”€â”€â”´â”€â”€â”€â”                                       â”‚
â”‚                 D â”€â”€â”¤   N2  â”‚                                       â”‚
â”‚                     â””â”€â”€â”€â”¬â”€â”€â”€â”˜                                       â”‚
â”‚                         â”‚                                           â”‚
â”‚                        GND                                          â”‚
â”‚                                                                      â”‚
â”‚   Operation:                                                        â”‚
â”‚                                                                      â”‚
â”‚   CLK = 1 (CLKÌ„ = 0):                                               â”‚
â”‚   â€¢ P2 and N1 both ON                                              â”‚
â”‚   â€¢ Acts as inverter: Q = DÌ„                                        â”‚
â”‚                                                                      â”‚
â”‚   CLK = 0 (CLKÌ„ = 1):                                               â”‚
â”‚   â€¢ P2 and N1 both OFF                                             â”‚
â”‚   â€¢ Output floats (high impedance)                                 â”‚
â”‚   â€¢ Charge held on output capacitance                              â”‚
â”‚                                                                      â”‚
â”‚   Transistor count: 4 (very compact!)                              â”‚
â”‚                                                                      â”‚
â”‚   Note: Output is inverted (Q = DÌ„ when transparent)               â”‚
â”‚   May need additional inverter if non-inverting needed             â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5.4.5 Dynamic D Latch with Keeper

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    DYNAMIC LATCH WITH KEEPER                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚   Adding a weak feedback inverter to fight leakage:                â”‚
â”‚                                                                      â”‚
â”‚                   CLK                                               â”‚
â”‚                    â”‚                                                â”‚
â”‚                â”Œâ”€â”€â”€â”´â”€â”€â”€â”                                            â”‚
â”‚                â”‚       â”‚                                            â”‚
â”‚      D â”€â”€â”€â”€â”€â”€â”€â”€â”¤ Pass  â”œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º Q              â”‚
â”‚                â”‚ Tran  â”‚    â”‚                                       â”‚
â”‚                â””â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚                                       â”‚
â”‚                             â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚
â”‚                         â”Œâ”€â”€â”€â”´â”€â”€â”€â”â”‚           â”‚                      â”‚
â”‚                         â”‚  Cg   â”‚â”‚  Weak     â”‚                      â”‚
â”‚                         â”‚       â”‚â”‚ Inverter  â”‚                      â”‚
â”‚                         â”‚  â•â•â•  â”‚â”‚ (Keeper)  â”‚                      â”‚
â”‚                         â”‚   â”‚   â”‚â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                      â”‚
â”‚                         â””â”€â”€â”€â”¼â”€â”€â”€â”˜      â”‚                            â”‚
â”‚                            GND â†â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚
â”‚                                                                      â”‚
â”‚   Keeper operation:                                                 â”‚
â”‚                                                                      â”‚
â”‚   â€¢ Weak inverter continuously reinforces stored value             â”‚
â”‚   â€¢ Counteracts leakage current                                    â”‚
â”‚   â€¢ Must be WEAK so pass transistor can override it               â”‚
â”‚                                                                      â”‚
â”‚   Sizing requirement:                                               â”‚
â”‚                                                                      â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                                                              â”‚   â”‚
â”‚   â”‚   (W/L)pass transistor >> (W/L)keeper inverter             â”‚   â”‚
â”‚   â”‚                                                              â”‚   â”‚
â”‚   â”‚   Typically: keeper is 3-5Ã— weaker than pass device         â”‚   â”‚
â”‚   â”‚                                                              â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                      â”‚
â”‚   Behavior:                                                         â”‚
â”‚   â€¢ CLK = 1: Pass transistor ON, D overwrites keeper              â”‚
â”‚   â€¢ CLK = 0: Keeper maintains the value against leakage           â”‚
â”‚                                                                      â”‚
â”‚   Hybrid approach: Nearly static retention with dynamic speed      â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5.4.6 Charge Sharing Problem

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    CHARGE SHARING                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚   Problem in dynamic circuits when multiple nodes connect:         â”‚
â”‚                                                                      â”‚
â”‚   Before evaluation:              During evaluation:               â”‚
â”‚                                                                      â”‚
â”‚        â”Œâ”€â”€â”€â”€â”€â”                         â”Œâ”€â”€â”€â”€â”€â”                      â”‚
â”‚   CLK â”€â”¤     â”‚                    CLK â”€â”¤ ON  â”œâ”€â”€â”€â”                  â”‚
â”‚        â””â”€â”€â”€â”€â”€â”˜                         â””â”€â”€â”€â”€â”€â”˜   â”‚                  â”‚
â”‚                                                  â”‚                  â”‚
â”‚        C1 = Q                              C1    â†“    C2            â”‚
â”‚        â”€â”€â”€                                 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€          â”‚
â”‚         â”‚                                  â”‚             â”‚          â”‚
â”‚    Precharged                         Charge redistributes          â”‚
â”‚    to VDD                             between C1 and C2!            â”‚
â”‚                                                                      â”‚
â”‚        C2 = 0                                                       â”‚
â”‚        â”€â”€â”€                                                          â”‚
â”‚         â”‚                                                           â”‚
â”‚    Initially at 0V                                                  â”‚
â”‚                                                                      â”‚
â”‚   After charge sharing:                                             â”‚
â”‚                                                                      â”‚
â”‚              C1 Ã— VDD + C2 Ã— 0                                     â”‚
â”‚   Vfinal = â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                   â”‚
â”‚                  C1 + C2                                            â”‚
â”‚                                                                      â”‚
â”‚   If C2 is large relative to C1, Vfinal drops significantly!       â”‚
â”‚                                                                      â”‚
â”‚   Example:                                                          â”‚
â”‚   C1 = 10fF at VDD = 1.8V                                          â”‚
â”‚   C2 = 20fF at 0V                                                  â”‚
â”‚   Vfinal = (10 Ã— 1.8 + 20 Ã— 0)/(10 + 20) = 0.6V                   â”‚
â”‚                                                                      â”‚
â”‚   If 0.6V < switching threshold â†’ DATA CORRUPTED!                  â”‚
â”‚                                                                      â”‚
â”‚   Solutions:                                                        â”‚
â”‚   â€¢ Precharge internal nodes                                       â”‚
â”‚   â€¢ Use keeper circuits                                            â”‚
â”‚   â€¢ Careful sizing (make C1 >> C2)                                â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5.4.7 Minimum Clock Frequency

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    MINIMUM CLOCK REQUIREMENT                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚   Dynamic circuits have MINIMUM clock frequency (unlike static):   â”‚
â”‚                                                                      â”‚
â”‚   Vstore                                                            â”‚
â”‚     â”‚                                                               â”‚
â”‚ VDD â”¼â•â•â•â•—      â•”â•â•â•â•â•—      â•”â•â•â•â•                                   â”‚
â”‚     â”‚   â•‘      â•‘    â•‘      â•‘                                       â”‚
â”‚ VIH â”¼â”€â”€â”€â•«â”€â”€â”€â”€â”€â”€â•«â”€â”€â”€â”€â•«â”€â”€â”€â”€â”€â”€â•«â”€â”€â”€â”€  â† Threshold for "1"              â”‚
â”‚     â”‚   â•‘      â•‘    â•‘      â•‘                                       â”‚
â”‚     â”‚    â•²    â•±â•²   â•± â•²    â•±                                         â”‚
â”‚     â”‚     â•²  â•±  â•² â•±   â•²  â•±                                          â”‚
â”‚     â”‚      â•²â•±    â•³     â•²â•±                                           â”‚
â”‚ VIL â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â† Threshold for "0"               â”‚
â”‚     â”‚                                                               â”‚
â”‚   0 â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º             â”‚
â”‚     â”‚   T1   â”‚ T2 â”‚  T3  â”‚                                         â”‚
â”‚                                                                      â”‚
â”‚   If clock period > retention time:                                â”‚
â”‚   â€¢ Voltage leaks below VIH                                        â”‚
â”‚   â€¢ Data becomes indeterminate                                     â”‚
â”‚   â€¢ System fails!                                                  â”‚
â”‚                                                                      â”‚
â”‚   Retention Time:                                                   â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                   â”‚
â”‚                                                                      â”‚
â”‚              C Ã— Î”V                                                 â”‚
â”‚   t_retain = â”€â”€â”€â”€â”€â”€â”€â”€â”€                                             â”‚
â”‚               Ileak                                                 â”‚
â”‚                                                                      â”‚
â”‚   Where Î”V = VDD - VIH (margin before failure)                     â”‚
â”‚                                                                      â”‚
â”‚   Minimum frequency:                                                â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                 â”‚
â”‚                                                                      â”‚
â”‚                1             Ileak                                  â”‚
â”‚   fmin = â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ = â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                              â”‚
â”‚          t_retain      C Ã— (VDD - VIH)                             â”‚
â”‚                                                                      â”‚
â”‚   Typical values: fmin = 100 Hz to 100 kHz                         â”‚
â”‚   (Much lower than operating frequencies, but must be considered)  â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Summary Table

| Property | Static Storage | Dynamic Storage |
|----------|---------------|-----------------|
| Storage mechanism | Cross-coupled feedback | Charge on capacitor |
| Data retention | Indefinite (with power) | Limited (needs refresh) |
| Transistor count | Higher (8-16) | Lower (4-8) |
| Switching power | Higher (more transistors) | Lower |
| Leakage sensitivity | Less critical | Critical |
| Minimum frequency | None | Required (fmin) |
| Design complexity | Simpler | Careful timing needed |

| Circuit | Transistors | Type | Use Case |
|---------|-------------|------|----------|
| TG Latch with feedback | 8 | Static | Standard designs |
| CÂ²MOS Latch | 4 | Dynamic | High-speed |
| Dynamic with keeper | 6-8 | Semi-static | Balanced |

---

## â“ Quick Revision Questions

1. **What is the fundamental difference between static and dynamic storage?**

2. **Why do dynamic circuits have a minimum clock frequency requirement?**

3. **Draw a CÂ²MOS (clocked CMOS) latch. How many transistors does it use?**

4. **What is charge sharing and how does it corrupt stored data?**

5. **How does a keeper circuit help in dynamic storage elements?**

6. **Calculate retention time for C = 5fF, Î”V = 0.5V, Ileak = 1pA.**

---

## ğŸ”— Navigation

| Previous | Up | Next |
|----------|-------|------|
| â† [Timing Constraints](03-timing-constraints.md) | [Unit 5 Home](README.md) | [Clock Distribution â†’](05-clock-distribution.md) |
