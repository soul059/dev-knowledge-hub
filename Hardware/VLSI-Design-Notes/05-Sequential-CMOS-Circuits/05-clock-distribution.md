# Chapter 5.5: Clock Distribution

## ðŸ“‹ Chapter Overview

**Clock distribution** is one of the most critical aspects of synchronous digital design. The clock signal must reach all sequential elements with minimal skew and low power consumption. This chapter covers clock trees, skew management, buffering strategies, and clock gating for power reduction.

---

## ðŸŽ¯ Learning Objectives

After completing this chapter, you will be able to:
- Explain clock skew and its impact on timing
- Design clock trees with balanced delays
- Apply clock gating for power reduction
- Understand clock jitter and its sources

---

## 5.5.1 Clock Skew Fundamentals

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    CLOCK SKEW DEFINITION                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚   Clock skew = Difference in clock arrival times at different FFs  â”‚
â”‚                                                                      â”‚
â”‚                           CLK Source                                â”‚
â”‚                               â”‚                                     â”‚
â”‚                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚                     â”‚                   â”‚                           â”‚
â”‚                  d1 â”‚                d2 â”‚                           â”‚
â”‚                     â–¼                   â–¼                           â”‚
â”‚                   CLK1                CLK2                          â”‚
â”‚                     â”‚                   â”‚                           â”‚
â”‚                 â”Œâ”€â”€â”€â”´â”€â”€â”€â”           â”Œâ”€â”€â”€â”´â”€â”€â”€â”                       â”‚
â”‚        â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚  FF1  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º  FF2  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â–º             â”‚
â”‚                 â””â”€â”€â”€â”€â”€â”€â”€â”˜   Logic   â””â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â”‚                                                                      â”‚
â”‚   Skew = tskew = |d2 - d1|                                         â”‚
â”‚                                                                      â”‚
â”‚   Types of skew:                                                    â”‚
â”‚                                                                      â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                                                              â”‚   â”‚
â”‚   â”‚   POSITIVE SKEW: Capture clock (FF2) arrives LATER         â”‚   â”‚
â”‚   â”‚   â€¢ d2 > d1                                                  â”‚   â”‚
â”‚   â”‚   â€¢ Helps setup, hurts hold                                 â”‚   â”‚
â”‚   â”‚                                                              â”‚   â”‚
â”‚   â”‚   NEGATIVE SKEW: Capture clock (FF2) arrives EARLIER       â”‚   â”‚
â”‚   â”‚   â€¢ d2 < d1                                                  â”‚   â”‚
â”‚   â”‚   â€¢ Hurts setup, helps hold                                 â”‚   â”‚
â”‚   â”‚                                                              â”‚   â”‚
â”‚   â”‚   ZERO SKEW: Ideal case (d1 = d2)                          â”‚   â”‚
â”‚   â”‚   â€¢ Target for most designs                                 â”‚   â”‚
â”‚   â”‚   â€¢ Difficult to achieve perfectly                         â”‚   â”‚
â”‚   â”‚                                                              â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                      â”‚
â”‚   CLK1 â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                   â”‚
â”‚              â”‚                                                      â”‚
â”‚   CLK2 â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ (Positive skew)  â”‚
â”‚              â”‚        â”‚                                             â”‚
â”‚              â”‚â†tskewâ†’â”‚                                             â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5.5.2 Sources of Clock Skew

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SOURCES OF SKEW                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚   1. WIRE LENGTH DIFFERENCES                                        â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                        â”‚
â”‚                                                                      â”‚
â”‚       CLK â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º FF1 (short path)          â”‚
â”‚             â”‚                                                       â”‚
â”‚             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º FF2        â”‚
â”‚                           (long path = more delay)                 â”‚
â”‚                                                                      â”‚
â”‚   2. BUFFER DELAY VARIATIONS                                        â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                        â”‚
â”‚                                                                      â”‚
â”‚   â€¢ Process variation: transistors not identical                   â”‚
â”‚   â€¢ Different buffer stages to different FFs                       â”‚
â”‚   â€¢ Temperature variation across chip                              â”‚
â”‚                                                                      â”‚
â”‚   3. LOAD DIFFERENCES                                               â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                              â”‚
â”‚                                                                      â”‚
â”‚       CLK â”€â”€â”¬â”€â”€â–º Small fan-out region (faster)                     â”‚
â”‚             â”‚                                                       â”‚
â”‚             â””â”€â”€â–º Large fan-out region (slower due to load)         â”‚
â”‚                                                                      â”‚
â”‚   4. PROCESS/VOLTAGE/TEMPERATURE (PVT) VARIATIONS                  â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                 â”‚
â”‚                                                                      â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚ Factor      â”‚ Effect on Delay                               â”‚   â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚   â”‚ Fast corner â”‚ Shorter delays                                â”‚   â”‚
â”‚   â”‚ Slow corner â”‚ Longer delays                                 â”‚   â”‚
â”‚   â”‚ High temp   â”‚ Usually slower (except leakage)              â”‚   â”‚
â”‚   â”‚ Low voltage â”‚ Slower                                        â”‚   â”‚
â”‚   â”‚ High voltageâ”‚ Faster                                        â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                      â”‚
â”‚   Typical skew values:                                              â”‚
â”‚   â€¢ Local skew (nearby FFs): 10-50 ps                              â”‚
â”‚   â€¢ Global skew (chip-wide): 100-500 ps                            â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5.5.3 Clock Tree Structures

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    CLOCK DISTRIBUTION NETWORKS                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚   1. BUFFERED CLOCK TREE (H-Tree)                                  â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                 â”‚
â”‚                                                                      â”‚
â”‚                        CLK                                          â”‚
â”‚                         â”‚                                           â”‚
â”‚                        [B]                                          â”‚
â”‚                         â”‚                                           â”‚
â”‚             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                               â”‚
â”‚             â”‚                       â”‚                               â”‚
â”‚            [B]                     [B]                              â”‚
â”‚             â”‚                       â”‚                               â”‚
â”‚       â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”                         â”‚
â”‚       â”‚           â”‚           â”‚           â”‚                         â”‚
â”‚      [B]         [B]         [B]         [B]                        â”‚
â”‚       â”‚           â”‚           â”‚           â”‚                         â”‚
â”‚     â”Œâ”€â”´â”€â”       â”Œâ”€â”´â”€â”       â”Œâ”€â”´â”€â”       â”Œâ”€â”´â”€â”                       â”‚
â”‚    FF  FF     FF  FF     FF  FF     FF  FF                         â”‚
â”‚                                                                      â”‚
â”‚   â€¢ [B] = Buffer/Inverter                                          â”‚
â”‚   â€¢ All paths have equal number of buffers                         â”‚
â”‚   â€¢ Symmetric structure minimizes skew                             â”‚
â”‚   â€¢ Used for global clock distribution                             â”‚
â”‚                                                                      â”‚
â”‚   2. CLOCK SPINE                                                    â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                  â”‚
â”‚                                                                      â”‚
â”‚            CLK                                                      â”‚
â”‚             â”‚                                                       â”‚
â”‚   â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                    â”‚
â”‚             â”‚    â”‚    â”‚    â”‚    â”‚    â”‚    â”‚                        â”‚
â”‚             â–¼    â–¼    â–¼    â–¼    â–¼    â–¼    â–¼                        â”‚
â”‚            FF   FF   FF   FF   FF   FF   FF                        â”‚
â”‚                                                                      â”‚
â”‚   â€¢ Single trunk with branches                                     â”‚
â”‚   â€¢ Simple but unbalanced                                          â”‚
â”‚   â€¢ Higher skew at ends                                            â”‚
â”‚                                                                      â”‚
â”‚   3. CLOCK MESH/GRID                                               â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                            â”‚
â”‚                                                                      â”‚
â”‚           â•â•â•ªâ•â•â•ªâ•â•â•ªâ•â•â•ªâ•â•                                           â”‚
â”‚             â”‚  â”‚  â”‚  â”‚                                              â”‚
â”‚           â•â•â•ªâ•â•â•ªâ•â•â•ªâ•â•â•ªâ•â•                                           â”‚
â”‚             â”‚  â”‚  â”‚  â”‚                                              â”‚
â”‚           â•â•â•ªâ•â•â•ªâ•â•â•ªâ•â•â•ªâ•â•                                           â”‚
â”‚                                                                      â”‚
â”‚   â€¢ Multiple connections reduce skew                               â”‚
â”‚   â€¢ Highest power consumption                                      â”‚
â”‚   â€¢ Best skew performance                                          â”‚
â”‚   â€¢ Used for very high-performance designs                         â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5.5.4 Clock Buffer Design

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    CLOCK BUFFERING                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚   Typical clock buffer chain:                                       â”‚
â”‚                                                                      â”‚
â”‚   CLK â”€â”€â–º [1x] â”€â”€â–º [3x] â”€â”€â–º [9x] â”€â”€â–º [27x] â”€â”€â–º  To many FFs        â”‚
â”‚            â”‚        â”‚        â”‚         â”‚                            â”‚
â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚
â”‚            Progressive sizing (fan-out of ~3)                      â”‚
â”‚                                                                      â”‚
â”‚   Buffer sizing for minimum delay:                                  â”‚
â”‚                                                                      â”‚
â”‚   â€¢ Each buffer drives ~3-4Ã— its size                              â”‚
â”‚   â€¢ Total stages: N = ln(CL/Cin) / ln(f)                          â”‚
â”‚   â€¢ Optimal fan-out factor: f â‰ˆ e â‰ˆ 2.7 to 4                      â”‚
â”‚                                                                      â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                                                              â”‚   â”‚
â”‚   â”‚  For logical effort of inverter (g = 1):                    â”‚   â”‚
â”‚   â”‚  Optimal number of stages: N = ln(F) / ln(4)                â”‚   â”‚
â”‚   â”‚  where F = CL/Cin (path electrical effort)                  â”‚   â”‚
â”‚   â”‚                                                              â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                      â”‚
â”‚   Example:                                                          â”‚
â”‚   Load: 1000 FFs, each with Cin = 5 fF                             â”‚
â”‚   Total load: CL = 5 pF                                            â”‚
â”‚   Input capacitance: Cin = 10 fF                                   â”‚
â”‚                                                                      â”‚
â”‚   F = 5000fF/10fF = 500                                            â”‚
â”‚   N = ln(500)/ln(4) â‰ˆ 4.5 â†’ Use 5 stages                          â”‚
â”‚   Size ratio per stage: 500^(1/5) â‰ˆ 3.5Ã—                          â”‚
â”‚                                                                      â”‚
â”‚   Stages: 1Ã— â†’ 3.5Ã— â†’ 12Ã— â†’ 42Ã— â†’ 147Ã— â†’ 500Ã—                     â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5.5.5 Clock Gating

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    CLOCK GATING FOR POWER                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚   Clock network typically consumes 30-50% of chip power!           â”‚
â”‚   Clock gating disables clock to inactive modules.                 â”‚
â”‚                                                                      â”‚
â”‚   WITHOUT CLOCK GATING           WITH CLOCK GATING                 â”‚
â”‚                                                                      â”‚
â”‚        CLK                            CLK â”€â”€â”€â”€â”                     â”‚
â”‚         â”‚                                     â”‚                     â”‚
â”‚         â”œâ”€â”€â”€â–º FF1 (idle)                    â”Œâ”€â”´â”€â”                   â”‚
â”‚         â”‚      â†“                       EN â”€â”€â”¤ANDâ”œâ”€â”€â–º GCLK          â”‚
â”‚         â”‚   switches!                       â””â”€â”€â”€â”˜       â”‚           â”‚
â”‚         â”‚                                               â”‚           â”‚
â”‚         â”œâ”€â”€â”€â–º FF2 (idle)                               â”œâ”€â”€â–º FF1    â”‚
â”‚         â”‚      â†“                                       â”‚           â”‚
â”‚         â”‚   switches!                                  â”œâ”€â”€â–º FF2    â”‚
â”‚                                                        â”‚           â”‚
â”‚   All FFs switch even                           FFs only switch    â”‚
â”‚   when not needed                               when EN = 1        â”‚
â”‚                                                                      â”‚
â”‚   Proper clock gating cell (ICG - Integrated Clock Gate):         â”‚
â”‚                                                                      â”‚
â”‚         CLK â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                    â”‚
â”‚                          â”‚                                          â”‚
â”‚                      â”Œâ”€â”€â”€â”´â”€â”€â”€â”                                      â”‚
â”‚                      â”‚ Neg   â”‚                                      â”‚
â”‚         EN â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ Latch â”‚                                      â”‚
â”‚                      â”‚       â”‚                                      â”‚
â”‚                      â””â”€â”€â”€â”¬â”€â”€â”€â”˜                                      â”‚
â”‚                          â”‚  EN_latched                              â”‚
â”‚                       â”Œâ”€â”€â”´â”€â”€â”                                       â”‚
â”‚         CLK â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ AND â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º GCLK                  â”‚
â”‚                       â””â”€â”€â”€â”€â”€â”˜                                       â”‚
â”‚                                                                      â”‚
â”‚   Why latch the enable?                                             â”‚
â”‚   â€¢ Prevents glitches on gated clock                               â”‚
â”‚   â€¢ EN can change anytime, latch captures on CLK low              â”‚
â”‚   â€¢ Gated clock is clean                                           â”‚
â”‚                                                                      â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                                                              â”‚   â”‚
â”‚   â”‚   Power savings: P_saved = Î± Ã— C_clock Ã— VÂ² Ã— f Ã— (1-duty)  â”‚   â”‚
â”‚   â”‚   where duty = fraction of time clock is enabled            â”‚   â”‚
â”‚   â”‚                                                              â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5.5.6 Clock Jitter

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    CLOCK JITTER                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚   Jitter = Variation in clock edge timing from ideal               â”‚
â”‚                                                                      â”‚
â”‚   Ideal:     â”‚        â”‚        â”‚        â”‚        â”‚                 â”‚
â”‚              â”‚        â”‚        â”‚        â”‚        â”‚                  â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€             â”‚
â”‚              â†â”€â”€ T â”€â”€â†’â†â”€â”€ T â”€â”€â†’â†â”€â”€ T â”€â”€â†’                           â”‚
â”‚                                                                      â”‚
â”‚   With jitter:                                                      â”‚
â”‚              â”‚       â”‚          â”‚      â”‚          â”‚                â”‚
â”‚              â”‚       â”‚          â”‚      â”‚          â”‚                 â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€            â”‚
â”‚              â†T-Î”t1 â†’â†â”€ T+Î”t2 â”€â†’â†T-Î”t3â†’                            â”‚
â”‚                                                                      â”‚
â”‚   Types of jitter:                                                  â”‚
â”‚                                                                      â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚ Type           â”‚ Description                               â”‚   â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚   â”‚ Period jitter  â”‚ Variation in clock period                 â”‚   â”‚
â”‚   â”‚ Cycle-to-cycle â”‚ Difference between adjacent periods       â”‚   â”‚
â”‚   â”‚ Long-term      â”‚ Accumulated jitter over many cycles       â”‚   â”‚
â”‚   â”‚ Random jitter  â”‚ Unpredictable (thermal noise)            â”‚   â”‚
â”‚   â”‚ Deterministic  â”‚ Periodic (crosstalk, supply noise)       â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                      â”‚
â”‚   Sources:                                                          â”‚
â”‚   â€¢ PLL/oscillator noise                                           â”‚
â”‚   â€¢ Power supply noise                                             â”‚
â”‚   â€¢ Crosstalk from other signals                                   â”‚
â”‚   â€¢ Thermal noise in clock buffers                                 â”‚
â”‚                                                                      â”‚
â”‚   Impact on timing:                                                 â”‚
â”‚   â€¢ Adds to setup time margin requirement                          â”‚
â”‚   â€¢ Effectively reduces maximum frequency                          â”‚
â”‚                                                                      â”‚
â”‚   fmax = 1 / (tcq + tlogic + tsetup + tjitter)                     â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5.5.7 Skew Management Summary

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SKEW MINIMIZATION TECHNIQUES                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚   â”‚ Technique          â”‚ Method                                  â”‚ â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚   â”‚ Balanced tree      â”‚ Equal path lengths to all FFs          â”‚ â”‚
â”‚   â”‚ Clock mesh         â”‚ Multiple paths average out variation   â”‚ â”‚
â”‚   â”‚ Buffer insertion   â”‚ Add delay where path is short          â”‚ â”‚
â”‚   â”‚ Wire shielding     â”‚ Reduce crosstalk-induced variation     â”‚ â”‚
â”‚   â”‚ Matched routing    â”‚ Same metal layers for all clock paths  â”‚ â”‚
â”‚   â”‚ Local clock regen. â”‚ Re-generate clean clock locally        â”‚ â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                      â”‚
â”‚   Design flow for clock tree:                                       â”‚
â”‚                                                                      â”‚
â”‚   1. Place flip-flops                                              â”‚
â”‚   2. Create clock tree skeleton (H-tree or spine)                  â”‚
â”‚   3. Insert buffers for drive strength                             â”‚
â”‚   4. Balance delays (add delay cells where needed)                 â”‚
â”‚   5. Verify skew meets constraints                                 â”‚
â”‚   6. Optimize power (sizing, gating)                               â”‚
â”‚                                                                      â”‚
â”‚   Typical constraints:                                              â”‚
â”‚   â€¢ Maximum skew: 5-10% of clock period                            â”‚
â”‚   â€¢ Maximum transition time: 100-500 ps                            â”‚
â”‚   â€¢ Insertion delay: minimize for high frequency                   â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸ“Š Summary Table

| Parameter | Description | Typical Value |
|-----------|-------------|---------------|
| Local skew | Between nearby FFs | 10-50 ps |
| Global skew | Across full chip | 100-500 ps |
| Clock jitter | Edge timing variation | 5-50 ps |
| Clock power | Fraction of total | 30-50% |

| Structure | Skew | Power | Complexity | Use Case |
|-----------|------|-------|------------|----------|
| H-Tree | Low | Medium | Medium | General purpose |
| Spine | High | Low | Low | Simple designs |
| Mesh/Grid | Very Low | High | High | High performance |

---

## â“ Quick Revision Questions

1. **Define clock skew and explain how it affects setup and hold timing.**

2. **What is the difference between positive and negative clock skew?**

3. **Draw an H-tree clock distribution structure for 8 flip-flops.**

4. **Why must clock gating use a latch before the AND gate?**

5. **What is clock jitter and how does it differ from skew?**

6. **Calculate the number of buffer stages needed for: CL = 10pF, Cin = 20fF, using fan-out of 4.**

---

## ðŸ”— Navigation

| Previous | Up | Next Unit |
|----------|-------|-----------|
| â† [Static vs Dynamic Storage](04-static-dynamic-storage.md) | [Unit 5 Home](README.md) | [Unit 6: CMOS Layout â†’](../06-CMOS-Layout/README.md) |
