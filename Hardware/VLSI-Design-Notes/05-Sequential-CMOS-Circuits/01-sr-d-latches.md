# Chapter 5.1: SR and D Latches

## ğŸ“‹ Chapter Overview

**Latches** are the fundamental building blocks of sequential circuits, capable of storing one bit of information. This chapter covers SR (Set-Reset) latches and D (Data) latches, their operation, timing behavior, and CMOS implementations.

---

## ğŸ¯ Learning Objectives

After completing this chapter, you will be able to:
- Explain SR latch operation and the forbidden state
- Design cross-coupled inverter storage
- Implement D latches using transmission gates
- Distinguish between positive and negative level-sensitive latches

---

## 5.1.1 Cross-Coupled Inverters

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    BISTABLE ELEMENT                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚   Two inverters connected in a loop form a bistable circuit:       â”‚
â”‚                                                                      â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚              â”‚                          â”‚                           â”‚
â”‚              â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”  â”‚                           â”‚
â”‚              â””â”€â”€â”€â”€â”¤      â”œâ”€â”€â”€â”€â”¤      â”œâ”€â”€â”˜                           â”‚
â”‚        Q â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ INV1 â”‚    â”‚ INV2 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€ QÌ„                  â”‚
â”‚                   â”‚      â”œâ”€â”€â”€â”€â”¤      â”‚                              â”‚
â”‚                   â””â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”˜                              â”‚
â”‚                                                                      â”‚
â”‚   Two stable states:                                                â”‚
â”‚                                                                      â”‚
â”‚   State 1: Q = 0               State 2: Q = 1                      â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”                â”‚
â”‚   â”‚      â”‚    â”‚      â”‚         â”‚      â”‚    â”‚      â”‚                â”‚
â”‚ 0â”€â”¤  1   â”œâ”€1â”€â”€â”¤  0   â”œâ”€0     1â”€â”¤  0   â”œâ”€0â”€â”€â”¤  1   â”œâ”€1              â”‚
â”‚   â”‚      â”‚    â”‚      â”‚         â”‚      â”‚    â”‚      â”‚                â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                                                                      â”‚
â”‚   â€¢ Both states are stable (positive feedback maintains state)     â”‚
â”‚   â€¢ Cannot change state without external intervention              â”‚
â”‚   â€¢ Stores 1 bit of information                                    â”‚
â”‚                                                                      â”‚
â”‚   Voltage Transfer Analysis:                                        â”‚
â”‚                                                                      â”‚
â”‚   V2 (QÌ„)                                                           â”‚
â”‚     â”‚                                                               â”‚
â”‚ VDD â—â”â”â”â”â”â•²          â—â”â”â”â”â”â•±                                       â”‚
â”‚     â”‚      â•²        â•±                                               â”‚
â”‚     â”‚       â•²      â•±          Intersection points                  â”‚
â”‚     â”‚        â—â”€â”€â”€â”€â—           = stable states                      â”‚
â”‚     â”‚       â•±      â•²                                                â”‚
â”‚     â”‚      â•±        â•²                                               â”‚
â”‚   0 â—â”â”â”â”â”â•±          â•²â”â”â”â”â”â—                                       â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º V1 (Q)                             â”‚
â”‚     0                    VDD                                        â”‚
â”‚                                                                      â”‚
â”‚     INV1 VTC    vs    INV2 VTC (mirrored)                          â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5.1.2 SR Latch (NOR-based)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    NOR-BASED SR LATCH                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚   Circuit:                                                          â”‚
â”‚                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚                      â”‚                                 â”‚            â”‚
â”‚             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚            â”‚
â”‚             â”‚        â”‚           â”‚                     â”‚            â”‚
â”‚        S â”€â”€â”€â”¼â”€â”€â”€â”¬â”€â”€â”€â”€â”¼â”€â”€â”€â”       â”‚                     â”‚            â”‚
â”‚             â”‚   â”‚    â”‚   â”‚       â”‚                     â”‚            â”‚
â”‚             â”‚ â”Œâ”€â”´â”€â”€â”€â”€â”´â”€â” â”‚       â”‚                     â”‚            â”‚
â”‚             â”‚ â”‚  NOR   â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º Q     â”‚            â”‚
â”‚             â”‚ â”‚        â”‚ â”‚                             â”‚            â”‚
â”‚             â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚                             â”‚            â”‚
â”‚             â”‚            â”‚                             â”‚            â”‚
â”‚             â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”‚                             â”‚            â”‚
â”‚             â”‚ â”‚  NOR   â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º QÌ„    â”‚            â”‚
â”‚             â”‚ â”‚        â”‚ â”‚                             â”‚            â”‚
â”‚             â”‚ â””â”€â”¬â”€â”€â”€â”€â”¬â”€â”˜ â”‚                             â”‚            â”‚
â”‚             â”‚   â”‚    â”‚   â”‚                             â”‚            â”‚
â”‚        R â”€â”€â”€â”¼â”€â”€â”€â”´â”€â”€â”€â”€â”¼â”€â”€â”€â”˜                             â”‚            â”‚
â”‚             â”‚        â”‚                                 â”‚            â”‚
â”‚             â””â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                      â”‚                                              â”‚
â”‚                                                                      â”‚
â”‚   Truth Table:                                                      â”‚
â”‚   â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚   â”‚ S â”‚ R â”‚ Q(next)â”‚ Operation                           â”‚         â”‚
â”‚   â”œâ”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”‚
â”‚   â”‚ 0 â”‚ 0 â”‚ Q      â”‚ HOLD - No change, keeps state      â”‚         â”‚
â”‚   â”‚ 0 â”‚ 1 â”‚ 0      â”‚ RESET - Q forced to 0              â”‚         â”‚
â”‚   â”‚ 1 â”‚ 0 â”‚ 1      â”‚ SET - Q forced to 1                â”‚         â”‚
â”‚   â”‚ 1 â”‚ 1 â”‚ ?      â”‚ FORBIDDEN - Both outputs go to 0   â”‚         â”‚
â”‚   â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                                      â”‚
â”‚   Forbidden state problem:                                          â”‚
â”‚   â€¢ When S = R = 1: Both Q and QÌ„ = 0 (not complements!)           â”‚
â”‚   â€¢ When S and R released simultaneously: race condition           â”‚
â”‚   â€¢ Final state is unpredictable (metastability risk)              â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### NAND-based SR Latch

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    NAND-BASED SR LATCH                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚   Circuit (active-low inputs SÌ„, RÌ„):                               â”‚
â”‚                                                                      â”‚
â”‚             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚             â”‚                                  â”‚                    â”‚
â”‚        SÌ„ â”€â”€â”€â”¼â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚                    â”‚
â”‚             â”‚   â”‚        â”‚                     â”‚                    â”‚
â”‚             â”‚ â”Œâ”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”                   â”‚                    â”‚
â”‚             â”‚ â”‚   NAND     â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚â”€â”€â”€â”€ Q              â”‚
â”‚             â”‚ â”‚            â”‚ â”‚                 â”‚                    â”‚
â”‚             â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚                 â”‚                    â”‚
â”‚             â”‚                â”‚                 â”‚                    â”‚
â”‚             â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚                 â”‚                    â”‚
â”‚             â”‚ â”‚   NAND     â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚â”€â”€â”€â”€ QÌ„             â”‚
â”‚             â”‚ â”‚            â”‚ â”‚                 â”‚                    â”‚
â”‚             â”‚ â””â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”˜ â”‚                 â”‚                    â”‚
â”‚             â”‚   â”‚        â”‚   â”‚                 â”‚                    â”‚
â”‚        RÌ„ â”€â”€â”€â”¼â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚                 â”‚                    â”‚
â”‚             â”‚                â”‚                 â”‚                    â”‚
â”‚             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚                              â”‚                                      â”‚
â”‚                                                                      â”‚
â”‚   Truth Table (active-low):                                         â”‚
â”‚   â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚   â”‚ SÌ„ â”‚ RÌ„ â”‚ Q(next)â”‚ Operation                           â”‚         â”‚
â”‚   â”œâ”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”‚
â”‚   â”‚ 1 â”‚ 1 â”‚ Q      â”‚ HOLD - No change                   â”‚         â”‚
â”‚   â”‚ 1 â”‚ 0 â”‚ 0      â”‚ RESET - Q forced to 0              â”‚         â”‚
â”‚   â”‚ 0 â”‚ 1 â”‚ 1      â”‚ SET - Q forced to 1                â”‚         â”‚
â”‚   â”‚ 0 â”‚ 0 â”‚ ?      â”‚ FORBIDDEN - Both outputs go to 1   â”‚         â”‚
â”‚   â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                                      â”‚
â”‚   Note: NAND-based SR is active-low (SÌ„, RÌ„)                        â”‚
â”‚         NOR-based SR is active-high (S, R)                         â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5.1.3 CMOS SR Latch Implementation

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    CMOS NOR-BASED SR LATCH                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚   Each NOR gate: 4 transistors (2 PMOS series, 2 NMOS parallel)    â”‚
â”‚   Total: 8 transistors                                              â”‚
â”‚                                                                      â”‚
â”‚   NOR1 (produces Q):                                                â”‚
â”‚                                                                      â”‚
â”‚            VDD                                                      â”‚
â”‚             â”‚                                                       â”‚
â”‚         â”Œâ”€â”€â”€â”´â”€â”€â”€â”                                                   â”‚
â”‚    S â”€â”€â”€â”¤   P   â”‚                                                   â”‚
â”‚         â””â”€â”€â”€â”¬â”€â”€â”€â”˜                                                   â”‚
â”‚         â”Œâ”€â”€â”€â”´â”€â”€â”€â”                                                   â”‚
â”‚    QÌ„ â”€â”€â”€â”¤   P   â”‚                                                   â”‚
â”‚         â””â”€â”€â”€â”¬â”€â”€â”€â”˜                                                   â”‚
â”‚             â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º Q                                 â”‚
â”‚        â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”                                                  â”‚
â”‚    â”Œâ”€â”€â”€â”´â”€â”€â”€â” â”Œâ”€â”€â”€â”´â”€â”€â”€â”                                              â”‚
â”‚  Sâ”€â”¤   N   â”‚ â”‚   N   â”œâ”€QÌ„                                           â”‚
â”‚    â””â”€â”€â”€â”¬â”€â”€â”€â”˜ â””â”€â”€â”€â”¬â”€â”€â”€â”˜                                              â”‚
â”‚        â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                                                  â”‚
â”‚             â”‚                                                       â”‚
â”‚            GND                                                      â”‚
â”‚                                                                      â”‚
â”‚   Operation:                                                        â”‚
â”‚   â€¢ S = 1: NMOS pulls Q low (Reset path disabled)                  â”‚
â”‚   â€¢ QÌ„ = 1: Also pulls Q low                                        â”‚
â”‚   â€¢ Both S = QÌ„ = 0: PMOS pulls Q high                              â”‚
â”‚                                                                      â”‚
â”‚   NOR2 produces QÌ„ similarly with R and Q as inputs                 â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5.1.4 D Latch

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    D LATCH CONCEPT                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚   D latch eliminates forbidden state by deriving S and R from D:   â”‚
â”‚                                                                      â”‚
â”‚        D â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º S                             â”‚
â”‚               â”‚                                                     â”‚
â”‚               â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”                                         â”‚
â”‚               â””â”€â”€â”€â”€â”¤ INV  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–º R                             â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”˜                                         â”‚
â”‚                                                                      â”‚
â”‚   When D = 1: S = 1, R = 0 â†’ SET                                   â”‚
â”‚   When D = 0: S = 0, R = 1 â†’ RESET                                 â”‚
â”‚   Never S = R = 1 (forbidden state avoided)                        â”‚
â”‚                                                                      â”‚
â”‚   But we need ENABLE control to hold the state:                    â”‚
â”‚                                                                      â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚                    â”‚                                  â”‚             â”‚
â”‚        D â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”                           â”‚             â”‚
â”‚             â”‚      â”‚      â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”              â”‚             â”‚
â”‚             â”‚    â”Œâ”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”  â”‚       â”‚              â”‚             â”‚
â”‚       EN â”€â”€â”€â”¼â”€â”€â”€â”€â”¤   AND    â”œâ”€â”€â”¤  SR   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â–º Q       â”‚
â”‚             â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ LATCH â”‚              â”‚             â”‚
â”‚             â”‚                  â”‚       â”‚              â”‚             â”‚
â”‚           â”Œâ”€â”´â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â””â”€â”€â”€â”¬â”€â”€â”€â”˜              â”‚             â”‚
â”‚           â”‚INVâ”‚â”€â”€â”¤   AND    â”œâ”€â”€â”€â”€â”€â”€â”˜                  â”‚             â”‚
â”‚           â””â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                         â”‚             â”‚
â”‚                       â”‚                               â”‚             â”‚
â”‚                  EN â”€â”€â”˜                               â”‚             â”‚
â”‚                                                                      â”‚
â”‚   Truth Table:                                                      â”‚
â”‚   â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚   â”‚ EN â”‚ D â”‚ Q(next)â”‚ Operation                       â”‚            â”‚
â”‚   â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤            â”‚
â”‚   â”‚ 0  â”‚ X â”‚ Q      â”‚ HOLD - Latch is opaque         â”‚            â”‚
â”‚   â”‚ 1  â”‚ 0 â”‚ 0      â”‚ TRANSPARENT - Q follows D = 0  â”‚            â”‚
â”‚   â”‚ 1  â”‚ 1 â”‚ 1      â”‚ TRANSPARENT - Q follows D = 1  â”‚            â”‚
â”‚   â””â”€â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5.1.5 Transmission Gate D Latch

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    TG-BASED D LATCH                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚   Most efficient CMOS D latch implementation:                       â”‚
â”‚                                                                      â”‚
â”‚                   CLK                                               â”‚
â”‚                    â”‚                                                â”‚
â”‚                â”Œâ”€â”€â”€â—â”€â”€â”€â”                                            â”‚
â”‚                â”‚   â”‚   â”‚                                            â”‚
â”‚      D â”€â”€â”€â”€â”€â”€â”€â”€â”¤  TG1  â”œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º Q      â”‚
â”‚                â”‚   â”‚   â”‚    â”‚                                       â”‚
â”‚                â””â”€â”€â”€â—â”€â”€â”€â”˜    â”‚                                       â”‚
â”‚                    â”‚        â”‚                                       â”‚
â”‚                   CLKÌ„       â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”               â”‚
â”‚                             â”‚   â”‚      â”‚    â”‚      â”‚               â”‚
â”‚                             â””â”€â”€â”€â”¤ INV1 â”œâ”€â”€â”€â”€â”¤ INV2 â”œâ”€â”€â”€â”           â”‚
â”‚                                 â”‚      â”‚    â”‚      â”‚   â”‚           â”‚
â”‚                                 â””â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”˜   â”‚           â”‚
â”‚                                                        â”‚           â”‚
â”‚                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                        â”‚                                           â”‚
â”‚                   CLKÌ„  â”‚                                           â”‚
â”‚                    â”‚   â”‚                                            â”‚
â”‚                â”Œâ”€â”€â”€â—â”€â”€â”€â”¼â”€â”€â”€â”                                        â”‚
â”‚                â”‚   â”‚   â”‚   â”‚                                        â”‚
â”‚                â”‚  TG2  â”‚   â”‚ â† Feedback TG (for hold mode)        â”‚
â”‚                â”‚   â”‚   â”‚   â”‚                                        â”‚
â”‚                â””â”€â”€â”€â—â”€â”€â”€â”´â”€â”€â”€â”˜                                        â”‚
â”‚                    â”‚                                                â”‚
â”‚                   CLK                                               â”‚
â”‚                                                                      â”‚
â”‚   Operation:                                                        â”‚
â”‚                                                                      â”‚
â”‚   CLK = 1 (Transparent mode):                                      â”‚
â”‚   â€¢ TG1 ON: D passes to Q                                          â”‚
â”‚   â€¢ TG2 OFF: Feedback path disconnected                            â”‚
â”‚   â€¢ Q follows D (latch is transparent)                             â”‚
â”‚                                                                      â”‚
â”‚   CLK = 0 (Opaque/Hold mode):                                      â”‚
â”‚   â€¢ TG1 OFF: D isolated from output                                â”‚
â”‚   â€¢ TG2 ON: Feedback path active                                   â”‚
â”‚   â€¢ Cross-coupled inverters hold the state                         â”‚
â”‚                                                                      â”‚
â”‚   Transistor count: 2 + 2 + 2 + 2 = 8 transistors                  â”‚
â”‚   (2 TGs + 2 inverters)                                            â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5.1.6 Timing Waveforms

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    D LATCH TIMING                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚   CLK  â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚            â”‚     â”‚                 â”‚     â”‚                 â”‚        â”‚
â”‚            â””â”€â”€â”€â”€â”€â”˜                 â””â”€â”€â”€â”€â”€â”˜                 â””â”€â”€â”€â”€    â”‚
â”‚          â†â”€ Opaque â”€â†’â†â”€Transparentâ”€â†’â†â”€ Opaque â”€â†’                   â”‚
â”‚                                                                      â”‚
â”‚   D    â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚                â”‚  â”‚       â”‚     â”‚                 â”‚                 â”‚
â”‚                â””â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”˜                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚                                                                      â”‚
â”‚   Q    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚                        â”‚  â”‚     â”‚     â”‚           â”‚                 â”‚
â”‚                        â””â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚                        â†‘        â†‘                                   â”‚
â”‚                        â”‚        â”‚                                   â”‚
â”‚                    Q follows D only when CLK = 1                   â”‚
â”‚                    Q holds last value when CLK = 0                 â”‚
â”‚                                                                      â”‚
â”‚   Level-sensitive behavior:                                         â”‚
â”‚   â€¢ Positive latch: Transparent when CLK = 1                       â”‚
â”‚   â€¢ Negative latch: Transparent when CLK = 0                       â”‚
â”‚                                                                      â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚   â”‚ Latch Type       â”‚ Transparent When                     â”‚      â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤      â”‚
â”‚   â”‚ Positive (High)  â”‚ CLK = 1 (high level)                 â”‚      â”‚
â”‚   â”‚ Negative (Low)   â”‚ CLK = 0 (low level)                  â”‚      â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5.1.7 Mux-based D Latch

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    MUX-BASED D LATCH                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚   Alternative implementation using 2:1 MUX:                         â”‚
â”‚                                                                      â”‚
â”‚                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                    â”‚
â”‚       D â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚     0       â”‚                                    â”‚
â”‚                  â”‚             â”‚                                    â”‚
â”‚              â”Œâ”€â”€â–ºâ”‚     1       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º Q      â”‚
â”‚              â”‚   â”‚             â”‚                                    â”‚
â”‚              â”‚   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                    â”‚
â”‚              â”‚          â”‚                                           â”‚
â”‚              â”‚         CLK                                          â”‚
â”‚              â”‚                                                      â”‚
â”‚              â”‚   â† Feedback (Q to input 1)                         â”‚
â”‚              â”‚                                                      â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                                      â”‚
â”‚   Operation:                                                        â”‚
â”‚   â€¢ CLK = 0: MUX selects input 0 â†’ Q follows D                     â”‚
â”‚   â€¢ CLK = 1: MUX selects input 1 â†’ Q fed back (hold)              â”‚
â”‚                                                                      â”‚
â”‚   Wait, that's a negative latch. For positive latch:               â”‚
â”‚                                                                      â”‚
â”‚                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                    â”‚
â”‚       D â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚     1       â”‚    (D selected when CLK = 1)      â”‚
â”‚                  â”‚             â”‚                                    â”‚
â”‚              â”Œâ”€â”€â–ºâ”‚     0       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º Q      â”‚
â”‚              â”‚   â”‚             â”‚                                    â”‚
â”‚              â”‚   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                    â”‚
â”‚              â”‚          â”‚                                           â”‚
â”‚              â”‚         CLK                                          â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                                      â”‚
â”‚   Requires inverter in feedback for proper storage                 â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Summary Table

| Latch Type | Storage Mechanism | Transistor Count | Key Characteristic |
|------------|-------------------|------------------|---------------------|
| SR (NOR) | Cross-coupled NOR | 8 | Has forbidden state |
| SR (NAND) | Cross-coupled NAND | 8 | Active-low inputs |
| D Latch (TG) | TG + inverters | 8 | No forbidden state |
| D Latch (MUX) | 2:1 MUX feedback | 8-10 | Alternative design |

| Parameter | Description |
|-----------|-------------|
| Transparent | Output follows input (latch open) |
| Opaque | Output holds previous value (latch closed) |
| Level-sensitive | State changes based on clock level |
| Positive latch | Transparent when CLK = 1 |
| Negative latch | Transparent when CLK = 0 |

---

## â“ Quick Revision Questions

1. **What is the forbidden state in an SR latch and why is it problematic?**

2. **How does a D latch eliminate the forbidden state of an SR latch?**

3. **Draw a transmission gate based D latch. How many transistors does it need?**

4. **What is the difference between transparent and opaque modes in a D latch?**

5. **Compare positive and negative level-sensitive latches.**

6. **Why are cross-coupled inverters necessary in the D latch design?**

---

## ğŸ”— Navigation

| Previous | Up | Next |
|----------|-------|------|
| â† [Unit 4: Pass Transistor Logic](../04-Combinational-CMOS-Logic/05-pass-transistor-logic.md) | [Unit 5 Home](README.md) | [D Flip-Flop Design â†’](02-d-flip-flop-design.md) |
