# Chapter 8.1: 8051 Instruction Set

## ğŸ“š Chapter Overview

This chapter provides comprehensive coverage of the 8051 instruction set, organized by functional categories. Each instruction is explained with syntax, operation, flags affected, and practical examples.

---

## ğŸ¯ Learning Objectives

After completing this chapter, you will be able to:
- Use all 8051 instruction categories effectively
- Understand instruction encoding and timing
- Select optimal instructions for tasks
- Write efficient assembly code

---

## 1. Instruction Set Overview

### 1.1 Instruction Categories

```
8051 INSTRUCTION CATEGORIES (111 Instructions Total)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                           â”‚
â”‚  â”‚  DATA TRANSFER  â”‚ (28 instructions)                         â”‚
â”‚  â”‚  MOV, MOVX, MOVCâ”‚ Move data between locations               â”‚
â”‚  â”‚  PUSH, POP, XCH â”‚                                           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                           â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                           â”‚
â”‚  â”‚   ARITHMETIC    â”‚ (24 instructions)                         â”‚
â”‚  â”‚  ADD, ADDC, SUBBâ”‚ Arithmetic operations                     â”‚
â”‚  â”‚  INC, DEC, MUL  â”‚                                           â”‚
â”‚  â”‚  DIV, DA        â”‚                                           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                           â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                           â”‚
â”‚  â”‚    LOGICAL      â”‚ (25 instructions)                         â”‚
â”‚  â”‚  ANL, ORL, XRL  â”‚ Logic and shift operations               â”‚
â”‚  â”‚  CLR, CPL, SWAP â”‚                                           â”‚
â”‚  â”‚  RL, RLC, RR    â”‚                                           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                           â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                           â”‚
â”‚  â”‚   BOOLEAN/BIT   â”‚ (17 instructions)                         â”‚
â”‚  â”‚  SETB, CLR, CPL â”‚ Single-bit operations                    â”‚
â”‚  â”‚  ANL C, ORL C   â”‚                                           â”‚
â”‚  â”‚  MOV C, JB, JNB â”‚                                           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                           â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                           â”‚
â”‚  â”‚ PROGRAM CONTROL â”‚ (17 instructions)                         â”‚
â”‚  â”‚  LJMP, SJMP,AJMPâ”‚ Jumps, calls, returns                    â”‚
â”‚  â”‚  LCALL, RET     â”‚                                           â”‚
â”‚  â”‚  JZ, JNZ, CJNE  â”‚                                           â”‚
â”‚  â”‚  DJNZ, NOP      â”‚                                           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                           â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. Data Transfer Instructions

### 2.1 MOV Instructions

```
MOV - MOVE DATA
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Internal RAM and SFR data movement.

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Instruction           â”‚ Operation                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ MOV A, Rn             â”‚ A â† Rn                                 â”‚
â”‚ MOV A, direct         â”‚ A â† [direct]                           â”‚
â”‚ MOV A, @Ri            â”‚ A â† [Ri]                               â”‚
â”‚ MOV A, #data          â”‚ A â† data                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ MOV Rn, A             â”‚ Rn â† A                                 â”‚
â”‚ MOV Rn, direct        â”‚ Rn â† [direct]                          â”‚
â”‚ MOV Rn, #data         â”‚ Rn â† data                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ MOV direct, A         â”‚ [direct] â† A                           â”‚
â”‚ MOV direct, Rn        â”‚ [direct] â† Rn                          â”‚
â”‚ MOV direct1, direct2  â”‚ [direct1] â† [direct2]                  â”‚
â”‚ MOV direct, @Ri       â”‚ [direct] â† [Ri]                        â”‚
â”‚ MOV direct, #data     â”‚ [direct] â† data                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ MOV @Ri, A            â”‚ [Ri] â† A                               â”‚
â”‚ MOV @Ri, direct       â”‚ [Ri] â† [direct]                        â”‚
â”‚ MOV @Ri, #data        â”‚ [Ri] â† data                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ MOV DPTR, #data16     â”‚ DPTR â† 16-bit data                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Examples:
â”€â”€â”€â”€â”€â”€â”€â”€â”€
    MOV A, #55H         ; A = 55H (immediate)
    MOV R0, A           ; R0 = A (register)
    MOV 30H, #0AAH      ; [30H] = AAH (direct)
    MOV @R1, A          ; [R1] = A (indirect)
    MOV P1, A           ; Port 1 = A (SFR)
    MOV DPTR, #1000H    ; DPTR = 1000H (16-bit)
    MOV 40H, 30H        ; [40H] = [30H] (direct to direct)

Note: MOV does NOT affect any flags (except when moving to PSW)
```

### 2.2 MOVX and MOVC Instructions

```
MOVX - MOVE EXTERNAL RAM
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Instruction           â”‚ Operation                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ MOVX A, @Ri           â”‚ A â† External RAM [Ri] (8-bit address) â”‚
â”‚ MOVX A, @DPTR         â”‚ A â† External RAM [DPTR] (16-bit)      â”‚
â”‚ MOVX @Ri, A           â”‚ External RAM [Ri] â† A                  â”‚
â”‚ MOVX @DPTR, A         â”‚ External RAM [DPTR] â† A                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Examples:
    MOV DPTR, #8000H
    MOVX A, @DPTR       ; Read from external RAM 8000H
    MOVX @DPTR, A       ; Write to external RAM 8000H
    
    MOV R0, #40H
    MOVX A, @R0         ; Read from external address [R0]


MOVC - MOVE CODE (Program Memory)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Instruction           â”‚ Operation                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ MOVC A, @A+DPTR       â”‚ A â† Code Memory [A + DPTR]            â”‚
â”‚ MOVC A, @A+PC         â”‚ A â† Code Memory [A + PC]              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Examples:
    ; Look-up table using DPTR
    MOV DPTR, #TABLE
    MOV A, #3           ; Index = 3
    MOVC A, @A+DPTR     ; A = TABLE[3]
    
TABLE:
    DB 0C0H, 0F9H, 0A4H, 0B0H, 99H  ; 7-segment codes
```

### 2.3 PUSH, POP, XCH Instructions

```
STACK AND EXCHANGE OPERATIONS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Instruction           â”‚ Operation                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PUSH direct           â”‚ SP++; [SP] â† [direct]                 â”‚
â”‚ POP direct            â”‚ [direct] â† [SP]; SP--                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ XCH A, Rn             â”‚ A â†” Rn (exchange)                     â”‚
â”‚ XCH A, direct         â”‚ A â†” [direct]                          â”‚
â”‚ XCH A, @Ri            â”‚ A â†” [Ri]                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ XCHD A, @Ri           â”‚ A[3:0] â†” [Ri][3:0] (low nibble only) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Examples:
â”€â”€â”€â”€â”€â”€â”€â”€â”€
    ; Save registers on stack
    PUSH ACC            ; Save A (use ACC, not A)
    PUSH B              ; Save B
    PUSH PSW            ; Save flags and bank
    
    ; ... subroutine code ...
    
    ; Restore registers
    POP PSW             ; Restore in reverse order
    POP B
    POP ACC
    
    ; Exchange values
    MOV A, #55H
    MOV R0, #0AAH
    XCH A, R0           ; Now A=AAH, R0=55H
    
    ; Exchange low nibbles
    MOV A, #12H
    MOV R1, #30H
    MOV @R1, #34H       ; [30H] = 34H
    XCHD A, @R1         ; A=14H, [30H]=32H
```

---

## 3. Arithmetic Instructions

### 3.1 Addition Instructions

```
ADD AND ADDC - ADDITION
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Instruction           â”‚ Operation                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ADD A, Rn             â”‚ A â† A + Rn                             â”‚
â”‚ ADD A, direct         â”‚ A â† A + [direct]                       â”‚
â”‚ ADD A, @Ri            â”‚ A â† A + [Ri]                           â”‚
â”‚ ADD A, #data          â”‚ A â† A + data                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ADDC A, Rn            â”‚ A â† A + Rn + CY                        â”‚
â”‚ ADDC A, direct        â”‚ A â† A + [direct] + CY                  â”‚
â”‚ ADDC A, @Ri           â”‚ A â† A + [Ri] + CY                      â”‚
â”‚ ADDC A, #data         â”‚ A â† A + data + CY                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Flags Affected: CY, AC, OV

Examples:
â”€â”€â”€â”€â”€â”€â”€â”€â”€
    ; Simple addition
    MOV A, #25H
    ADD A, #35H         ; A = 5AH, CY=0
    
    ; 16-bit addition: R3:R2 = R1:R0 + R3:R2
    MOV A, R0
    ADD A, R2           ; Add low bytes
    MOV R2, A
    MOV A, R1
    ADDC A, R3          ; Add high bytes with carry
    MOV R3, A

    ; Multi-byte addition example
    ; Add 16-bit values from [30H:31H] + [32H:33H] â†’ [34H:35H]
    MOV A, 31H          ; Low byte first
    ADD A, 33H
    MOV 35H, A          ; Store low result
    MOV A, 30H          ; High byte
    ADDC A, 32H         ; Add with carry
    MOV 34H, A          ; Store high result
```

### 3.2 Subtraction Instruction

```
SUBB - SUBTRACT WITH BORROW
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Instruction           â”‚ Operation                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ SUBB A, Rn            â”‚ A â† A - Rn - CY                        â”‚
â”‚ SUBB A, direct        â”‚ A â† A - [direct] - CY                  â”‚
â”‚ SUBB A, @Ri           â”‚ A â† A - [Ri] - CY                      â”‚
â”‚ SUBB A, #data         â”‚ A â† A - data - CY                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Flags Affected: CY, AC, OV

Note: There is NO SUB instruction! Always clear CY before first SUBB.

Examples:
â”€â”€â”€â”€â”€â”€â”€â”€â”€
    ; Simple subtraction
    CLR C               ; Clear borrow FIRST!
    MOV A, #50H
    SUBB A, #30H        ; A = 20H, CY=0
    
    ; If borrow needed (result negative)
    CLR C
    MOV A, #30H
    SUBB A, #50H        ; A = E0H (-32 or 224), CY=1
    
    ; 16-bit subtraction: R3:R2 = R1:R0 - R3:R2
    CLR C               ; Clear borrow first
    MOV A, R0
    SUBB A, R2          ; Subtract low bytes
    MOV R2, A
    MOV A, R1
    SUBB A, R3          ; Subtract high with borrow
    MOV R3, A
```

### 3.3 Increment and Decrement

```
INC AND DEC - INCREMENT/DECREMENT
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Instruction           â”‚ Operation                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ INC A                 â”‚ A â† A + 1                              â”‚
â”‚ INC Rn                â”‚ Rn â† Rn + 1                            â”‚
â”‚ INC direct            â”‚ [direct] â† [direct] + 1                â”‚
â”‚ INC @Ri               â”‚ [Ri] â† [Ri] + 1                        â”‚
â”‚ INC DPTR              â”‚ DPTR â† DPTR + 1 (16-bit)              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ DEC A                 â”‚ A â† A - 1                              â”‚
â”‚ DEC Rn                â”‚ Rn â† Rn - 1                            â”‚
â”‚ DEC direct            â”‚ [direct] â† [direct] - 1                â”‚
â”‚ DEC @Ri               â”‚ [Ri] â† [Ri] - 1                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Note: INC/DEC do NOT affect any flags!
      There is NO DEC DPTR instruction!

Examples:
â”€â”€â”€â”€â”€â”€â”€â”€â”€
    INC R0              ; R0++
    DEC A               ; A--
    INC 30H             ; [30H]++
    INC DPTR            ; DPTR++ (16-bit increment)
    
    ; To decrement DPTR (no direct instruction):
    MOV A, DPL
    CLR C
    SUBB A, #1
    MOV DPL, A
    MOV A, DPH
    SUBB A, #0          ; Borrow propagates
    MOV DPH, A
```

### 3.4 Multiplication and Division

```
MUL AND DIV
â”â”â”â”â”â”â”â”â”â”â”

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Instruction           â”‚ Operation                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ MUL AB                â”‚ B:A â† A Ã— B (16-bit product)          â”‚
â”‚ DIV AB                â”‚ A â† A Ã· B (quotient)                  â”‚
â”‚                       â”‚ B â† A mod B (remainder)               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

MUL AB:
â€¢ CY = 0 (always)
â€¢ OV = 1 if product > 255

DIV AB:
â€¢ CY = 0 (always)
â€¢ OV = 1 if B = 0 (divide by zero)

Examples:
â”€â”€â”€â”€â”€â”€â”€â”€â”€
    ; Multiplication
    MOV A, #25
    MOV B, #10
    MUL AB              ; A=250 (FAH), B=0, OV=0
    
    MOV A, #50
    MOV B, #10
    MUL AB              ; A=244 (F4H), B=1 (result=500=01F4H), OV=1
    
    ; Division
    MOV A, #100
    MOV B, #7
    DIV AB              ; A=14 (quotient), B=2 (remainder)
                        ; 100 = 14 Ã— 7 + 2
    
    ; Divide by zero
    MOV A, #50
    MOV B, #0
    DIV AB              ; OV=1 (error!), A and B undefined
```

### 3.5 Decimal Adjust

```
DA A - DECIMAL ADJUST ACCUMULATOR
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Adjusts result after BCD addition.

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Instruction           â”‚ Operation                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ DA A                  â”‚ Adjust A for BCD after ADD/ADDC       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Algorithm:
  If A[3:0] > 9 OR AC=1: A = A + 06H
  If A[7:4] > 9 OR CY=1: A = A + 60H

Examples:
â”€â”€â”€â”€â”€â”€â”€â”€â”€
    ; BCD addition: 29 + 18 = 47
    MOV A, #29H         ; BCD 29
    ADD A, #18H         ; Binary result = 41H (wrong for BCD!)
    DA A                ; A = 47H (correct BCD)
    
    ; BCD addition with carry: 88 + 19 = 107
    MOV A, #88H
    ADD A, #19H         ; A = A1H, CY=0
    DA A                ; A = 07H, CY=1 (represents 107)
```

---

## 4. Logical Instructions

### 4.1 AND, OR, XOR

```
LOGICAL OPERATIONS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Instruction           â”‚ Operation                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ANL A, Rn             â”‚ A â† A AND Rn                           â”‚
â”‚ ANL A, direct         â”‚ A â† A AND [direct]                     â”‚
â”‚ ANL A, @Ri            â”‚ A â† A AND [Ri]                         â”‚
â”‚ ANL A, #data          â”‚ A â† A AND data                         â”‚
â”‚ ANL direct, A         â”‚ [direct] â† [direct] AND A              â”‚
â”‚ ANL direct, #data     â”‚ [direct] â† [direct] AND data           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ORL A, Rn             â”‚ A â† A OR Rn                            â”‚
â”‚ ORL A, direct         â”‚ A â† A OR [direct]                      â”‚
â”‚ ORL A, @Ri            â”‚ A â† A OR [Ri]                          â”‚
â”‚ ORL A, #data          â”‚ A â† A OR data                          â”‚
â”‚ ORL direct, A         â”‚ [direct] â† [direct] OR A               â”‚
â”‚ ORL direct, #data     â”‚ [direct] â† [direct] OR data            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ XRL A, Rn             â”‚ A â† A XOR Rn                           â”‚
â”‚ XRL A, direct         â”‚ A â† A XOR [direct]                     â”‚
â”‚ XRL A, @Ri            â”‚ A â† A XOR [Ri]                         â”‚
â”‚ XRL A, #data          â”‚ A â† A XOR data                         â”‚
â”‚ XRL direct, A         â”‚ [direct] â† [direct] XOR A              â”‚
â”‚ XRL direct, #data     â”‚ [direct] â† [direct] XOR data           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Examples:
â”€â”€â”€â”€â”€â”€â”€â”€â”€
    ; Masking - keep only lower nibble
    MOV A, #3CH         ; A = 00111100
    ANL A, #0FH         ; A = 00001100 = 0CH
    
    ; Setting bits
    MOV A, #03H         ; A = 00000011
    ORL A, #30H         ; A = 00110011 = 33H
    
    ; Toggle bits
    MOV A, #55H         ; A = 01010101
    XRL A, #0FFH        ; A = 10101010 = AAH (complement)
    
    ; Port manipulation
    ANL P1, #0FH        ; Clear upper nibble of P1
    ORL P1, #80H        ; Set bit 7 of P1
    XRL P1, #01H        ; Toggle bit 0 of P1
```

### 4.2 CLR, CPL, SWAP

```
CLEAR, COMPLEMENT, SWAP
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Instruction           â”‚ Operation                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ CLR A                 â”‚ A â† 00H                                â”‚
â”‚ CPL A                 â”‚ A â† NOT A (1's complement)            â”‚
â”‚ SWAP A                â”‚ A[7:4] â†” A[3:0] (swap nibbles)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Examples:
â”€â”€â”€â”€â”€â”€â”€â”€â”€
    CLR A               ; A = 00H (faster than MOV A, #0)
    
    MOV A, #55H
    CPL A               ; A = AAH (complement)
    
    MOV A, #12H
    SWAP A              ; A = 21H (nibbles swapped)
```

### 4.3 Rotate Instructions

```
ROTATE OPERATIONS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Instruction           â”‚ Operation                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ RL A                  â”‚ Rotate Left (bit 7 â†’ bit 0)           â”‚
â”‚ RLC A                 â”‚ Rotate Left through Carry              â”‚
â”‚ RR A                  â”‚ Rotate Right (bit 0 â†’ bit 7)          â”‚
â”‚ RRC A                 â”‚ Rotate Right through Carry             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Diagrams:
â”€â”€â”€â”€â”€â”€â”€â”€â”€

RL A:  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
       â–¼  â”‚                             â”‚ â”‚
      â”Œâ”€â”€â”€â”¼â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”´â”€â”
      â”‚ 7 â”‚ 6 â”‚ 5 â”‚ 4 â”‚ 3 â”‚ 2 â”‚ 1 â”‚ 0 â”‚   
      â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜

RLC A: â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
       â–¼  â”‚                            â”‚   â”‚
      â”Œâ”€â”€â”€â”¼â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”´â”€â”¬â”€â”€â”€â”
      â”‚ 7 â”‚ 6 â”‚ 5 â”‚ 4 â”‚ 3 â”‚ 2 â”‚ 1 â”‚ 0 â”‚ CYâ”‚
      â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜

RR A:  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
       â”‚  â–¼                             â”‚ â”‚
      â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¼â”€â”€â”€â”˜
      â”‚ 7 â”‚ 6 â”‚ 5 â”‚ 4 â”‚ 3 â”‚ 2 â”‚ 1 â”‚ 0 â”‚
      â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜

RRC A: â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
       â”‚   â–¼                           â”‚   â”‚
      â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¼â”€â”€â”€â”˜
      â”‚CY â”‚ 7 â”‚ 6 â”‚ 5 â”‚ 4 â”‚ 3 â”‚ 2 â”‚ 1 â”‚ 0 â”‚
      â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜

Examples:
â”€â”€â”€â”€â”€â”€â”€â”€â”€
    MOV A, #0A5H        ; A = 10100101
    RL A                ; A = 01001011 = 4BH (bit 7 goes to bit 0)
    
    MOV A, #0A5H        ; A = 10100101
    CLR C               ; CY = 0
    RLC A               ; A = 01001010, CY = 1
    
    ; Multiply by 2 using rotate
    MOV A, #25          ; A = 25
    CLR C
    RLC A               ; A = 50 (Ã— 2)
    
    ; Divide by 2 using rotate
    MOV A, #50          ; A = 50
    CLR C
    RRC A               ; A = 25 (Ã· 2)
```

---

## 5. Boolean/Bit Instructions

### 5.1 Bit Manipulation

```
BIT MANIPULATION INSTRUCTIONS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Instruction           â”‚ Operation                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ CLR C                 â”‚ CY â† 0                                 â”‚
â”‚ CLR bit               â”‚ bit â† 0                                â”‚
â”‚ SETB C                â”‚ CY â† 1                                 â”‚
â”‚ SETB bit              â”‚ bit â† 1                                â”‚
â”‚ CPL C                 â”‚ CY â† NOT CY                            â”‚
â”‚ CPL bit               â”‚ bit â† NOT bit                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ MOV C, bit            â”‚ CY â† bit                               â”‚
â”‚ MOV bit, C            â”‚ bit â† CY                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ANL C, bit            â”‚ CY â† CY AND bit                        â”‚
â”‚ ANL C, /bit           â”‚ CY â† CY AND (NOT bit)                  â”‚
â”‚ ORL C, bit            â”‚ CY â† CY OR bit                         â”‚
â”‚ ORL C, /bit           â”‚ CY â† CY OR (NOT bit)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Examples:
â”€â”€â”€â”€â”€â”€â”€â”€â”€
    SETB P1.0           ; Turn on P1.0 (set to 1)
    CLR P1.0            ; Turn off P1.0 (clear to 0)
    CPL P1.0            ; Toggle P1.0
    
    SETB TR0            ; Start Timer 0
    CLR TR0             ; Stop Timer 0
    CLR TF0             ; Clear Timer 0 overflow flag
    
    ; Boolean logic
    MOV C, P1.0         ; C = P1.0
    ANL C, P1.1         ; C = P1.0 AND P1.1
    MOV P2.0, C         ; P2.0 = result
    
    ; Using complement
    MOV C, P1.0
    ANL C, /P1.1        ; C = P1.0 AND (NOT P1.1)
```

### 5.2 Bit Test and Jump

```
BIT CONDITIONAL JUMPS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Instruction           â”‚ Operation                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ JC rel                â”‚ Jump if CY = 1                         â”‚
â”‚ JNC rel               â”‚ Jump if CY = 0                         â”‚
â”‚ JB bit, rel           â”‚ Jump if bit = 1                        â”‚
â”‚ JNB bit, rel          â”‚ Jump if bit = 0                        â”‚
â”‚ JBC bit, rel          â”‚ Jump if bit = 1, then Clear bit       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Examples:
â”€â”€â”€â”€â”€â”€â”€â”€â”€
    ; Wait for button press (active low)
WAIT:
    JB P1.0, WAIT       ; Loop while P1.0 is high
    
    ; Wait for timer overflow
    JNB TF0, $          ; Wait here ($ = current address)
    CLR TF0             ; Clear flag
    
    ; Check and clear flag atomically
    JBC TF0, TIMER_DONE ; Jump if TF0=1, clear TF0
    
    ; Check carry after arithmetic
    ADD A, R0
    JC OVERFLOW         ; Jump if carry (overflow)
```

---

## 6. Program Control Instructions

### 6.1 Jump Instructions

```
JUMP INSTRUCTIONS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Instruction           â”‚Bytes â”‚ Range                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ LJMP addr16           â”‚  3   â”‚ Full 64KB                      â”‚
â”‚ AJMP addr11           â”‚  2   â”‚ Same 2KB page                  â”‚
â”‚ SJMP rel              â”‚  2   â”‚ -128 to +127 bytes             â”‚
â”‚ JMP @A+DPTR           â”‚  1   â”‚ Indirect (A + DPTR)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Examples:
â”€â”€â”€â”€â”€â”€â”€â”€â”€
    LJMP FAR_LABEL      ; Jump anywhere in 64KB
    AJMP NEAR_LABEL     ; Jump within 2KB page
    SJMP SHORT_LABEL    ; Jump within Â±127 bytes
    
    ; Computed jump (switch-case)
    MOV DPTR, #JUMP_TABLE
    MOV A, CASE_NUM
    RL A                ; Multiply by 2 (AJMP is 2 bytes)
    JMP @A+DPTR
    
JUMP_TABLE:
    AJMP CASE0
    AJMP CASE1
    AJMP CASE2
```

### 6.2 Conditional Jumps

```
CONDITIONAL JUMP INSTRUCTIONS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Instruction           â”‚ Condition                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ JZ rel                â”‚ Jump if A = 0                          â”‚
â”‚ JNZ rel               â”‚ Jump if A â‰  0                          â”‚
â”‚ JC rel                â”‚ Jump if CY = 1                         â”‚
â”‚ JNC rel               â”‚ Jump if CY = 0                         â”‚
â”‚ JB bit, rel           â”‚ Jump if bit = 1                        â”‚
â”‚ JNB bit, rel          â”‚ Jump if bit = 0                        â”‚
â”‚ JBC bit, rel          â”‚ Jump if bit = 1, then clear           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ CJNE A, direct, rel   â”‚ Compare A with direct, jump if â‰       â”‚
â”‚ CJNE A, #data, rel    â”‚ Compare A with data, jump if â‰         â”‚
â”‚ CJNE Rn, #data, rel   â”‚ Compare Rn with data, jump if â‰        â”‚
â”‚ CJNE @Ri, #data, rel  â”‚ Compare [Ri] with data, jump if â‰      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ DJNZ Rn, rel          â”‚ Decrement Rn, jump if â‰  0             â”‚
â”‚ DJNZ direct, rel      â”‚ Decrement direct, jump if â‰  0         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Examples:
â”€â”€â”€â”€â”€â”€â”€â”€â”€
    ; Loop with counter
    MOV R7, #10
LOOP:
    ; ... loop body ...
    DJNZ R7, LOOP       ; Repeat 10 times
    
    ; Compare and branch
    CJNE A, #'Y', NOT_YES
    ; Handle 'Y' case
NOT_YES:
    JC LESS_THAN        ; CY=1 if A < data
    ; A >= 'Y'
    
    ; Wait for non-zero input
WAIT_DATA:
    MOV A, P1
    JZ WAIT_DATA        ; Loop while A = 0
```

### 6.3 Call and Return

```
SUBROUTINE INSTRUCTIONS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Instruction           â”‚Bytes â”‚ Operation                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ LCALL addr16          â”‚  3   â”‚ Push PC, jump to addr16        â”‚
â”‚ ACALL addr11          â”‚  2   â”‚ Push PC, jump within 2KB page  â”‚
â”‚ RET                   â”‚  1   â”‚ Pop PC (return from subroutine)â”‚
â”‚ RETI                  â”‚  1   â”‚ Pop PC, re-enable interrupts   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Call Mechanism:
    1. SP++; [SP] = PC low byte
    2. SP++; [SP] = PC high byte  
    3. PC = subroutine address

Examples:
â”€â”€â”€â”€â”€â”€â”€â”€â”€
    LCALL DELAY_1MS     ; Call subroutine anywhere
    ACALL NEAR_SUB      ; Call within 2KB page
    
DELAY_1MS:
    MOV R7, #200
L1: MOV R6, #2
L2: DJNZ R6, L2
    DJNZ R7, L1
    RET                 ; Return to caller
    
; Interrupt Service Routine
TIMER0_ISR:
    PUSH ACC            ; Save registers
    PUSH PSW
    ; ... handle interrupt ...
    POP PSW             ; Restore registers
    POP ACC
    RETI                ; Return from interrupt
```

### 6.4 NOP Instruction

```
NOP - NO OPERATION
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Instruction           â”‚ Operation                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ NOP                   â”‚ No operation (1 machine cycle delay)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Uses:
â€¢ Fine-tuning timing delays
â€¢ Placeholder for patching
â€¢ Timing adjustment in critical code

Example:
    ; Small delay between port writes
    MOV P1, #55H
    NOP                 ; 1 Âµs delay @ 12MHz
    NOP                 ; Another 1 Âµs
    MOV P1, #0AAH
```

---

## ğŸ“‹ Summary Table

| Category | Count | Key Instructions |
|----------|-------|------------------|
| Data Transfer | 28 | MOV, MOVX, MOVC, PUSH, POP, XCH |
| Arithmetic | 24 | ADD, ADDC, SUBB, INC, DEC, MUL, DIV, DA |
| Logical | 25 | ANL, ORL, XRL, CLR, CPL, RL, RR, SWAP |
| Boolean/Bit | 17 | SETB, CLR, CPL, MOV C, ANL C, ORL C, JB, JNB |
| Program Control | 17 | LJMP, SJMP, LCALL, RET, JZ, DJNZ, CJNE |

---

## â“ Quick Revision Questions

1. **What is the difference between ADD and ADDC?**
   <details>
   <summary>Show Answer</summary>
   ADD performs simple addition: A = A + operand. ADDC adds with carry: A = A + operand + CY. Use ADDC for multi-byte addition where carry from lower bytes must be included in higher byte calculations.
   </details>

2. **Why must you clear CY before SUBB for single subtraction?**
   <details>
   <summary>Show Answer</summary>
   SUBB always subtracts the carry flag: A = A - operand - CY. If CY=1 from a previous operation, the result will be wrong. CLR C ensures borrow is 0 for the first subtraction in a sequence.
   </details>

3. **What happens when MUL AB executes with A=50 and B=10?**
   <details>
   <summary>Show Answer</summary>
   50 Ã— 10 = 500 = 01F4H. After MUL AB: A = F4H (low byte), B = 01H (high byte), CY = 0 (always cleared), OV = 1 (because result > 255).
   </details>

4. **How do RLC and RL differ?**
   <details>
   <summary>Show Answer</summary>
   RL rotates 8 bits within A only (bit 7 â†’ bit 0). RLC rotates 9 bits through carry (bit 7 â†’ CY â†’ bit 0). RLC is useful for multi-byte shifts and accessing individual bits.
   </details>

5. **What does DJNZ R7, LOOP do?**
   <details>
   <summary>Show Answer</summary>
   Decrement and Jump if Not Zero: R7 = R7 - 1, then jump to LOOP if R7 â‰  0. This is the primary loop control instruction, combining decrement and conditional jump in one instruction.
   </details>

6. **What is the difference between RET and RETI?**
   <details>
   <summary>Show Answer</summary>
   Both pop the return address from stack to PC. RETI additionally signals end of interrupt service, re-enabling the interrupt system. Use RET for normal subroutines, RETI only for interrupt service routines.
   </details>

---

## ğŸ§­ Navigation

| Previous | Up | Next |
|----------|-----|------|
| [Unit 8 Index](README.md) | [Unit 8 Index](README.md) | [8.2 Timer Programming](02-timer-programming.md) |

---

*[â† Unit 8 Index](README.md) | [Next: Timer Programming â†’](02-timer-programming.md)*
