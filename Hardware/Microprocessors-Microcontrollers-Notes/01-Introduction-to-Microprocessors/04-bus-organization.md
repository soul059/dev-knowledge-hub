# Chapter 1.4: Bus Organization

## ğŸ“š Chapter Overview

The bus system is the communication backbone of any microprocessor-based system. This chapter covers the types of buses, their characteristics, and how they enable communication between the CPU, memory, and I/O devices.

---

## ğŸ¯ Learning Objectives

After completing this chapter, you will be able to:
- Define what a bus is and explain its importance
- Identify the three main types of buses
- Understand bus timing and protocols
- Explain multiplexed vs non-multiplexed buses
- Describe bus arbitration methods

---

## 1. Introduction to Buses

### 1.1 What is a Bus?

A **bus** is a group of parallel wires (conductors) that carry digital signals between different components of a computer system. It serves as a shared communication pathway.

```
BUS CONCEPT:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         BUS SYSTEM                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚   â”‚         â”‚       â”‚                         â”‚       â”‚         â”‚ â”‚
â”‚   â”‚   CPU   â”‚â—„â”€â”€â”€â”€â”€â–ºâ”‚         BUS             â”‚â—„â”€â”€â”€â”€â”€â–ºâ”‚ Memory  â”‚ â”‚
â”‚   â”‚         â”‚       â”‚   (Parallel Wires)      â”‚       â”‚         â”‚ â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚                         â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                     â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•    â”‚                   â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•    â”‚       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚   â”‚         â”‚       â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•    â”‚       â”‚         â”‚ â”‚
â”‚   â”‚   I/O   â”‚â—„â”€â”€â”€â”€â”€â–ºâ”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•    â”‚â—„â”€â”€â”€â”€â”€â–ºâ”‚   DMA   â”‚ â”‚
â”‚   â”‚ Device  â”‚       â”‚                         â”‚       â”‚         â”‚ â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                     â”‚
â”‚   Key Characteristics:                                              â”‚
â”‚   â€¢ Shared communication medium                                     â”‚
â”‚   â€¢ Parallel signal transmission                                    â”‚
â”‚   â€¢ Standardized electrical specifications                          â”‚
â”‚   â€¢ Defined timing protocols                                        â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 Bus Characteristics

| Parameter | Description |
|-----------|-------------|
| **Bus Width** | Number of parallel lines (8-bit, 16-bit, 32-bit, etc.) |
| **Bus Speed** | Clock frequency at which bus operates |
| **Bandwidth** | Data transfer rate = Width Ã— Speed |
| **Direction** | Unidirectional or Bidirectional |
| **Protocol** | Rules for communication timing and control |

---

## 2. Types of Buses

### 2.1 The Three Main Buses

Every microprocessor system has three fundamental buses:

```
THREE-BUS ARCHITECTURE:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                      â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚    â”‚                    ADDRESS BUS (16-bit)                    â”‚    â”‚
â”‚    â”‚              â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â–º                 â”‚    â”‚
â”‚    â”‚                    (Unidirectional)                        â”‚    â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                              â”‚                                       â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚    â”‚                    DATA BUS (8-bit)                        â”‚    â”‚
â”‚    â”‚              â—„â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â–º                 â”‚    â”‚
â”‚    â”‚                    (Bidirectional)                         â”‚    â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                              â”‚                                       â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚    â”‚                   CONTROL BUS                              â”‚    â”‚
â”‚    â”‚         RD  WR  IO/M  ALE  HOLD  HLDA  INTR  INTA          â”‚    â”‚
â”‚    â”‚              â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º                  â”‚    â”‚
â”‚    â”‚            (Signals in both directions)                    â”‚    â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                              â”‚                                       â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚         â”‚                    â”‚                    â”‚                 â”‚
â”‚         â–¼                    â–¼                    â–¼                 â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚    â”‚         â”‚          â”‚         â”‚          â”‚         â”‚           â”‚
â”‚    â”‚   CPU   â”‚          â”‚ Memory  â”‚          â”‚   I/O   â”‚           â”‚
â”‚    â”‚         â”‚          â”‚         â”‚          â”‚         â”‚           â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 Address Bus

The **Address Bus** carries memory or I/O addresses from the CPU to memory and I/O devices.

```
ADDRESS BUS DETAILS:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ADDRESS BUS                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                   â”‚
â”‚   Direction: CPU â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º Memory/I/O     â”‚
â”‚              (Unidirectional - CPU is always the source)         â”‚
â”‚                                                                   â”‚
â”‚   8085 (16-bit Address Bus):                                     â”‚
â”‚   â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
â”‚   â”‚A15â”‚A14â”‚A13â”‚A12â”‚A11â”‚A10â”‚A9 â”‚A8 â”‚A7 â”‚A6 â”‚A5 â”‚A4 â”‚A3 â”‚A2 â”‚A1 â”‚A0 â”‚
â”‚   â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜
â”‚    MSB                                                         LSB
â”‚                                                                   â”‚
â”‚   Addressable Memory = 2^n (where n = number of address lines)  â”‚
â”‚                                                                   â”‚
â”‚   Examples:                                                       â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚ Processor  â”‚ Address Bus  â”‚ Addressable Memory           â”‚   â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚   â”‚ 8085       â”‚ 16 bits      â”‚ 2^16 = 64 KB                 â”‚   â”‚
â”‚   â”‚ 8086       â”‚ 20 bits      â”‚ 2^20 = 1 MB                  â”‚   â”‚
â”‚   â”‚ 80386      â”‚ 32 bits      â”‚ 2^32 = 4 GB                  â”‚   â”‚
â”‚   â”‚ x86-64     â”‚ 48 bits*     â”‚ 2^48 = 256 TB                â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚   *Physical address space may differ from virtual                â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Address Calculation Formula:**

$$\text{Addressable Memory} = 2^n \text{ bytes}$$

Where $n$ = number of address lines

| Address Lines | Calculation | Memory Capacity |
|---------------|-------------|-----------------|
| 8 | $2^8$ | 256 bytes |
| 16 | $2^{16}$ | 64 KB |
| 20 | $2^{20}$ | 1 MB |
| 24 | $2^{24}$ | 16 MB |
| 32 | $2^{32}$ | 4 GB |

### 2.3 Data Bus

The **Data Bus** carries data between the CPU, memory, and I/O devices.

```
DATA BUS DETAILS:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          DATA BUS                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                   â”‚
â”‚   Direction: CPU â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º Memory/I/O      â”‚
â”‚              (Bidirectional - data flows both ways)              â”‚
â”‚                                                                   â”‚
â”‚   8085 (8-bit Data Bus):                                         â”‚
â”‚   â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”                              â”‚
â”‚   â”‚D7 â”‚D6 â”‚D5 â”‚D4 â”‚D3 â”‚D2 â”‚D1 â”‚D0 â”‚                              â”‚
â”‚   â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜                              â”‚
â”‚                                                                   â”‚
â”‚   Data Transfer Scenarios:                                       â”‚
â”‚                                                                   â”‚
â”‚   READ Operation (Memory/IO â†’ CPU):                              â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”  â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚
â”‚   â”‚ CPU â”‚       DATA        â”‚ Memory â”‚                          â”‚
â”‚   â””â”€â”€â”€â”€â”€â”˜                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚
â”‚                                                                   â”‚
â”‚   WRITE Operation (CPU â†’ Memory/IO):                            â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚
â”‚   â”‚ CPU â”‚       DATA        â”‚ Memory â”‚                          â”‚
â”‚   â””â”€â”€â”€â”€â”€â”˜                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚
â”‚                                                                   â”‚
â”‚   Data Bus Width vs Processing Speed:                            â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚   â”‚ Processor  â”‚ Data Bus   â”‚ Comment                      â”‚    â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚   â”‚ 8085       â”‚ 8 bits     â”‚ Transfers 1 byte/cycle       â”‚    â”‚
â”‚   â”‚ 8086       â”‚ 16 bits    â”‚ Transfers 2 bytes/cycle      â”‚    â”‚
â”‚   â”‚ 80386      â”‚ 32 bits    â”‚ Transfers 4 bytes/cycle      â”‚    â”‚
â”‚   â”‚ Pentium    â”‚ 64 bits    â”‚ Transfers 8 bytes/cycle      â”‚    â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.4 Control Bus

The **Control Bus** carries control signals that coordinate and synchronize all operations.

```
CONTROL BUS DETAILS:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        CONTROL BUS                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                   â”‚
â”‚   Control Signals from CPU (Output):                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                                                          â”‚   â”‚
â”‚   â”‚   RDÌ„ (Read)        â”€â”€â”€â”€â”€â”€â–º Active low, initiates read  â”‚   â”‚
â”‚   â”‚   WRÌ„ (Write)       â”€â”€â”€â”€â”€â”€â–º Active low, initiates write â”‚   â”‚
â”‚   â”‚   IO/MÌ„            â”€â”€â”€â”€â”€â”€â–º High=I/O, Low=Memory         â”‚   â”‚
â”‚   â”‚   ALE (Addr Latch) â”€â”€â”€â”€â”€â”€â–º Latches lower address        â”‚   â”‚
â”‚   â”‚   S0, S1           â”€â”€â”€â”€â”€â”€â–º Status signals               â”‚   â”‚
â”‚   â”‚                                                          â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                   â”‚
â”‚   Control Signals to CPU (Input):                                â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                                                          â”‚   â”‚
â”‚   â”‚   READY            â—„â”€â”€â”€â”€â”€â”€ Memory/IO ready signal       â”‚   â”‚
â”‚   â”‚   HOLD             â—„â”€â”€â”€â”€â”€â”€ DMA request                  â”‚   â”‚
â”‚   â”‚   INTR             â—„â”€â”€â”€â”€â”€â”€ Interrupt request            â”‚   â”‚
â”‚   â”‚   RESET            â—„â”€â”€â”€â”€â”€â”€ System reset                 â”‚   â”‚
â”‚   â”‚   TRAP, RST x.x    â—„â”€â”€â”€â”€â”€â”€ Hardware interrupts          â”‚   â”‚
â”‚   â”‚                                                          â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                   â”‚
â”‚   Bidirectional Control:                                         â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚   HLDA             â—„â”€â”€â”€â”€â”€â–º Hold acknowledge             â”‚   â”‚
â”‚   â”‚   INTA             â—„â”€â”€â”€â”€â”€â–º Interrupt acknowledge        â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.5 Control Signal Summary Table

| Signal | Direction | Description |
|--------|-----------|-------------|
| **RDÌ„** | Output | Memory/IO Read (active low) |
| **WRÌ„** | Output | Memory/IO Write (active low) |
| **IO/MÌ„** | Output | IO/Memory Select (1=IO, 0=Memory) |
| **ALE** | Output | Address Latch Enable |
| **S0, S1** | Output | Status signals for machine cycle |
| **READY** | Input | Wait state control |
| **HOLD** | Input | DMA request |
| **HLDA** | Output | Hold Acknowledge |
| **INTR** | Input | Maskable interrupt request |
| **INTA** | Output | Interrupt Acknowledge |
| **RESET IN** | Input | System reset |
| **RESET OUT** | Output | Reset signal to peripherals |

---

## 3. Bus Timing and Protocols

### 3.1 Synchronous Bus Timing

In synchronous buses, all operations are synchronized to a common clock signal.

```
SYNCHRONOUS BUS TIMING (Memory Read):

                         Machine Cycle (M1 - Opcode Fetch)
     â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º
                                                                   
     â”‚        T1       â”‚        T2       â”‚        T3       â”‚      
     â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚      
     â”‚                 â”‚                 â”‚                 â”‚      
CLK  â”Œâ”€â”€â”  â”Œâ”€â”€â”  â”Œâ”€â”€â”  â”Œâ”€â”€â”  â”Œâ”€â”€â”  â”Œâ”€â”€â”  â”Œâ”€â”€â”  â”Œâ”€â”€â”  â”Œâ”€â”€â”  â”Œâ”€â”€â”
     â”‚  â”‚  â”‚  â”‚  â”‚  â”‚  â”‚  â”‚  â”‚  â”‚  â”‚  â”‚  â”‚  â”‚  â”‚  â”‚  â”‚  â”‚  â”‚  â”‚
   â”€â”€â”˜  â””â”€â”€â”˜  â””â”€â”€â”˜  â””â”€â”€â”˜  â””â”€â”€â”˜  â””â”€â”€â”˜  â””â”€â”€â”˜  â””â”€â”€â”˜  â””â”€â”€â”˜  â””â”€â”€â”˜  â””â”€â”€
                                                                   
ALE       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                              
   â”€â”€â”€â”€â”€â”€â”€â”¤         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                              
                                                                   
A15-A8  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  Valid Higher Address A15-A8  â”œâ”€â”€â”€â”€â”€â”€
          â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•§â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•    
                                                                   
AD7-AD0   â”‚â—„â”€ A7-A0 â”€â–ºâ”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ D7-D0 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚    
        â”€â”€â•«â•â•â•â•â•â•â•â•â•â•â•â•«â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•«â”€â”€    
          â”‚  Address  â”‚              Data In                â”‚      
                                                                   
RDÌ„         â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€    
                               â”‚                    â”‚              
                               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              
                                                                   
IO/MÌ„       â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    
           Low (Memory operation)                                  

TIMING NOTES:
â€¢ T1: Address output, ALE high to latch address
â€¢ T2: RD goes low, memory access begins
â€¢ T3: Data read from memory, RD returns high
```

### 3.2 Asynchronous Bus Timing

Asynchronous buses use handshaking signals instead of a common clock.

```
ASYNCHRONOUS BUS TIMING (Handshaking):

     CPU                                        Memory/IO
      â”‚                                             â”‚
      â”‚  1. Address Valid                           â”‚
      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
      â”‚                                             â”‚
      â”‚  2. Request (RDÌ„ or WRÌ„)                     â”‚
      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
      â”‚                                             â”‚
      â”‚  3. Acknowledge (READY)                     â”‚
      â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
      â”‚                                             â”‚
      â”‚  4. Data Transfer                           â”‚
      â”‚â—„â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â–ºâ”‚
      â”‚                                             â”‚
      â”‚  5. Release Signals                         â”‚
      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
      â”‚                                             â”‚


HANDSHAKE TIMING DIAGRAM:

Address  â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€
                â”‚      VALID ADDRESS              â”‚
                â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                                                   
RDÌ„/WRÌ„    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
                        â”‚                    â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                   
READY    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
                                     â”‚       â”‚
                        â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€
                                                   
Data     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
                                     â”‚ VALID â”‚
                                     â•â•â•â•â•â•â•â•
```

---

## 4. Multiplexed Bus

### 4.1 Non-Multiplexed vs Multiplexed Bus

```
BUS MULTIPLEXING COMPARISON:

NON-MULTIPLEXED BUS (e.g., 8080):
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
                                        
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         
    â”‚         â”‚  A0-A15  (16 lines)     
    â”‚   CPU   â”‚â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â–º  Address
    â”‚         â”‚                         
    â”‚         â”‚  D0-D7   (8 lines)      
    â”‚         â”‚â—„â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â–º  Data
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         
                                        
    Total Pins for Address + Data = 24  


MULTIPLEXED BUS (e.g., 8085):
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
                                        
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         
    â”‚         â”‚  A8-A15  (8 lines)      
    â”‚   CPU   â”‚â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â–º  Higher Address
    â”‚         â”‚                         
    â”‚         â”‚  AD0-AD7 (8 lines)      
    â”‚         â”‚â—„â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â–º  Lower Addr / Data
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         
         â”‚                              
         â”‚ ALE (Address Latch Enable)   
         â–¼                              
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         
    â”‚  Latch  â”‚                         
    â”‚ (74373) â”‚â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â–º  A0-A7
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         
                                        
    Total Pins for Address + Data = 16  
    (Saves 8 pins!)                     
```

### 4.2 Address Demultiplexing Circuit

```
8085 ADDRESS DEMULTIPLEXING:

                              8085
                           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                           â”‚         â”‚
                  A15 â—„â”€â”€â”€â”€â”¤ A15     â”‚
                  A14 â—„â”€â”€â”€â”€â”¤ A14     â”‚
                  A13 â—„â”€â”€â”€â”€â”¤ A13     â”‚
    Higher        A12 â—„â”€â”€â”€â”€â”¤ A12     â”‚
    Address       A11 â—„â”€â”€â”€â”€â”¤ A11     â”‚    These lines are 
    (Direct)      A10 â—„â”€â”€â”€â”€â”¤ A10     â”‚    dedicated address
                  A9  â—„â”€â”€â”€â”€â”¤ A9      â”‚    (not multiplexed)
                  A8  â—„â”€â”€â”€â”€â”¤ A8      â”‚
                           â”‚         â”‚
                           â”‚ AD7     â”œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â–º D7
                           â”‚ AD6     â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â–º D6
    Multiplexed            â”‚ AD5     â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â–º D5
    Address/Data           â”‚ AD4     â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â–º D4
                           â”‚ AD3     â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â–º D3
                           â”‚ AD2     â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â–º D2
                           â”‚ AD1     â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â–º D1
                           â”‚ AD0     â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â–º D0
                           â”‚         â”‚    â”‚
                           â”‚ ALE     â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”
                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚    â”‚
                                          â”‚    â”‚
                                          â–¼    â”‚
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
                              â”‚   74LS373   â”‚  â”‚
                              â”‚   Latch     â”‚â—„â”€â”˜
                              â”‚             â”‚
                              â”‚ Q7  Q6...Q0 â”‚
                              â””â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”˜
                                 â”‚  â”‚  â”‚  â”‚
                                 â–¼  â–¼  â–¼  â–¼
                                A7 A6 ...A0
                               (Latched Lower Address)

TIMING FOR DEMULTIPLEXING:

           T1 state
    â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º
                       
ALE    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     
    â”€â”€â”€â”¤         â”œâ”€â”€â”€â”€â”€  ALE pulses high during T1
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     
                       
AD0-7  â”‚â—„â”€ A0-A7 â”€â–ºâ”‚â—„â”€â”€â”€â”€â”€ D0-D7 â”€â”€â”€â”€â”€â–º
    â”€â”€â”€â•«â•â•â•â•â•â•â•â•â•â•â•â•«â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•    
       â”‚  Address  â”‚      Data          
       â”‚           â”‚                    
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
            â”‚                           
            â–¼ Latched by 74373          
       A0-A7 remains stable            
```

### 4.3 74LS373 Latch Operation

```
74LS373 TRANSPARENT LATCH:

                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           D0  â”€â”€â”€â”€â–ºâ”‚1D            1Q â”‚â”€â”€â”€â”€â–º Q0
           D1  â”€â”€â”€â”€â–ºâ”‚2D            2Q â”‚â”€â”€â”€â”€â–º Q1
           D2  â”€â”€â”€â”€â–ºâ”‚3D            3Q â”‚â”€â”€â”€â”€â–º Q2
           D3  â”€â”€â”€â”€â–ºâ”‚4D            4Q â”‚â”€â”€â”€â”€â–º Q3
           D4  â”€â”€â”€â”€â–ºâ”‚5D            5Q â”‚â”€â”€â”€â”€â–º Q4
           D5  â”€â”€â”€â”€â–ºâ”‚6D            6Q â”‚â”€â”€â”€â”€â–º Q5
           D6  â”€â”€â”€â”€â–ºâ”‚7D            7Q â”‚â”€â”€â”€â”€â–º Q6
           D7  â”€â”€â”€â”€â–ºâ”‚8D            8Q â”‚â”€â”€â”€â”€â–º Q7
                    â”‚                 â”‚
           ALE â”€â”€â”€â”€â–ºâ”‚LE (Latch Enable)â”‚
           GND â”€â”€â”€â”€â–ºâ”‚OE (Output Enableâ”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

TRUTH TABLE:
â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  LE  â”‚  OE  â”‚         Output          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  H   â”‚  L   â”‚  Q follows D (transparent)â”‚
â”‚  L   â”‚  L   â”‚  Q = latched value      â”‚
â”‚  X   â”‚  H   â”‚  High impedance         â”‚
â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

When ALE goes from HIGH to LOW:
â€¢ Data on D0-D7 is latched
â€¢ Q0-Q7 hold the latched address
â€¢ Address remains stable throughout machine cycle
```

---

## 5. Bus Arbitration

### 5.1 Need for Bus Arbitration

When multiple devices need to use the bus, a mechanism is needed to decide who gets access.

```
BUS ARBITRATION SCENARIO:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                  â”‚
â”‚   Multiple Bus Masters Want to Access Bus                       â”‚
â”‚                                                                  â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚
â”‚   â”‚ CPU â”‚     â”‚ DMA â”‚     â”‚ Co-Proc â”‚                          â”‚
â”‚   â””â”€â”€â”¬â”€â”€â”˜     â””â”€â”€â”¬â”€â”€â”˜     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                          â”‚
â”‚      â”‚           â”‚              â”‚                               â”‚
â”‚      â”‚  Request  â”‚    Request   â”‚  Request                     â”‚
â”‚      â–¼           â–¼              â–¼                               â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚   â”‚            BUS ARBITER                   â”‚                  â”‚
â”‚   â”‚    (Decides who gets bus access)         â”‚                  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚                        â”‚                                        â”‚
â”‚                        â–¼                                        â”‚
â”‚   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• SYSTEM BUS â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                 â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 Bus Arbitration Methods

```
BUS ARBITRATION SCHEMES:

1. DAISY CHAIN (Centralized):
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
                                  
   Bus      â”Œâ”€â”€â”€â”€â”€â”€â”              
   Grant    â”‚      â”‚â”€â”€â–ºDev 1â”€â”€â–ºDev 2â”€â”€â–ºDev 3
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºArbiterâ”‚              
            â”‚      â”‚              
   Bus Req  â”‚      â”‚â—„â”€â”€ OR of all requests
   â—„â”€â”€â”€â”€â”€â”€â”€â”€â”¤      â”‚              
            â””â”€â”€â”€â”€â”€â”€â”˜              
                                  
   Priority: Dev 1 > Dev 2 > Dev 3
   (Closer to arbiter = higher priority)


2. INDEPENDENT REQUESTS (Centralized):
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
                                      
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              
   BR1 â”€â”€â”€â”€â–ºâ”‚          â”‚â”€â”€â”€â”€â–º BG1     
   BR2 â”€â”€â”€â”€â–ºâ”‚  Arbiter â”‚â”€â”€â”€â”€â–º BG2     
   BR3 â”€â”€â”€â”€â–ºâ”‚          â”‚â”€â”€â”€â”€â–º BG3     
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              
                                      
   Each device has separate Request (BR) and Grant (BG) lines
   Arbiter decides based on priority


3. POLLING (Software):
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
                                  
   CPU polls each device in sequence:
                                  
   for device in [Dev1, Dev2, Dev3]:
       if device.needs_bus():
           grant_bus(device)
           break
                                  
   Simple but slow (software overhead)


4. DISTRIBUTED ARBITRATION:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
                                  
   Each device has its own arbiter logic
   Devices communicate priority among themselves
   No central arbiter needed
   Used in high-performance systems (PCI)
```

### 5.3 8085 DMA Operation (HOLD/HLDA)

```
8085 DMA BUS ARBITRATION:

                     8085
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚         â”‚
   HOLD â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚         â”‚        (DMA controller requests bus)
                  â”‚         â”‚
   HLDA â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚         â”‚        (CPU acknowledges, releases bus)
                  â”‚         â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

TIMING DIAGRAM:

CLK     â”Œâ”€â” â”Œâ”€â” â”Œâ”€â” â”Œâ”€â” â”Œâ”€â” â”Œâ”€â” â”Œâ”€â” â”Œâ”€â” â”Œâ”€â” â”Œâ”€â” â”Œâ”€â” â”Œâ”€â”
      â”€â”€â”˜ â””â”€â”˜ â””â”€â”˜ â””â”€â”˜ â””â”€â”˜ â””â”€â”˜ â””â”€â”˜ â””â”€â”˜ â””â”€â”˜ â””â”€â”˜ â””â”€â”˜ â””â”€â”˜ â””â”€

HOLD         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”€â”€â”€â”€â”€â”€â”€â”¤                                       â”œâ”€â”€â”€â”€
             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

HLDA                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                           â”œâ”€â”€â”€â”€â”€â”€â”€â”€
                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Bus         â”‚â—„â”€â”€â”€ CPU has bus â”€â”€â”€â–ºâ”‚â—„â”€ DMA has bus â”€â–ºâ”‚â—„â”€CPUâ”€â–ºâ”‚
      â”€â”€â”€â”€â”€â”€â•«â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•«â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•«â•â•â•â•â•â•â•â•«â”€â”€

SEQUENCE:
1. DMA controller asserts HOLD
2. CPU completes current machine cycle
3. CPU asserts HLDA (tri-states buses)
4. DMA controller takes over buses
5. DMA transfer occurs
6. DMA de-asserts HOLD
7. CPU de-asserts HLDA, resumes operation
```

---

## 6. System Bus Architecture

### 6.1 Complete System Bus Connection

```
COMPLETE 8085 BUS SYSTEM:

                              +5V   GND
                               â”‚     â”‚
                               â–¼     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                   â”‚
â”‚                           8085 CPU                                â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚    â”‚  CLK  A15  A14  A13  A12  A11  A10  A9  A8             â”‚   â”‚
â”‚    â”‚   â”‚    â”‚    â”‚    â”‚    â”‚    â”‚    â”‚   â”‚   â”‚              â”‚   â”‚
â”‚    â”‚  AD7  AD6  AD5  AD4  AD3  AD2  AD1 AD0               â”‚   â”‚
â”‚    â”‚   â”‚    â”‚    â”‚    â”‚    â”‚    â”‚    â”‚   â”‚                  â”‚   â”‚
â”‚    â”‚  RD   WR  IO/M  ALE  HOLD HLDA INTR INTA RST          â”‚   â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚         â”‚    â”‚    â”‚    â”‚     â”‚    â”‚    â”‚    â”‚    â”‚               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚    â”‚    â”‚    â”‚     â”‚    â”‚    â”‚    â”‚    â”‚
          â–¼    â–¼    â–¼    â–¼     â–¼    â–¼    â–¼    â–¼    â–¼
     â•â•â•â•â•â•ªâ•â•â•â•â•ªâ•â•â•â•â•ªâ•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                    â”‚                                    
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”                           
            â”‚    74LS373    â”‚                           
            â”‚    Latch      â”‚â—„â”€â”€â”€â”€ ALE                  
            â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                           
                    â”‚ A0-A7 (Latched)                   
                    â–¼                                    
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
              Address Bus (A0-A15)                      
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                    â”‚                                    
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             
         â”‚          â”‚          â”‚          â”‚             
         â–¼          â–¼          â–¼          â–¼             
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”       
    â”‚  ROM    â”‚â”‚  RAM    â”‚â”‚  8255   â”‚â”‚  8253   â”‚       
    â”‚  2764   â”‚â”‚  6264   â”‚â”‚  PPI    â”‚â”‚  Timer  â”‚       
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       
                                                        
     Data Bus (D0-D7) â—„â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â–º
                                                        
     Control: RD, WR, IO/M â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ 
```

---

## ğŸ“‹ Summary Table

| Bus Type | Width | Direction | Function |
|----------|-------|-----------|----------|
| **Address Bus** | 16-bit (8085) | Unidirectional (CPUâ†’) | Carries memory/IO addresses |
| **Data Bus** | 8-bit (8085) | Bidirectional | Carries data |
| **Control Bus** | Multiple signals | Both directions | Synchronizes operations |

| Signal | Type | Purpose |
|--------|------|---------|
| ALE | Output | Address Latch Enable for demux |
| RDÌ„ | Output | Memory/IO Read strobe |
| WRÌ„ | Output | Memory/IO Write strobe |
| IO/MÌ„ | Output | Select I/O (H) or Memory (L) |
| HOLD | Input | DMA bus request |
| HLDA | Output | DMA bus acknowledge |
| READY | Input | Wait state insertion |

---

## â“ Quick Revision Questions

1. **What are the three main buses in a microprocessor system and their functions?**
   <details>
   <summary>Show Answer</summary>
   Address Bus: Carries memory/IO addresses (unidirectional, 16-bit in 8085). Data Bus: Carries data between CPU and memory/IO (bidirectional, 8-bit in 8085). Control Bus: Carries timing and control signals (RD, WR, IO/M, etc.).
   </details>

2. **Calculate the maximum addressable memory for a processor with 20 address lines.**
   <details>
   <summary>Show Answer</summary>
   Maximum addressable memory = 2^20 = 1,048,576 bytes = 1 MB. This is the memory capacity of the Intel 8086 processor.
   </details>

3. **Why is bus multiplexing used in 8085? What are its advantages and disadvantages?**
   <details>
   <summary>Show Answer</summary>
   Multiplexing shares the same pins for lower address (A0-A7) and data (D0-D7), reducing the pin count from 40 to 32. Advantage: Smaller IC package, lower cost. Disadvantage: Slower operation due to time-division, requires external latch (74LS373) for address demultiplexing.
   </details>

4. **Explain the role of ALE signal in 8085.**
   <details>
   <summary>Show Answer</summary>
   ALE (Address Latch Enable) is a positive pulse during T1 of each machine cycle. When ALE is high, the lower address byte (A0-A7) is present on the multiplexed AD0-AD7 bus. This pulse is used to latch the address in an external latch (74LS373) before data appears on the same lines.
   </details>

5. **What is the difference between synchronous and asynchronous buses?**
   <details>
   <summary>Show Answer</summary>
   Synchronous buses use a common clock signal to synchronize all operations; timing is predetermined. Asynchronous buses use handshaking signals (request-acknowledge) with no common clock, allowing variable-speed devices to communicate.
   </details>

6. **Describe the HOLD-HLDA sequence in 8085 for DMA operations.**
   <details>
   <summary>Show Answer</summary>
   1) DMA controller asserts HOLD to request bus. 2) CPU completes current machine cycle. 3) CPU tri-states its buses and asserts HLDA. 4) DMA controller takes over buses for data transfer. 5) After transfer, DMA de-asserts HOLD. 6) CPU de-asserts HLDA and resumes operation.
   </details>

---

## ğŸ§­ Navigation

| Previous | Up | Next |
|----------|-----|------|
| [1.3 Basic Microprocessor Architecture](03-basic-microprocessor-architecture.md) | [Unit 1 Index](README.md) | [Unit 2: 8085 Microprocessor](../02-8085-Microprocessor/README.md) |

---

*[â† Previous: Basic Microprocessor Architecture](03-basic-microprocessor-architecture.md) | [Next: Unit 2 - 8085 Microprocessor â†’](../02-8085-Microprocessor/README.md)*
