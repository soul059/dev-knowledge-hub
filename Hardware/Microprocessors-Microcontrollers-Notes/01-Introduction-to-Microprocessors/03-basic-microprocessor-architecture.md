# Chapter 1.3: Basic Microprocessor Architecture

## ğŸ“š Chapter Overview

This chapter explores the fundamental building blocks that make up a microprocessor. Understanding these components and their interactions is essential for comprehending how instructions are executed and data is processed.

---

## ğŸ¯ Learning Objectives

After completing this chapter, you will be able to:
- Identify and explain the function of each microprocessor component
- Understand the data flow within a microprocessor
- Explain the role of ALU, registers, and control unit
- Describe the fetch-decode-execute cycle
- Draw and interpret microprocessor block diagrams

---

## 1. Generic Microprocessor Architecture

### 1.1 Fundamental Components

Every microprocessor consists of three main functional units:

```
BASIC MICROPROCESSOR ARCHITECTURE:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        MICROPROCESSOR                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                    CONTROL UNIT (CU)                        â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚  â”‚  â”‚  Instruction â”‚  â”‚   Timing &   â”‚  â”‚    Control      â”‚   â”‚ â”‚
â”‚  â”‚  â”‚   Decoder    â”‚  â”‚   Sequencer  â”‚  â”‚    Signals      â”‚   â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                              â”‚                                    â”‚
â”‚                              â–¼                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                  REGISTER ARRAY                             â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚
â”‚  â”‚  â”‚ ACC â”‚ â”‚Temp â”‚ â”‚ GP  â”‚ â”‚ PC  â”‚ â”‚ SP  â”‚ â”‚   Flags     â”‚  â”‚ â”‚
â”‚  â”‚  â”‚     â”‚ â”‚ Reg â”‚ â”‚Regs â”‚ â”‚     â”‚ â”‚     â”‚ â”‚   Register  â”‚  â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                              â”‚                                    â”‚
â”‚                              â–¼                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚              ARITHMETIC LOGIC UNIT (ALU)                    â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚ â”‚
â”‚  â”‚  â”‚   Arithmetic     â”‚      â”‚        Logic             â”‚    â”‚ â”‚
â”‚  â”‚  â”‚   Operations     â”‚      â”‚      Operations          â”‚    â”‚ â”‚
â”‚  â”‚  â”‚   ADD, SUB, INC  â”‚      â”‚   AND, OR, XOR, NOT      â”‚    â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                   â”‚
â”‚               â–²                    â”‚                    â–¼         â”‚
â”‚               â”‚                    â”‚                    â”‚         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€   â”‚
â”‚                        INTERNAL BUS                               â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                    â”‚                    â”‚
         â–¼                    â–¼                    â–¼
    Address Bus          Data Bus           Control Bus
         â”‚                    â”‚                    â”‚
         â–¼                    â–¼                    â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Memory  â”‚         â”‚   I/O   â”‚         â”‚ Control â”‚
    â”‚         â”‚         â”‚ Devices â”‚         â”‚ Signals â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. Arithmetic Logic Unit (ALU)

### 2.1 Function and Structure

The ALU is the computational heart of the microprocessor, performing all arithmetic and logical operations.

```
ALU DETAILED STRUCTURE:

                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚       OPERAND A       â”‚
                    â”‚    (from Accumulator) â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     Control â”€â”€â”€â”€â”€â”€â–ºâ”‚                       â”‚
     Signals        â”‚         ALU           â”‚
                    â”‚                       â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚       OPERAND B       â”‚
                    â”‚   (from Register/     â”‚
                    â”‚    Memory/Immediate)  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚                                         â”‚
           â–¼                                         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   RESULT    â”‚                         â”‚    FLAGS    â”‚
    â”‚  (to ACC)   â”‚                         â”‚  (Z,S,P,CY) â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 ALU Operations

| Category | Operations | Description |
|----------|------------|-------------|
| **Arithmetic** | ADD, ADC | Addition (with/without carry) |
| | SUB, SBB | Subtraction (with/without borrow) |
| | INC, DEC | Increment/Decrement by 1 |
| | MUL, DIV | Multiplication/Division (in some ÂµP) |
| **Logical** | AND | Bitwise AND operation |
| | OR | Bitwise OR operation |
| | XOR | Bitwise exclusive OR |
| | NOT | Complement (invert all bits) |
| **Comparison** | CMP | Compare (subtract without storing) |
| **Shift/Rotate** | SHL, SHR | Shift left/right |
| | ROL, ROR | Rotate left/right |

### 2.3 Simple ALU Circuit (4-bit Example)

```
4-BIT ALU SIMPLIFIED DIAGRAM:

    A3 A2 A1 A0        B3 B2 B1 B0           Operation
     â”‚  â”‚  â”‚  â”‚         â”‚  â”‚  â”‚  â”‚           Select
     â”‚  â”‚  â”‚  â”‚         â”‚  â”‚  â”‚  â”‚             â”‚
     â–¼  â–¼  â–¼  â–¼         â–¼  â–¼  â–¼  â–¼             â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”
    â”‚                                              â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”    â”‚
    â”‚  â”‚1-bit â”‚  â”‚1-bit â”‚  â”‚1-bit â”‚  â”‚1-bit â”‚    â”‚
    â”‚  â”‚ ALU  â”‚â”€â”€â”‚ ALU  â”‚â”€â”€â”‚ ALU  â”‚â”€â”€â”‚ ALU  â”‚â”€â”€â”€â”€â”‚â”€â”€â–º Cout
    â”‚  â”‚      â”‚  â”‚      â”‚  â”‚      â”‚  â”‚      â”‚    â”‚
    â”‚  â””â”€â”€â”¬â”€â”€â”€â”˜  â””â”€â”€â”¬â”€â”€â”€â”˜  â””â”€â”€â”¬â”€â”€â”€â”˜  â””â”€â”€â”¬â”€â”€â”€â”˜    â”‚
    â”‚     â”‚        â”‚        â”‚        â”‚          â”‚
    â””â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚        â”‚        â”‚        â”‚
          â–¼        â–¼        â–¼        â–¼
         F3       F2       F1       F0
         
         Result (4-bit)

1-BIT ALU SLICE:
                    
    A â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”
          â”‚       â”‚
    B â”€â”€â”€â”€â”¼â”€â”€â”€â”¬â”€â”€â”€â”¤
          â”‚   â”‚   â”‚
          â–¼   â–¼   â–¼
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  Cinâ”€â”€â”¤   1-bit    â”œâ”€â”€Cout
       â”‚    ALU     â”‚
  Op â”€â”€â”¤            â”œâ”€â”€ F (result)
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Operations:
Op = 00: F = A + B (ADD)
Op = 01: F = A - B (SUB)
Op = 10: F = A AND B
Op = 11: F = A OR B
```

---

## 3. Register Organization

### 3.1 Types of Registers

Registers are small, fast storage locations inside the CPU used for temporary data storage during processing.

```
REGISTER HIERARCHY:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        REGISTER TYPES                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                   â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                          â”‚
â”‚   â”‚  GENERAL PURPOSE  â”‚  â–º Used for data manipulation            â”‚
â”‚   â”‚     REGISTERS     â”‚  â–º Programmer accessible                 â”‚
â”‚   â”‚  (A, B, C, D, E,  â”‚  â–º Can hold data or addresses            â”‚
â”‚   â”‚   H, L in 8085)   â”‚                                          â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                          â”‚
â”‚                                                                   â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                          â”‚
â”‚   â”‚ SPECIAL PURPOSE   â”‚                                          â”‚
â”‚   â”‚    REGISTERS      â”‚                                          â”‚
â”‚   â”‚                   â”‚                                          â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â–º Points to next instruction            â”‚
â”‚   â”‚   â”‚    PC     â”‚   â”‚    (Program Counter)                     â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚                                          â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â–º Points to stack top                   â”‚
â”‚   â”‚   â”‚    SP     â”‚   â”‚    (Stack Pointer)                       â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚                                          â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â–º Holds current instruction             â”‚
â”‚   â”‚   â”‚    IR     â”‚   â”‚    (Instruction Register)                â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚                                          â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                          â”‚
â”‚                                                                   â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                          â”‚
â”‚   â”‚   FLAGS REGISTER  â”‚  â–º Status of last operation              â”‚
â”‚   â”‚  (PSW/Status Reg) â”‚                                          â”‚
â”‚   â”‚                   â”‚                                          â”‚
â”‚   â”‚   S Z AC P CY     â”‚  Sign, Zero, Aux Carry, Parity, Carry   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                          â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 Register Details

| Register | Bits | Function |
|----------|------|----------|
| **Accumulator (A)** | 8 | Main register for ALU operations, stores results |
| **General Purpose (B,C,D,E,H,L)** | 8 each | Temporary data storage, can pair as 16-bit |
| **Program Counter (PC)** | 16 | Holds address of next instruction to fetch |
| **Stack Pointer (SP)** | 16 | Points to top of stack in memory |
| **Instruction Register (IR)** | 8 | Holds current instruction being executed |
| **Flags/Status Register** | 8 | Contains condition flags (Z, S, P, CY, AC) |

### 3.3 Flag Register Structure

```
FLAG REGISTER (PSW - Program Status Word) in 8085:

    Bit:   7    6    5    4    3    2    1    0
         â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”
         â”‚ S  â”‚ Z  â”‚ X  â”‚ AC â”‚ X  â”‚ P  â”‚ X  â”‚ CY â”‚
         â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”˜
           â”‚    â”‚         â”‚         â”‚         â”‚
           â”‚    â”‚         â”‚         â”‚         â””â”€â–º Carry Flag
           â”‚    â”‚         â”‚         â”‚              Set if carry/borrow
           â”‚    â”‚         â”‚         â”‚
           â”‚    â”‚         â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º Parity Flag
           â”‚    â”‚         â”‚                        Set if even parity
           â”‚    â”‚         â”‚
           â”‚    â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º Auxiliary Carry
           â”‚    â”‚                                  Carry from bit 3 to 4
           â”‚    â”‚
           â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º Zero Flag
           â”‚                                       Set if result is zero
           â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º Sign Flag
                                                   Set if result negative
                                                   (MSB = 1)

    X = Undefined/Not used
```

### 3.4 Flag Examples

| Operation | Result | S | Z | AC | P | CY |
|-----------|--------|---|---|----|----|-----|
| 45H + 35H = 7AH | 0111 1010 | 0 | 0 | 1 | 1 | 0 |
| FFH + 01H = 00H | 0000 0000 | 0 | 1 | 1 | 1 | 1 |
| 80H - 01H = 7FH | 0111 1111 | 0 | 0 | 0 | 0 | 0 |
| 00H - 01H = FFH | 1111 1111 | 1 | 0 | 0 | 1 | 1 |

---

## 4. Control Unit (CU)

### 4.1 Functions of Control Unit

The Control Unit orchestrates all operations within the microprocessor by generating appropriate control signals.

```
CONTROL UNIT FUNCTIONS:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      CONTROL UNIT                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                   â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚              INSTRUCTION DECODER                         â”‚   â”‚
â”‚   â”‚                                                          â”‚   â”‚
â”‚   â”‚   Instruction Register â”€â”€â”€â”€â”€â”€â”€â–º Decode Logic             â”‚   â”‚
â”‚   â”‚        (Opcode)                     â”‚                    â”‚   â”‚
â”‚   â”‚                                     â–¼                    â”‚   â”‚
â”‚   â”‚                          Control Signal Generator        â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                              â”‚                                    â”‚
â”‚                              â–¼                                    â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚              TIMING AND SEQUENCING                       â”‚   â”‚
â”‚   â”‚                                                          â”‚   â”‚
â”‚   â”‚   Clock â”€â”€â”€â–º T-State      â”€â”€â”€â”€â”€â–º Timing                  â”‚   â”‚
â”‚   â”‚              Generator           Signals                 â”‚   â”‚
â”‚   â”‚                                  (T1, T2, T3...)         â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                              â”‚                                    â”‚
â”‚                              â–¼                                    â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚              CONTROL SIGNAL OUTPUT                       â”‚   â”‚
â”‚   â”‚                                                          â”‚   â”‚
â”‚   â”‚   Internal:                External:                     â”‚   â”‚
â”‚   â”‚   â€¢ Register enable        â€¢ Memory Read (RD)            â”‚   â”‚
â”‚   â”‚   â€¢ ALU operation          â€¢ Memory Write (WR)           â”‚   â”‚
â”‚   â”‚   â€¢ Bus control            â€¢ I/O Read/Write              â”‚   â”‚
â”‚   â”‚                            â€¢ Interrupt Acknowledge       â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 Control Unit Implementation Types

| Type | Description | Advantages | Disadvantages |
|------|-------------|------------|---------------|
| **Hardwired** | Logic gates generate control signals | Fast, efficient | Complex, inflexible |
| **Microprogrammed** | Control memory stores microinstructions | Flexible, easier design | Slower than hardwired |

---

## 5. Instruction Execution Cycle

### 5.1 Basic Machine Cycle

Every instruction goes through a sequence of operations called the instruction cycle.

```
INSTRUCTION CYCLE:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    INSTRUCTION CYCLE                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                   â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚         â”‚                                              â”‚        â”‚
â”‚         â–¼                                              â”‚        â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚        â”‚
â”‚    â”‚  FETCH  â”‚â”€â”€â”€â”€â–ºâ”‚ DECODE  â”‚â”€â”€â”€â”€â–ºâ”‚ EXECUTE â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚         â”‚               â”‚               â”‚                        â”‚
â”‚         â–¼               â–¼               â–¼                        â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚    â”‚                                                      â”‚      â”‚
â”‚    â”‚  FETCH:   â€¢ PC â†’ Address Bus                        â”‚      â”‚
â”‚    â”‚           â€¢ Read instruction from memory            â”‚      â”‚
â”‚    â”‚           â€¢ Store in Instruction Register (IR)      â”‚      â”‚
â”‚    â”‚           â€¢ Increment PC                            â”‚      â”‚
â”‚    â”‚                                                      â”‚      â”‚
â”‚    â”‚  DECODE:  â€¢ Interpret opcode in IR                  â”‚      â”‚
â”‚    â”‚           â€¢ Determine operation to perform          â”‚      â”‚
â”‚    â”‚           â€¢ Identify operands needed                â”‚      â”‚
â”‚    â”‚                                                      â”‚      â”‚
â”‚    â”‚  EXECUTE: â€¢ Perform the operation                   â”‚      â”‚
â”‚    â”‚           â€¢ May involve:                            â”‚      â”‚
â”‚    â”‚             - Memory read/write                     â”‚      â”‚
â”‚    â”‚             - ALU operation                         â”‚      â”‚
â”‚    â”‚             - Register transfer                     â”‚      â”‚
â”‚    â”‚             - I/O operation                         â”‚      â”‚
â”‚    â”‚                                                      â”‚      â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 Detailed Fetch-Decode-Execute Steps

```
EXAMPLE: MOV A, B (Move content of B to A)

STEP 1: FETCH
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    
    Memory                     CPU
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚       â”‚               â”‚           â”‚
    â”‚ 2000H â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ PC: 2000H â”‚
    â”‚       â”‚   Address     â”‚           â”‚
    â”‚ â”Œâ”€â”€â”€â” â”‚   Bus         â”‚           â”‚
    â”‚ â”‚78Hâ”‚ â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ IR: 78H  â”‚
    â”‚ â””â”€â”€â”€â”˜ â”‚   Data Bus    â”‚           â”‚
    â”‚       â”‚               â”‚ PC: 2001H â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    
    Action: PC â†’ Address Bus
            Memory [2000H] â†’ IR
            PC â† PC + 1

STEP 2: DECODE
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    
    Instruction Register: 78H = 0111 1000
    
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Opcode: 78H                     â”‚
    â”‚  Pattern: 01 DDD SSS             â”‚
    â”‚  01 111 000                      â”‚
    â”‚     â”‚   â””â”€â”€â–º SSS = 000 (Reg B)   â”‚
    â”‚     â””â”€â”€â”€â”€â”€â”€â–º DDD = 111 (Reg A)   â”‚
    â”‚                                   â”‚
    â”‚  Decoded: MOV A, B               â”‚
    â”‚  Operation: A â† B                â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

STEP 3: EXECUTE
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    
    Before:              After:
    â”Œâ”€â”€â”€â”                â”Œâ”€â”€â”€â”
    â”‚ A â”‚ = XXH          â”‚ A â”‚ = 45H
    â””â”€â”€â”€â”˜                â””â”€â”€â”€â”˜
    â”Œâ”€â”€â”€â”                â”Œâ”€â”€â”€â”
    â”‚ B â”‚ = 45H          â”‚ B â”‚ = 45H
    â””â”€â”€â”€â”˜                â””â”€â”€â”€â”˜
    
    Action: Content of B copied to A
            B remains unchanged
```

### 5.3 Machine Cycles and T-States

```
TIMING HIERARCHY:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                   â”‚
â”‚  INSTRUCTION CYCLE                                               â”‚
â”‚  â”œâ”€â”€ MACHINE CYCLE 1 (Opcode Fetch)                             â”‚
â”‚  â”‚   â”œâ”€â”€ T1 (Address output)                                    â”‚
â”‚  â”‚   â”œâ”€â”€ T2 (Memory read setup)                                 â”‚
â”‚  â”‚   â”œâ”€â”€ T3 (Data read)                                         â”‚
â”‚  â”‚   â””â”€â”€ T4 (Decode/Execute)                                    â”‚
â”‚  â”‚                                                               â”‚
â”‚  â”œâ”€â”€ MACHINE CYCLE 2 (Memory Read - if needed)                  â”‚
â”‚  â”‚   â”œâ”€â”€ T1                                                     â”‚
â”‚  â”‚   â”œâ”€â”€ T2                                                     â”‚
â”‚  â”‚   â””â”€â”€ T3                                                     â”‚
â”‚  â”‚                                                               â”‚
â”‚  â””â”€â”€ MACHINE CYCLE 3 (Memory Write - if needed)                 â”‚
â”‚      â”œâ”€â”€ T1                                                     â”‚
â”‚      â”œâ”€â”€ T2                                                     â”‚
â”‚      â””â”€â”€ T3                                                     â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

T-STATE: One clock period - smallest unit of time
MACHINE CYCLE: One memory or I/O access
INSTRUCTION CYCLE: Complete execution of one instruction
```

---

## 6. Internal Data Flow

### 6.1 Data Path Architecture

```
INTERNAL DATA PATH:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    MICROPROCESSOR DATA PATH                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                   â”‚
â”‚                         INTERNAL BUS                             â”‚
â”‚    â—„â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¤â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â–º    â”‚
â”‚              â”‚              â”‚              â”‚              â”‚       â”‚
â”‚              â–¼              â–¼              â–¼              â–¼       â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚         â”‚  Reg A â”‚    â”‚  Reg B â”‚    â”‚  Reg C â”‚    â”‚  Reg D â”‚    â”‚
â”‚         â”‚(Accum) â”‚    â”‚        â”‚    â”‚        â”‚    â”‚        â”‚    â”‚
â”‚         â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚             â”‚                                                     â”‚
â”‚             â–¼                                                     â”‚
â”‚        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                               â”‚
â”‚        â”‚  Temp   â”‚â—„â”€â”€â”€â”€â”€â”€â”€ From Internal Bus                     â”‚
â”‚        â”‚   Reg   â”‚                                               â”‚
â”‚        â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                                               â”‚
â”‚             â”‚                                                     â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”                                           â”‚
â”‚    â”‚                 â”‚                                           â”‚
â”‚    â–¼                 â–¼                                           â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”                                        â”‚
â”‚ â”‚  A   â”‚         â”‚  B   â”‚                                        â”‚
â”‚ â”‚Input â”‚         â”‚Input â”‚                                        â”‚
â”‚ â””â”€â”€â”¬â”€â”€â”€â”˜         â””â”€â”€â”¬â”€â”€â”€â”˜                                        â”‚
â”‚    â”‚                â”‚                                            â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                            â”‚
â”‚            â–¼                                                     â”‚
â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                â”‚
â”‚      â”‚   ALU    â”‚â—„â”€â”€â”€â”€â”€â”€â”€ Operation Select                       â”‚
â”‚      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                                                â”‚
â”‚           â”‚                                                       â”‚
â”‚           â–¼                                                       â”‚
â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚
â”‚      â”‚  Result  â”‚â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚  Flags   â”‚                            â”‚
â”‚      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚
â”‚           â”‚                                                       â”‚
â”‚           â–¼                                                       â”‚
â”‚      To Accumulator / Internal Bus                               â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.2 Example: ADD B Operation

```
DATA FLOW FOR "ADD B" INSTRUCTION:

Step 1: Fetch Instruction
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    PC â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º Address Bus
    Memory â”€â”€â”€â”€â”€â”€â–º IR (Opcode = 80H)
    PC â† PC + 1

Step 2: Decode
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    IR (80H) â”€â”€â”€â”€â”€â”€â–º Decoder
    Decoder identifies: ADD B

Step 3: Execute (Data Flow)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                                       â”‚
    â”‚     Accumulator                       â”‚
    â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
    â”‚     â”‚   25H   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
    â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚             â”‚
    â”‚                         â–¼             â”‚
    â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
    â”‚     Register B     â”‚         â”‚        â”‚
    â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚   ALU   â”‚        â”‚
    â”‚     â”‚   30H   â”‚â”€â”€â”€â–ºâ”‚  (ADD)  â”‚        â”‚
    â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚         â”‚        â”‚
    â”‚                    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜        â”‚
    â”‚                         â”‚             â”‚
    â”‚                         â–¼             â”‚
    â”‚     Result: 25H + 30H = 55H           â”‚
    â”‚                         â”‚             â”‚
    â”‚     Accumulator    â—„â”€â”€â”€â”€â”˜             â”‚
    â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
    â”‚     â”‚   55H   â”‚                       â”‚
    â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
    â”‚                                       â”‚
    â”‚     Flags: S=0, Z=0, AC=0, P=0, CY=0 â”‚
    â”‚                                       â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 7. Microprocessor Block Diagram (Complete)

### 7.1 Generic 8-bit Microprocessor

```
COMPLETE 8-BIT MICROPROCESSOR ARCHITECTURE:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        8-BIT MICROPROCESSOR                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                     REGISTER SECTION                          â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚  â”‚  â”‚  A  â”‚ â”‚  B  â”‚ â”‚  C  â”‚ â”‚  D  â”‚ â”‚  E  â”‚ â”‚  H  â”‚ â”‚  L  â”‚    â”‚  â”‚
â”‚  â”‚  â”‚ 8-bitâ”‚ â”‚ 8-bitâ”‚ â”‚ 8-bitâ”‚ â”‚ 8-bitâ”‚ â”‚ 8-bitâ”‚ â”‚ 8-bitâ”‚ â”‚ 8-bitâ”‚    â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”¬â”€â”€â”˜ â””â”€â”€â”¬â”€â”€â”˜ â””â”€â”€â”¬â”€â”€â”˜ â””â”€â”€â”¬â”€â”€â”˜ â””â”€â”€â”¬â”€â”€â”˜ â””â”€â”€â”¬â”€â”€â”˜ â””â”€â”€â”¬â”€â”€â”˜    â”‚  â”‚
â”‚  â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚  â”‚
â”‚  â”‚                           â”‚                                   â”‚  â”‚
â”‚  â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚  â”‚
â”‚  â”‚     â”‚      SP      â”‚     â”‚     â”‚      PC      â”‚              â”‚  â”‚
â”‚  â”‚     â”‚    16-bit    â”‚     â”‚     â”‚    16-bit    â”‚              â”‚  â”‚
â”‚  â”‚     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚  â”‚
â”‚  â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                              â”‚                                      â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚                    â”‚   INTERNAL BUS    â”‚                           â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚
â”‚                              â”‚                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                           â”‚                                    â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚
â”‚  â”‚  â”‚  Temp Reg â”‚â—„â”€â”€â”€â”€â–ºâ”‚    ALU    â”‚â—„â”€â”€â”€â”€â–ºâ”‚    Accumulator   â”‚  â”‚ â”‚
â”‚  â”‚  â”‚   8-bit   â”‚      â”‚  8-bit    â”‚      â”‚      8-bit       â”‚  â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚
â”‚  â”‚                           â”‚                                    â”‚ â”‚
â”‚  â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”                            â”‚ â”‚
â”‚  â”‚                    â”‚   FLAGS     â”‚                            â”‚ â”‚
â”‚  â”‚                    â”‚ S Z AC P CY â”‚                            â”‚ â”‚
â”‚  â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚ â”‚
â”‚  â”‚                    ALU SECTION                                 â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                      CONTROL SECTION                            â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚  â”‚  â”‚    IR     â”‚â”€â”€â–ºâ”‚   Decoder     â”‚â”€â”€â–ºâ”‚  Timing & Control  â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  8-bit    â”‚   â”‚               â”‚   â”‚                    â”‚   â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                      â”‚              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚          â”‚                    â”‚                      â”‚              â”‚
â”‚          â–¼                    â–¼                      â–¼              â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚   â”‚ Address    â”‚      â”‚   Data     â”‚      â”‚   Control      â”‚       â”‚
â”‚   â”‚   Bus      â”‚      â”‚   Bus      â”‚      â”‚    Bus         â”‚       â”‚
â”‚   â”‚  16-bit    â”‚      â”‚  8-bit     â”‚      â”‚                â”‚       â”‚
â”‚   â”‚    â†“       â”‚      â”‚   â†•        â”‚      â”‚ RD WR IO/M ALE â”‚       â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“‹ Summary Table

| Component | Size | Function |
|-----------|------|----------|
| **ALU** | 8-bit | Performs arithmetic and logical operations |
| **Accumulator** | 8-bit | Primary register for ALU operations |
| **General Registers** | 8-bit each | Temporary data storage (B,C,D,E,H,L) |
| **Program Counter** | 16-bit | Points to next instruction address |
| **Stack Pointer** | 16-bit | Points to top of stack in memory |
| **Instruction Register** | 8-bit | Holds current instruction opcode |
| **Flags Register** | 8-bit | Status flags (S, Z, AC, P, CY) |
| **Control Unit** | - | Generates control signals for all operations |
| **Address Bus** | 16-bit | Carries memory/I/O addresses |
| **Data Bus** | 8-bit | Carries data between CPU and memory/I/O |
| **Control Bus** | Various | Carries control signals (RD, WR, etc.) |

---

## â“ Quick Revision Questions

1. **What are the three main functional units of a microprocessor?**
   <details>
   <summary>Show Answer</summary>
   (1) Arithmetic Logic Unit (ALU) - performs calculations, (2) Register Array - temporary storage, (3) Control Unit - generates control signals and coordinates operations.
   </details>

2. **What is the difference between Program Counter and Stack Pointer?**
   <details>
   <summary>Show Answer</summary>
   Program Counter (PC) holds the address of the next instruction to be fetched from memory. Stack Pointer (SP) holds the address of the top of the stack, used for subroutine calls and temporary data storage.
   </details>

3. **Explain the three phases of the instruction cycle.**
   <details>
   <summary>Show Answer</summary>
   FETCH: Read instruction from memory (PC â†’ Address Bus, Memory â†’ IR, PC++). DECODE: Interpret the opcode in IR to determine the operation. EXECUTE: Perform the operation (may involve ALU, memory access, or register transfer).
   </details>

4. **What are the five flags in the 8085 flag register and what do they indicate?**
   <details>
   <summary>Show Answer</summary>
   Sign (S): Set if result is negative (MSB=1). Zero (Z): Set if result is zero. Auxiliary Carry (AC): Carry from bit 3 to bit 4. Parity (P): Set if result has even number of 1s. Carry (CY): Set if carry/borrow occurred.
   </details>

5. **What is a T-state and how does it relate to machine cycles?**
   <details>
   <summary>Show Answer</summary>
   A T-state is one clock period and is the smallest unit of processing time. Machine cycles are composed of multiple T-states (typically 3-6). Each machine cycle represents one memory or I/O access operation.
   </details>

6. **How does the ALU receive its operands for an ADD operation?**
   <details>
   <summary>Show Answer</summary>
   One operand comes from the Accumulator (always). The second operand comes from a register (specified in the instruction) or memory via the internal bus. The result is stored back in the Accumulator.
   </details>

---

## ğŸ§­ Navigation

| Previous | Up | Next |
|----------|-----|------|
| [1.2 Microprocessor vs Microcontroller](02-microprocessor-vs-microcontroller.md) | [Unit 1 Index](README.md) | [1.4 Bus Organization](04-bus-organization.md) |

---

*[â† Previous: Microprocessor vs Microcontroller](02-microprocessor-vs-microcontroller.md) | [Next: Bus Organization â†’](04-bus-organization.md)*
