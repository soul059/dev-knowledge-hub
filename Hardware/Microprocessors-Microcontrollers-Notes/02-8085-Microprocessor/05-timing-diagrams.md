# Chapter 2.5: Timing Diagrams

## ğŸ“š Chapter Overview

Timing diagrams are essential for understanding how the 8085 microprocessor interacts with memory and I/O devices. This chapter covers machine cycles, T-states, and detailed timing for various operations.

---

## ğŸ¯ Learning Objectives

After completing this chapter, you will be able to:
- Understand T-states and machine cycles
- Draw timing diagrams for different operations
- Calculate instruction execution times
- Analyze signal relationships during bus operations

---

## 1. Basic Timing Concepts

### 1.1 T-State and Machine Cycle

```
TIMING HIERARCHY:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        INSTRUCTION CYCLE                         â”‚
â”‚   (Time to fetch and execute one complete instruction)          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                   â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚   â”‚    MACHINE CYCLE 1    â”‚   â”‚    MACHINE CYCLE 2    â”‚   ...   â”‚
â”‚   â”‚   (Opcode Fetch)      â”‚   â”‚   (Memory/IO/etc)     â”‚         â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                                   â”‚
â”‚   Each Machine Cycle:                                            â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚   â”‚   T1   â”‚   T2   â”‚   TW   â”‚   T3   â”‚   T4   â”‚   T5   â”‚       â”‚
â”‚   â”‚        â”‚        â”‚ (wait) â”‚        â”‚        â”‚        â”‚       â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                                   â”‚
â”‚   T-STATE = One clock period (smallest timing unit)              â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

DEFINITIONS:

T-State:  One clock cycle
          Time = 1/frequency
          At 3.072 MHz: T = 1/3.072MHz = 325.5 ns

Machine Cycle:  3-6 T-states
                One bus operation (read/write)
                
Instruction Cycle:  1-5 Machine cycles
                    Complete instruction execution
```

### 1.2 8085 Machine Cycle Types

```
8085 MACHINE CYCLE TYPES:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                     â”‚
â”‚  1. OPCODE FETCH (OF)           4 or 6 T-states                    â”‚
â”‚     â””â”€â”€ First MC of every instruction, fetches opcode              â”‚
â”‚                                                                     â”‚
â”‚  2. MEMORY READ (MR)            3 T-states                         â”‚
â”‚     â””â”€â”€ Read operand from memory                                   â”‚
â”‚                                                                     â”‚
â”‚  3. MEMORY WRITE (MW)           3 T-states                         â”‚
â”‚     â””â”€â”€ Write data to memory                                       â”‚
â”‚                                                                     â”‚
â”‚  4. I/O READ (IOR)              3 T-states                         â”‚
â”‚     â””â”€â”€ Read from I/O port                                         â”‚
â”‚                                                                     â”‚
â”‚  5. I/O WRITE (IOW)             3 T-states                         â”‚
â”‚     â””â”€â”€ Write to I/O port                                          â”‚
â”‚                                                                     â”‚
â”‚  6. INTERRUPT ACKNOWLEDGE       6 T-states                         â”‚
â”‚     â””â”€â”€ Response to interrupt request                              â”‚
â”‚                                                                     â”‚
â”‚  7. BUS IDLE                    Variable                           â”‚
â”‚     â””â”€â”€ Internal operations, no bus activity                       â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.3 Status Signals for Machine Cycles

```
IO/MÌ„, S0, S1 STATUS SIGNALS:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Machine Cycle â”‚  IO/MÌ„ â”‚   S1  â”‚   S0  â”‚       Description        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Opcode Fetch  â”‚   0   â”‚   1   â”‚   1   â”‚  Memory read (opcode)    â”‚
â”‚  Memory Read   â”‚   0   â”‚   1   â”‚   0   â”‚  Memory read (operand)   â”‚
â”‚  Memory Write  â”‚   0   â”‚   0   â”‚   1   â”‚  Memory write            â”‚
â”‚  I/O Read      â”‚   1   â”‚   1   â”‚   0   â”‚  Input from I/O port     â”‚
â”‚  I/O Write     â”‚   1   â”‚   0   â”‚   1   â”‚  Output to I/O port      â”‚
â”‚  Interrupt Ack â”‚   1   â”‚   1   â”‚   1   â”‚  INTA active             â”‚
â”‚  Halt          â”‚   X   â”‚   0   â”‚   0   â”‚  Processor halted        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â””â”€â”€ IO/MÌ„ = 0: Memory operation
            IO/MÌ„ = 1: I/O operation
```

---

## 2. Opcode Fetch Cycle

### 2.1 Timing Diagram

```
OPCODE FETCH MACHINE CYCLE (4 T-states):

T-State:    â”‚   T1   â”‚   T2   â”‚   T3   â”‚   T4   â”‚
            â”‚        â”‚        â”‚        â”‚        â”‚
            â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤
CLK     â”€â”€â”€â”€â”¤  â”Œâ”€â”€â”  â”‚  â”Œâ”€â”€â”  â”‚  â”Œâ”€â”€â”  â”‚  â”Œâ”€â”€â”  â”‚
            â”‚  â”‚  â”‚  â”‚  â”‚  â”‚  â”‚  â”‚  â”‚  â”‚  â”‚  â”‚  â”‚
            â”‚â”€â”€â”˜  â””â”€â”€â”‚â”€â”€â”˜  â””â”€â”€â”‚â”€â”€â”˜  â””â”€â”€â”‚â”€â”€â”˜  â””â”€â”€â”‚
            â”‚        â”‚        â”‚        â”‚        â”‚
A15-A8  â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
            â”‚   Address High Byte (Valid)        â”‚
(Addr)  â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
            â”‚        â”‚        â”‚        â”‚        â”‚
AD7-AD0 â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
            â”‚Address â”‚  Data  â”‚   Data (Opcode)  â”‚
(Addrâ†’Data) â”‚  Low   â”‚ Float  â”‚      Valid       â”‚
            â”‚        â”‚        â”‚        â”‚        â”‚
ALE     â”€â”€â”€â”€â”¤  â”Œâ”€â”€â”€â”€â”€â”¤        â”‚        â”‚        â”‚
            â”‚  â”‚     â”‚        â”‚        â”‚        â”‚
            â”‚â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
            â”‚        â”‚        â”‚        â”‚        â”‚
RDÌ„      â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”                   â”Œâ”€â”€â”€â”€â”‚
            â”‚        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
            â”‚   High â”‚         Low (Active)      â”‚
            â”‚        â”‚        â”‚        â”‚        â”‚
IO/MÌ„    â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
            â”‚        â”‚   Low (Memory Operation)  â”‚
            â”‚        â”‚        â”‚        â”‚        â”‚
S0, S1  â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
            â”‚        â”‚   S1=1, S0=1 (OF status)  â”‚
            â”‚        â”‚        â”‚        â”‚        â”‚
            â”‚        â”‚        â”‚        â”‚        â”‚
            â”‚â—„â”€â”€â”€â”€â”€â”€â–ºâ”‚â—„â”€â”€â”€â”€â”€â”€â–ºâ”‚â—„â”€â”€â”€â”€â”€â”€â–ºâ”‚â—„â”€â”€â”€â”€â”€â”€â–ºâ”‚
              ~325ns   ~325ns   ~325ns   ~325ns
              (at 3.072 MHz)

SEQUENCE:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
T1: Address placed on A15-A8 and AD7-AD0
    ALE goes HIGH (address latch enable)
    
T2: ALE goes LOW (address latched externally)
    RDÌ„ goes LOW (read enable active)
    AD7-AD0 released by 8085
    
T3: Memory places data on AD7-AD0
    Data (opcode) is read by processor
    
T4: RDÌ„ goes HIGH
    Opcode decoded and executed (if simple)
```

### 2.2 Opcode Fetch with 74LS373 Latch

```
ADDRESS DEMULTIPLEXING:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                  â”‚
â”‚                         8085                                    â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                             â”‚
â”‚    â”‚                              â”‚                             â”‚
â”‚    â”‚    AD7-AD0 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¼â”€â”€â–º To Data Bus (D7-D0)     â”‚
â”‚    â”‚    (Multiplexed)       â”‚     â”‚                             â”‚
â”‚    â”‚                        â”‚     â”‚                             â”‚
â”‚    â”‚    ALE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚     â”‚                             â”‚
â”‚    â”‚                     â”‚  â”‚     â”‚                             â”‚
â”‚    â”‚    A15-A8 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â–º To Address Bus (A15-A8) â”‚
â”‚    â”‚                     â”‚  â”‚     â”‚                             â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”¼â”€â”€â”€â”€â”€â”˜                             â”‚
â”‚                          â”‚  â”‚                                    â”‚
â”‚                          â–¼  â–¼                                    â”‚
â”‚                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                               â”‚
â”‚                     â”‚  74LS373   â”‚                               â”‚
â”‚                     â”‚   LATCH    â”‚                               â”‚
â”‚       ALE â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ G      OE  â”‚                               â”‚
â”‚                     â”‚            â”‚                               â”‚
â”‚       AD7-AD0 â”€â”€â”€â”€â”€â–ºâ”‚ D      Q   â”œâ”€â”€â–º A7-A0 (Latched)           â”‚
â”‚       (at T1)       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                               â”‚
â”‚                                                                  â”‚
â”‚   TIMING:                                                        â”‚
â”‚   T1: ALE HIGH â†’ Address captured by latch                      â”‚
â”‚   T2+: ALE LOW â†’ Address held, AD bus free for data            â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. Memory Read Cycle

### 3.1 Timing Diagram

```
MEMORY READ MACHINE CYCLE (3 T-states):

T-State:    â”‚   T1   â”‚   T2   â”‚   T3   â”‚
            â”‚        â”‚        â”‚        â”‚
            â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤
CLK     â”€â”€â”€â”€â”¤  â”Œâ”€â”€â”  â”‚  â”Œâ”€â”€â”  â”‚  â”Œâ”€â”€â”  â”‚
            â”‚  â”‚  â”‚  â”‚  â”‚  â”‚  â”‚  â”‚  â”‚  â”‚
            â”‚â”€â”€â”˜  â””â”€â”€â”‚â”€â”€â”˜  â””â”€â”€â”‚â”€â”€â”˜  â””â”€â”€â”‚
            â”‚        â”‚        â”‚        â”‚
A15-A8  â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
            â”‚   Address High (Valid)     â”‚
            â”‚        â”‚        â”‚        â”‚
AD7-AD0 â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤
            â”‚ Addr Loâ”‚  Data  â”‚  Data  â”‚
            â”‚        â”‚ Float  â”‚ (Valid)â”‚
            â”‚        â”‚        â”‚        â”‚
ALE     â”€â”€â”€â”€â”¤  â”Œâ”€â”€â”€â”€â”€â”¤        â”‚        â”‚
            â”‚  â”‚     â”‚        â”‚        â”‚
            â”‚â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
            â”‚        â”‚        â”‚        â”‚
RDÌ„      â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”          â”Œâ”€â”€â”€â”€â”‚
            â”‚  High  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
            â”‚        â”‚   Low (Active)   â”‚
            â”‚        â”‚        â”‚        â”‚
IO/MÌ„    â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
            â”‚   Low (Memory Operation)  â”‚
            â”‚        â”‚        â”‚        â”‚
S0, S1  â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
            â”‚   S1=1, S0=0 (MR status)  â”‚
            â”‚        â”‚        â”‚        â”‚

KEY DIFFERENCES FROM OF:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â€¢ Only 3 T-states (not 4)
â€¢ No internal decode/execute
â€¢ Status: S1=1, S0=0 (not 1,1)
â€¢ Used for operand fetch
```

---

## 4. Memory Write Cycle

### 4.1 Timing Diagram

```
MEMORY WRITE MACHINE CYCLE (3 T-states):

T-State:    â”‚   T1   â”‚   T2   â”‚   T3   â”‚
            â”‚        â”‚        â”‚        â”‚
            â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤
CLK     â”€â”€â”€â”€â”¤  â”Œâ”€â”€â”  â”‚  â”Œâ”€â”€â”  â”‚  â”Œâ”€â”€â”  â”‚
            â”‚  â”‚  â”‚  â”‚  â”‚  â”‚  â”‚  â”‚  â”‚  â”‚
            â”‚â”€â”€â”˜  â””â”€â”€â”‚â”€â”€â”˜  â””â”€â”€â”‚â”€â”€â”˜  â””â”€â”€â”‚
            â”‚        â”‚        â”‚        â”‚
A15-A8  â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
            â”‚   Address High (Valid)     â”‚
            â”‚        â”‚        â”‚        â”‚
AD7-AD0 â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
            â”‚ Addr Loâ”‚   Data (from CPU) â”‚
            â”‚        â”‚   â—„â”€â”€ CPU drives  â”‚
            â”‚        â”‚        â”‚        â”‚
ALE     â”€â”€â”€â”€â”¤  â”Œâ”€â”€â”€â”€â”€â”¤        â”‚        â”‚
            â”‚  â”‚     â”‚        â”‚        â”‚
            â”‚â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
            â”‚        â”‚        â”‚        â”‚
WRÌ„      â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”          â”Œâ”€â”€â”€â”€â”‚
            â”‚  High  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
            â”‚        â”‚   Low (Active)   â”‚
            â”‚        â”‚        â”‚        â”‚
RDÌ„      â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
            â”‚   High (Inactive)          â”‚
            â”‚        â”‚        â”‚        â”‚
IO/MÌ„    â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
            â”‚   Low (Memory Operation)  â”‚
            â”‚        â”‚        â”‚        â”‚
S0, S1  â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
            â”‚   S1=0, S0=1 (MW status)  â”‚
            â”‚        â”‚        â”‚        â”‚

KEY POINTS:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â€¢ WRÌ„ active instead of RDÌ„
â€¢ CPU drives data bus (AD7-AD0)
â€¢ Data valid when WRÌ„ goes low
â€¢ Memory latches data on WRÌ„ rising edge
```

---

## 5. I/O Read and Write Cycles

### 5.1 I/O Read Timing

```
I/O READ MACHINE CYCLE (3 T-states):

T-State:    â”‚   T1   â”‚   T2   â”‚   T3   â”‚
            â”‚        â”‚        â”‚        â”‚
            â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤
A15-A8  â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
            â”‚   Port Address (same as    â”‚
AD7-AD0 â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
            â”‚A7-A0)  â”‚  Input Data      â”‚
            â”‚        â”‚        â”‚        â”‚
IO/MÌ„    â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
            â”‚   HIGH (I/O Operation)    â”‚
            â”‚        â”‚        â”‚        â”‚
RDÌ„      â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”          â”Œâ”€â”€â”€â”€â”‚
            â”‚        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
            â”‚        â”‚        â”‚        â”‚

SPECIAL FEATURE:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
8-bit port address duplicated on A15-A8 and AD7-AD0
This allows using A8-A15 for I/O decoding
```

### 5.2 I/O Write Timing

```
I/O WRITE MACHINE CYCLE (3 T-states):

T-State:    â”‚   T1   â”‚   T2   â”‚   T3   â”‚
            â”‚        â”‚        â”‚        â”‚
            â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤
A15-A8  â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
            â”‚   Port Address (8-bit)    â”‚
AD7-AD0 â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
            â”‚Port Addrâ”‚   Output Data   â”‚
            â”‚        â”‚        â”‚        â”‚
IO/MÌ„    â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
            â”‚   HIGH (I/O Operation)    â”‚
            â”‚        â”‚        â”‚        â”‚
WRÌ„      â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”          â”Œâ”€â”€â”€â”€â”‚
            â”‚        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
            â”‚        â”‚        â”‚        â”‚

I/O CONTROL SIGNAL GENERATION:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
IORÌ„ = IO/MÌ„ Â· RDÌ„  (I/O Read strobe)
IOWÌ„ = IO/MÌ„ Â· WRÌ„  (I/O Write strobe)
MEMRÌ„ = IO/MÌ„ Â· RDÌ„  (Memory Read strobe)
MEMWÌ„ = IO/MÌ„ Â· WRÌ„  (Memory Write strobe)
```

---

## 6. Wait State Insertion

### 6.1 Wait State Mechanism

```
WAIT STATE FOR SLOW MEMORY/I/O:

Normal Cycle:  T1 â”€ T2 â”€ T3
With Wait:     T1 â”€ T2 â”€ TW â”€ TW â”€ T3

READY Signal Usage:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                  â”‚
â”‚  READY PIN:                                                     â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€              â”‚
â”‚  â€¢ Sampled during T2 on falling edge of clock                   â”‚
â”‚  â€¢ If LOW â†’ Insert wait state (TW)                              â”‚
â”‚  â€¢ If HIGH â†’ Continue to T3                                     â”‚
â”‚  â€¢ Multiple TW states possible                                  â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

TIMING DIAGRAM WITH WAIT:

T-State:    â”‚   T1   â”‚   T2   â”‚   TW   â”‚   T3   â”‚
            â”‚        â”‚        â”‚        â”‚        â”‚
CLK     â”€â”€â”€â”€â”¤  â”Œâ”€â”€â”  â”‚  â”Œâ”€â”€â”  â”‚  â”Œâ”€â”€â”  â”‚  â”Œâ”€â”€â”  â”‚
            â”‚  â”‚  â”‚  â”‚  â”‚  â”‚  â”‚  â”‚  â”‚  â”‚  â”‚  â”‚  â”‚
            â”‚â”€â”€â”˜  â””â”€â”€â”‚â”€â”€â”˜  â””â”€â”€â”‚â”€â”€â”˜  â””â”€â”€â”‚â”€â”€â”˜  â””â”€â”€â”‚
            â”‚        â”‚        â”‚        â”‚        â”‚
READY   â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
            â”‚  High  â”‚  â””â”€â”€â”€â”€â”€â”´â”€â”€â”˜  High       â”‚
            â”‚        â”‚    Low     â”‚        â”‚    â”‚
            â”‚        â”‚   â–²        â”‚        â”‚    â”‚
            â”‚        â”‚   â”‚ Sampled here         â”‚
            â”‚        â”‚   â”‚ (falling edge T2)    â”‚
            â”‚        â”‚        â”‚        â”‚        â”‚
RDÌ„/WRÌ„   â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”               â”Œâ”€â”€â”€â”€â”‚
            â”‚  High  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
            â”‚        â”‚  Extended Low period   â”‚
            â”‚        â”‚        â”‚        â”‚        â”‚

WAIT STATE APPLICATION:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â€¢ Slow EPROM interfacing
â€¢ Memory-mapped I/O
â€¢ DMA transfer preparation
```

---

## 7. Complete Instruction Timing Examples

### 7.1 MOV A, B (1-byte, 4 T-states)

```
MOV A, B INSTRUCTION TIMING:

Machine Cycles: 1 (OF only)
T-states: 4

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    MACHINE CYCLE 1 (OF)                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  T1   â”‚  T2   â”‚  T3   â”‚  T4   â”‚                                 â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¤                                 â”‚
â”‚ Put   â”‚ Float â”‚ Read  â”‚ Decodeâ”‚                                 â”‚
â”‚ PC on â”‚  bus  â”‚opcode â”‚ & Execâ”‚                                 â”‚
â”‚ addr  â”‚       â”‚ (78H) â”‚ Aâ†B   â”‚                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”˜                                 â”‚

Execution Time = 4 Ã— T-state period
At 3.072 MHz: 4 Ã— 325.5ns = 1.302 Î¼s
```

### 7.2 MVI B, 45H (2-byte, 7 T-states)

```
MVI B, 45H INSTRUCTION TIMING:

Machine Cycles: 2 (OF + MR)
T-states: 4 + 3 = 7

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          MACHINE CYCLE 1 (OF)           â”‚   MACHINE CYCLE 2    â”‚
â”‚                                         â”‚        (MR)          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  T1   â”‚  T2   â”‚  T3   â”‚  T4   â”‚        â”‚  T1   â”‚  T2   â”‚  T3  â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”‚        â”‚â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”‚
â”‚ Addr  â”‚       â”‚ Read  â”‚Decode â”‚        â”‚ Addr  â”‚       â”‚ Read â”‚
â”‚ PC    â”‚       â”‚ 06H   â”‚       â”‚        â”‚ PC+1  â”‚       â”‚ 45H  â”‚
â”‚ (MVI) â”‚       â”‚       â”‚       â”‚        â”‚       â”‚       â”‚ â†’B   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜

Execution Time = 7 Ã— 325.5ns = 2.28 Î¼s
```

### 7.3 LDA 2050H (3-byte, 13 T-states)

```
LDA 2050H INSTRUCTION TIMING:

Machine Cycles: 4 (OF + MR + MR + MR)
T-states: 4 + 3 + 3 + 3 = 13

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   MC1 (OF)   â”‚  MC2 (MR) â”‚  MC3 (MR) â”‚  MC4 (MR) â”‚
â”‚  4 T-states  â”‚3 T-states â”‚3 T-states â”‚3 T-states â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Fetch 3AH    â”‚ Fetch 50H â”‚ Fetch 20H â”‚Read M[2050]â”‚
â”‚ (LDA opcode) â”‚ (Low addr)â”‚(High addr)â”‚   â†’ A     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

DETAILED TIMING:

MC1: Opcode Fetch
  T1: PC â†’ Address bus
  T2: ALEâ†“, RDÌ„â†“
  T3: Read opcode (3AH)
  T4: Decode LDA

MC2: Memory Read (Low address byte)
  T1: PC+1 â†’ Address bus
  T2: RDÌ„â†“
  T3: Read 50H â†’ Temp register

MC3: Memory Read (High address byte)  
  T1: PC+2 â†’ Address bus
  T2: RDÌ„â†“
  T3: Read 20H â†’ Temp register

MC4: Memory Read (Data)
  T1: 2050H â†’ Address bus
  T2: RDÌ„â†“
  T3: Read data â†’ Accumulator

Execution Time = 13 Ã— 325.5ns = 4.23 Î¼s
```

### 7.4 STA 3000H (3-byte, 13 T-states)

```
STA 3000H INSTRUCTION TIMING:

Machine Cycles: 4 (OF + MR + MR + MW)
T-states: 4 + 3 + 3 + 3 = 13

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   MC1 (OF)   â”‚  MC2 (MR) â”‚  MC3 (MR) â”‚  MC4 (MW) â”‚
â”‚  4 T-states  â”‚3 T-states â”‚3 T-states â”‚3 T-states â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Fetch 32H    â”‚ Fetch 00H â”‚ Fetch 30H â”‚Write A â†’  â”‚
â”‚ (STA opcode) â”‚ (Low addr)â”‚(High addr)â”‚  M[3000H] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

MC4 is Memory Write (not Read)
WRÌ„ active instead of RDÌ„
```

---

## 8. Instruction Cycle Calculation

### 8.1 General Formula

```
INSTRUCTION TIMING FORMULA:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                  â”‚
â”‚   Execution Time = (Number of T-states) Ã— (T-state period)     â”‚
â”‚                                                                  â”‚
â”‚   T-state period = 1 / Clock Frequency                          â”‚
â”‚                                                                  â”‚
â”‚   For 8085 at 3.072 MHz:                                        â”‚
â”‚   T = 1 / 3.072 MHz = 325.5 ns                                  â”‚
â”‚                                                                  â”‚
â”‚   For 8085-2 at 5 MHz:                                          â”‚
â”‚   T = 1 / 5 MHz = 200 ns                                        â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 8.2 Common Instruction Timing Reference

| Instruction | Bytes | M-Cycles | T-States | Description |
|-------------|-------|----------|----------|-------------|
| MOV r1, r2 | 1 | 1 | 4 | Register to register |
| MOV r, M | 1 | 2 | 7 | Memory to register |
| MOV M, r | 1 | 2 | 7 | Register to memory |
| MVI r, data | 2 | 2 | 7 | Immediate to register |
| MVI M, data | 2 | 3 | 10 | Immediate to memory |
| LXI rp, data16 | 3 | 3 | 10 | 16-bit immediate |
| LDA addr | 3 | 4 | 13 | Load A direct |
| STA addr | 3 | 4 | 13 | Store A direct |
| LHLD addr | 3 | 5 | 16 | Load HL direct |
| SHLD addr | 3 | 5 | 16 | Store HL direct |
| ADD r | 1 | 1 | 4 | Add register |
| ADD M | 1 | 2 | 7 | Add memory |
| PUSH rp | 1 | 3 | 12 | Push to stack |
| POP rp | 1 | 3 | 10 | Pop from stack |
| JMP addr | 3 | 3 | 10 | Unconditional jump |
| CALL addr | 3 | 5 | 18 | Subroutine call |
| RET | 1 | 3 | 10 | Return |
| IN port | 2 | 3 | 10 | Input from port |
| OUT port | 2 | 3 | 10 | Output to port |

---

## 9. Timing Diagram Analysis

### 9.1 Signal Relationship Summary

```
SIGNAL TIMING RELATIONSHIPS:

         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                    ONE MACHINE CYCLE                  â”‚
         â”‚  T1          T2          T3          (T4 for OF)     â”‚
         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
CLK      â”‚  â”Œâ”€â”€â”€â”  â”‚  â”Œâ”€â”€â”€â”  â”‚  â”Œâ”€â”€â”€â”  â”‚  â”Œâ”€â”€â”€â”  â”‚          â”‚
         â”‚  â”‚   â”‚  â”‚  â”‚   â”‚  â”‚  â”‚   â”‚  â”‚  â”‚   â”‚  â”‚          â”‚
         â”‚â”€â”€â”˜   â””â”€â”€â”‚â”€â”€â”˜   â””â”€â”€â”‚â”€â”€â”˜   â””â”€â”€â”‚â”€â”€â”˜   â””â”€â”€â”‚          â”‚
         â”‚         â”‚         â”‚         â”‚         â”‚          â”‚
ALE      â”‚    â”Œâ”€â”€â”€â”€â”¤         â”‚         â”‚         â”‚          â”‚
         â”‚â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚          â”‚
         â”‚         â”‚         â”‚         â”‚         â”‚          â”‚
A15-A8   â”‚â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”‚
         â”‚    Valid Address (High byte)                      â”‚
         â”‚         â”‚         â”‚         â”‚         â”‚          â”‚
AD7-AD0  â”‚â•â•â•â•¤â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¤â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”‚
         â”‚ Loâ”‚     Float     â”‚    Data Valid              â”‚
         â”‚Adrâ”‚               â”‚                            â”‚
         â”‚         â”‚         â”‚         â”‚         â”‚          â”‚
RDÌ„/WRÌ„   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”                        â”Œâ”€â”‚          â”‚
         â”‚   High  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚          â”‚
         â”‚         â”‚        Active (Low)          â”‚          â”‚
         â”‚         â”‚         â”‚         â”‚         â”‚          â”‚
IO/MÌ„    â”‚â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”‚
         â”‚    Valid Status                                   â”‚
         â”‚         â”‚         â”‚         â”‚         â”‚          â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

TIMING RULES:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. ALE rises at start of T1
2. ALE falls at end of T1 (address latched)
3. RDÌ„/WRÌ„ goes active during T2
4. Data valid during T3
5. RDÌ„/WRÌ„ deactivates at end of T3
6. T4 present only in Opcode Fetch
```

---

## ğŸ“‹ Summary Table

| Machine Cycle | T-States | Status (S1,S0) | IO/MÌ„ | Active Signal |
|---------------|----------|----------------|-------|---------------|
| Opcode Fetch | 4 or 6 | 1,1 | 0 | RDÌ„ |
| Memory Read | 3 | 1,0 | 0 | RDÌ„ |
| Memory Write | 3 | 0,1 | 0 | WRÌ„ |
| I/O Read | 3 | 1,0 | 1 | RDÌ„ |
| I/O Write | 3 | 0,1 | 1 | WRÌ„ |
| Interrupt Ack | 6 | 1,1 | 1 | INTA |

---

## â“ Quick Revision Questions

1. **What is a T-state? How is it related to clock frequency?**
   <details>
   <summary>Show Answer</summary>
   A T-state is one clock cycle - the smallest timing unit in the 8085. T-state period = 1/Clock frequency. At 3.072 MHz, T = 325.5 ns. At 5 MHz (8085-2), T = 200 ns.
   </details>

2. **Why does Opcode Fetch have 4 T-states while Memory Read has only 3?**
   <details>
   <summary>Show Answer</summary>
   Opcode Fetch needs an extra T-state (T4) for decoding the opcode and preparing for execution. Memory Read only transfers data without any decoding, so 3 T-states suffice.
   </details>

3. **How many machine cycles does LDA 2050H require? Explain each.**
   <details>
   <summary>Show Answer</summary>
   4 machine cycles: MC1 (OF): Fetch opcode 3AH. MC2 (MR): Fetch low address byte 50H. MC3 (MR): Fetch high address byte 20H. MC4 (MR): Read data from address 2050H into accumulator.
   </details>

4. **What is the purpose of the ALE signal?**
   <details>
   <summary>Show Answer</summary>
   ALE (Address Latch Enable) is used to demultiplex the AD7-AD0 bus. When ALE is HIGH (T1), address is valid on AD7-AD0. External latch (74LS373) captures address on ALE falling edge, freeing the bus for data in T2-T3.
   </details>

5. **How are wait states inserted and why are they needed?**
   <details>
   <summary>Show Answer</summary>
   Wait states are inserted when READY signal is LOW during T2 falling edge. TW states extend the machine cycle. Needed for slow memory/I/O devices that cannot provide data within normal timing.
   </details>

6. **Calculate execution time for CALL 3000H at 3 MHz clock.**
   <details>
   <summary>Show Answer</summary>
   CALL requires 5 machine cycles, 18 T-states. T-state period = 1/3MHz = 333.3 ns. Execution time = 18 Ã— 333.3 ns = 6 Î¼s.
   </details>

---

## ğŸ§­ Navigation

| Previous | Up | Next |
|----------|-----|------|
| [2.4 Addressing Modes](04-addressing-modes.md) | [Unit 2 Index](README.md) | [2.6 Interrupts](06-interrupts.md) |

---

*[â† Previous: Addressing Modes](04-addressing-modes.md) | [Next: Interrupts â†’](06-interrupts.md)*
